import{f as Ne,h as Ve,d as W,_ as r,s as d,u as ee,m as pe,i as He,b as ae,j as $e,e as je}from"./index.DSqmL29l.js";import{C as me,a as fe}from"./Index.Zh8Rb2IM.js";import{o as c,c as S,e as _e,j as R,r as u,g as a,F as $,f as te,h as w,w as k,t as h,d as g,l as E,a as p,n as q,O as ze,P as We,z as J,i as ce}from"./runtime-dom.esm-bundler.B6m80oiY.js";import{u as ke}from"./LicenseUpgrade.BsG_D8qF.js";import{B as be,_ as Ge,C as Qe,a as Se,S as Ke,u as Je,b as Ze,E as Xe,I as et,L as tt,c as st}from"./LinksTable.CCWuGEQr.js";import{S as we,a as rt}from"./Close._IlvV38B.js";import{C as ve}from"./datetime.BBR3Qyzf.js";import{C as oe,_ as ot}from"./Button.DPCVwz2Z.js";import{C as nt,S as it}from"./QuestionMark.Cl0YQD9w.js";import{R as lt,a as at,G as ye,b as Re}from"./constants.BF-bY72D.js";import{S as ct}from"./Close.Dw9cx0sg.js";import{C as ut}from"./Card.CATEeVQX.js";import{i as dt,b as ht,S as ue,a as gt,u as Le,c as V,s as N,l as G,d as Q,e as Ue,f as ne,g as pt,h as mt,j as ft,k as _t}from"./Gear.BGn2xm3l.js";import{d as Ce}from"./debounce.DK1RwK91.js";import{B as kt}from"./Checkbox.BkeyqZr6.js";import{_ as P}from"./_plugin-vue_export-helper.BN1snXvA.js";import{S as bt}from"./External.Cpov7CPi.js";import{S as ie}from"./Check.CMZaWYUb.js";import{T as St}from"./Slide.DLGyHPNo.js";import{u as Te}from"./LicenseStore._Dzt6Lww.js";import"./Row.BuZ4juxt.js";import"./numbers.CsklggSJ.js";import"./Caret.CGrxVdBz.js";const wt=Ne("RedirectsStore",{actions:{getRedirectUrl(e){return Ve.post(W.restUrl("redirects/url")).send({linkStatusUrl:e}).then(t=>{if(!t.body.success)throw console.error("Could not get redirect URL."),new Error;return t.body.redirectUrl})}}});var vt="[object Symbol]";function yt(e){return typeof e=="symbol"||dt(e)&&ht(e)==vt}function Rt(e,t){for(var s=-1,o=e==null?0:e.length,n=Array(o);++s<o;)n[s]=t(e[s],s,e);return n}var Lt=1/0,de=ue?ue.prototype:void 0,he=de?de.toString:void 0;function xe(e){if(typeof e=="string")return e;if(gt(e))return Rt(e,xe)+"";if(yt(e))return he?he.call(e):"";var t=e+"";return t=="0"&&1/e==-Lt?"-0":t}function Ae(e){return e==null?"":xe(e)}function Ut(e,t,s){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),s=s>n?n:s,s<0&&(s+=n),n=t>s?0:s-t>>>0,t>>>=0;for(var i=Array(n);++o<n;)i[o]=e[o+t];return i}function Ct(e,t,s){var o=e.length;return s=s===void 0?o:s,!t&&s>=o?e:Ut(e,t,s)}var Tt="\\ud800-\\udfff",xt="\\u0300-\\u036f",At="\\ufe20-\\ufe2f",Pt="\\u20d0-\\u20ff",Ot=xt+At+Pt,It="\\ufe0e\\ufe0f",Et="\\u200d",Mt=RegExp("["+Et+Tt+Ot+It+"]");function Pe(e){return Mt.test(e)}function Bt(e){return e.split("")}var Oe="\\ud800-\\udfff",Dt="\\u0300-\\u036f",Ft="\\ufe20-\\ufe2f",qt="\\u20d0-\\u20ff",Yt=Dt+Ft+qt,Nt="\\ufe0e\\ufe0f",Vt="["+Oe+"]",se="["+Yt+"]",re="\\ud83c[\\udffb-\\udfff]",Ht="(?:"+se+"|"+re+")",Ie="[^"+Oe+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="\\u200d",Be=Ht+"?",De="["+Nt+"]?",jt="(?:"+$t+"(?:"+[Ie,Ee,Me].join("|")+")"+De+Be+")*",zt=De+Be+jt,Wt="(?:"+[Ie+se+"?",se,Ee,Me,Vt].join("|")+")",Gt=RegExp(re+"(?="+re+")|"+Wt+zt,"g");function Qt(e){return e.match(Gt)||[]}function Kt(e){return Pe(e)?Qt(e):Bt(e)}function Jt(e){return function(t){t=Ae(t);var s=Pe(t)?Kt(t):void 0,o=s?s[0]:t.charAt(0),n=s?Ct(s,1).join(""):t.slice(1);return o[e]()+n}}var Zt=Jt("toUpperCase"),Fe=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(Fe.source);function es(e){return e=Ae(e),e&&Xt.test(e)?e.replace(Fe,"\\$&"):e}const ts=(e,t=null)=>{try{e=JSON.parse(e)}catch{e=t}return e},ge={individual:0,business:1,agency:2,basic:3,plus:4,pro:5,elite:6},le=(e="")=>{var i,m;const t=Le(),o=V().aioseo.data.isNetworkLicensed&&!t.options.general.licenseKey?((i=t.internalNetworkOptions.internal.license)==null?void 0:i.features)||[]:((m=t.internalOptions.internal.license)==null?void 0:m.features)||[];let n=ts(o,[]);return e&&(n=n[e]||[]),n},ss=(e,t=null)=>{const s=le("core");for(const o in s)if(e===o&&!t||e===o&&s[o].find(n=>n===t||-1<n.indexOf(t)))return!0;return!1},rs=(e,t)=>{const s=le("addons");for(const o in s)if(e===o&&s[o].includes(t))return!0;return!1},os=e=>{var n,i;const t=Le(),o=V().aioseo.data.isNetworkLicensed&&!t.options.general.licenseKey?(n=t.internalNetworkOptions.internal.license)==null?void 0:n.level:(i=t.internalOptions.internal.license)==null?void 0:i.level;return o?ge[o]>=ge[e]:!1},ns=(e,t="")=>{const s=[];V().aioseo.features.forEach(i=>{i.section===e&&(t&&i.feature!==t||s.push(Zt(i.license_level)))});const n=["Basic","Plus","Pro","Elite"];return s.sort((i,m)=>n.indexOf(i)-n.indexOf(m)),[...new Set(s)]},is={getFeatures:le,getPlansForFeature:ns,hasAddonFeature:rs,hasCoreFeature:ss,hasMinimumLevel:os},ls=function(e,t){if(typeof e!="string")return e;const s=new RegExp("^"+t.replace(/\/$/,""),"i");return e.replace(s,"")},F="broken-link-checker-seo",as=()=>({redirectHasUnPublishedPost:s=>s.post_id&&s.postStatus!=="publish",validateRedirect:s=>{const o=[];if(!s.url.url)return o;if(s.url.regex)try{new RegExp(s.url.url)}catch{return o.push(r("The regex syntax is invalid.",F)),o}if(!s.url.regex&&!N(s.url.url))return o.push(r("Your URL is invalid.",F)),o;s.url.url.substr(0,4)==="http"&&o.push(r("Please enter a valid relative source URL.",F));const n=/%[a-zA-Z_]+%/,i=/%[0-9A-Fa-f]{2}/;if(s.url.url.match(n)&&!s.url.url.match(i)&&o.push(r("Permalinks are not currently supported.",F)),(s.url.url==="/(.*)"||s.url.url==="^/(.*)")&&o.push(r("This redirect is supported using the Relocate Site feature under Full Site Redirect tab.",F)),s.url.url&&s.url.url.length&&s.targetUrl&&s.targetUrl.length){let _=s.url.ignoreSlash?G.unTrailingSlashIt(s.url.url):s.url.url,f=s.url.ignoreSlash?G.unTrailingSlashIt(s.targetUrl):s.targetUrl;_=s.url.ignoreCase?_.toLowerCase():_,f=s.url.ignoreCase?f.toLowerCase():f,s.url.regex||(_=_.replace(/#.*?$/,"")),f=f.replace(/#.*?$/,""),(_===f||s.url.regex&&f.match(_))&&o.push(r("Your source is the same as a target and this will create a loop.",F))}const m=Q();if(0<(m==null?void 0:m.protectedPaths.length)){const _=m.protectedPaths.map(f=>f.replace(/\/$/,""));s.url.url.match(new RegExp("^("+_.join("|")+")"))&&o.push(r("Your source is a protected path and cannot be redirected.",F))}return o}}),cs={},us={class:"aioseo-pro-badge"};function ds(e,t){return c(),S("div",us,[_e(e.$slots,"default",{},()=>[R(" PRO ")])])}const hs=P(cs,[["render",ds]]),Z="broken-link-checker-seo",gs={emits:["set-url"],components:{CoreProBadge:hs,SvgExternal:bt},props:{results:{type:Array,required:!0},url:String},data(){return{strings:{DRAFT:r("DRAFT",Z),PENDING:r("PENDING",Z),FUTURE:r("FUTURE",Z)}}},methods:{getOptionTitle(e){e=N(e);const t=N(this.url),s=new RegExp(`(${es(t)})`,"gi");return e.replace(s,'<span class="search-term">$1</span>')},getStatusLabel(e){switch(e.toLowerCase()){case"draft":return this.strings.DRAFT;case"future":return this.strings.FUTURE;case"pending":return this.strings.PENDING}}}},ps={class:"aioseo-add-redirection-url-results"},ms=["onClick"],fs={class:"option"},_s={class:"option-title"},ks=["innerHTML"],bs={class:"option-details"},Ss=["href"];function ws(e,t,s,o,n,i){const m=u("core-pro-badge"),_=u("svg-external");return c(),S("div",ps,[a("ul",null,[(c(!0),S($,null,te(s.results,(f,U)=>(c(),S("li",{key:U,onClick:x=>e.$emit("set-url",f.link)},[a("span",null,[a("div",fs,[a("div",_s,[a("div",{innerHTML:i.getOptionTitle(f.label)},null,8,ks),f.status!=="publish"?(c(),w(m,{key:0},{default:k(()=>[R(h(i.getStatusLabel(f.status)),1)]),_:2},1024)):g("",!0)]),a("div",bs,[a("span",null,h(f.link),1)])]),a("a",{class:"option-permalink",href:f.link,target:"_blank",onClick:E(()=>{},["stop"])},[p(_)],8,Ss)])],8,ms))),128))])])}const qe=P(gs,[["render",ws]]),A="broken-link-checker-seo",vs={emits:["updated-url","remove-url","updated-option"],setup(){const{validateRedirect:e}=as(),{decodeUrl:t}=Ue();return{redirectsStore:Q(),rootStore:V(),validateRedirect:e,decodeUrl:t}},components:{BaseCheckbox:kt,BaseInput:be,CoreAddRedirectionUrlResults:qe,CoreAlert:ve,CoreLoader:oe,SvgCircleCheck:ie,SvgCircleClose:we,SvgCircleExclamation:ne,SvgGear:pt,SvgTrash:Ge,TransitionSlide:St},props:{url:{type:Object,default(){return{id:null,url:null,regex:!1,ignoreSlash:!0,ignoreCase:!0,errors:[],warnings:[]}}},allowDelete:Boolean,targetUrl:String,log404:Boolean,disableSource:Boolean,disableSearch:Boolean},data(){return{showResults:!1,isLoading:!1,showOptions:!1,strings:{ignoreSlash:r("Ignore Slash",A),ignoreCase:r("Ignore Case",A),regex:r("Regex",A)},results:[]}},watch:{targetUrl(){this.updateSourceUrl(this.url.url)}},computed:{maybeRegex(){return this.url.url.match(/[*\\()[\]^$]/)!==null||this.url.url.indexOf(".?")!==-1},iffyUrl(){if(!this.url.url||this.disableSource)return[];const e=[];return this.url.url.substr(0,4)!=="http"&&this.url.url.substr(0,1)!=="/"&&0<this.url.url.length&&!this.url.regex&&e.push(d(r("The source URL should probably start with a %1$s",A),"<code>/</code>")),this.url.url.indexOf("#")!==-1&&e.push(r("Anchor values are not sent to the server and cannot be redirected.",A)),!this.log404&&this.maybeRegex&&!this.url.regex&&e.push(d(r("Remember to enable the %1$s option if this is a regular expression.",A),"<code>Regex</code>")),this.url.regex&&(this.url.url.indexOf("^")===-1&&this.url.url.indexOf("$")===-1&&e.push(d(r("To prevent a greedy regular expression you can use %1$s to anchor it to the start of the URL. For example: %2$s",A),"<code>^/</code>","<code>^/"+N(this.url.url.replace(/^\//,""))+"</code>")),0<this.url.url.indexOf("^")&&e.push(d(r("The caret %1$s should be at the start. For example: %2$s",A),"<code>^/</code>","<code>^/"+N(this.url.url.replace("^","").replace(/^\//,""))+"</code>")),this.url.url.indexOf("^")===0&&this.url.url.indexOf("^/")===-1&&e.push(d(r("The source URL should probably start with a %1$s",A),"<code>^/</code>")),this.url.url.length-1!==this.url.url.indexOf("$")&&this.url.url.indexOf("$")!==-1&&e.push(d(r("The dollar symbol %1$s should be at the end. For example: %2$s",A),"<code>$</code>","<code>"+N(this.url.url.replace(/\$/g,""))+"$</code>"))),this.url.url.match(/(\.html|\.htm|\.php|\.pdf|\.jpg)$/)!==null&&e.push(r("Some servers may be configured to serve file resources directly, preventing a redirect occurring.",A)),e},urlOptionsActive(){return this.url.regex||this.showOptions}},methods:{updateSourceUrl(e){!this.disableSource&&e&&(e&&(e=e.replace(/(https?:\/)(\/)+|(\/)+/g,"$1$2$3")),!this.url.regex&&e.startsWith("/")&&(e=e.replace(/\s+/g,"")),e=ls(e,this.rootStore.aioseo.urls.home)),this.url.url=e,this.url.errors=this.validateRedirect(this),this.url.warnings=this.iffyUrl,this.$emit("updated-url",this.url)},updateOption(e,t){this.url[e]=t,this.updateSourceUrl(this.url.url),this.$emit("updated-option",this.url)},searchChange(){if(!this.disableSearch){if(!this.url.url||this.url.regex){this.isLoading=!1,this.showResults=!1,this.results=[];return}if(this.url.url.startsWith("/")||this.url.url.startsWith("^")||this.url.url.startsWith("http:")||this.url.url.startsWith("https:")){this.isLoading=!1,this.showResults=!1,this.results=[];return}this.isLoading=!0,Ce(()=>{if(!this.url.url){this.isLoading=!1,this.showResults=!1,this.results=[];return}this.showResults=!0,this.ajaxSearch(this.url.url).then(()=>this.isLoading=!1)},500)}},ajaxSearch(e){return this.redirectsStore.getPosts({query:e}).then(t=>{this.results=t.body.objects})},setUrl(e){this.showResults=!1,this.updateOption("url",e.replace(this.rootStore.aioseo.urls.home,"",e))},documentClick(e){if(!this.showResults)return;const t=e&&e.target?e.target:null,s=this.$refs["redirect-source-url"];s&&s!==t&&!s.contains(t)&&(this.showResults=!1)}},mounted(){this.url.showOptions&&(this.showOptions=!0,this.updateSourceUrl(this.url.url)),document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)}},ys={class:"aioseo-redirect-source-url",ref:"redirect-source-url"},Rs={class:"append-icon"};function Ls(e,t,s,o,n,i){const m=u("svg-circle-close"),_=u("svg-circle-check"),f=u("svg-circle-exclamation"),U=u("svg-gear"),x=u("svg-trash"),O=u("core-loader"),C=u("base-input"),M=u("core-add-redirection-url-results"),B=u("base-checkbox"),D=u("transition-slide"),Y=u("core-alert");return c(),S("div",ys,[p(C,{modelValue:o.decodeUrl(s.url.url),"onUpdate:modelValue":t[2]||(t[2]=v=>i.updateSourceUrl(o.decodeUrl(v))),onKeyup:i.searchChange,onFocus:t[3]||(t[3]=v=>n.showResults=!0),disabled:s.log404||s.disableSource,size:"medium",placeholder:"/source-page/",class:q({"aioseo-error":s.url.errors.length,"aioseo-active":!s.url.errors.length&&!s.url.warnings.length&&s.url.url,"aioseo-warning":s.url.warnings.length})},{"append-icon":k(()=>[a("div",Rs,[n.isLoading?g("",!0):(c(),S($,{key:0},[s.url.errors.length?(c(),w(m,{key:0})):g("",!0),!s.url.errors.length&&!s.url.warnings.length&&s.url.url?(c(),w(_,{key:1})):g("",!0),s.url.warnings.length?(c(),w(f,{key:2})):g("",!0),p(U,{class:q({active:i.urlOptionsActive}),onClick:t[0]||(t[0]=v=>n.showOptions=!n.showOptions)},null,8,["class"]),s.allowDelete?(c(),w(x,{key:3,onClick:t[1]||(t[1]=v=>e.$emit("remove-url"))})):g("",!0)],64)),n.isLoading?(c(),w(O,{key:1,dark:""})):g("",!0)])]),_:1},8,["modelValue","onKeyup","disabled","class"]),!s.url.regex&&n.showResults&&n.results.length?(c(),w(M,{key:0,results:n.results,url:s.url.url,onSetUrl:i.setUrl},null,8,["results","url","onSetUrl"])):g("",!0),s.log404?g("",!0):_e(e.$slots,"source-url-description",{key:1}),p(D,{active:n.showOptions,class:"source-url-options"},{default:k(()=>[p(B,{size:"medium",modelValue:s.url.ignoreSlash,"onUpdate:modelValue":t[4]||(t[4]=v=>i.updateOption("ignoreSlash",v))},{default:k(()=>[R(h(n.strings.ignoreSlash),1)]),_:1},8,["modelValue"]),p(B,{size:"medium",modelValue:s.url.ignoreCase,"onUpdate:modelValue":t[5]||(t[5]=v=>i.updateOption("ignoreCase",v))},{default:k(()=>[R(h(n.strings.ignoreCase),1)]),_:1},8,["modelValue"]),!s.log404&&!s.disableSource?(c(),w(B,{key:0,size:"medium",modelValue:s.url.regex,"onUpdate:modelValue":t[6]||(t[6]=v=>i.updateOption("regex",v))},{default:k(()=>[R(h(n.strings.regex),1)]),_:1},8,["modelValue"])):g("",!0)]),_:1},8,["active"]),p(D,{active:!!s.url.errors.length},{default:k(()=>[(c(!0),S($,null,te(s.url.errors,(v,b)=>(c(),w(Y,{key:b,class:"source-url-error",type:"red",size:"small",innerHTML:v},null,8,["innerHTML"]))),128))]),_:1},8,["active"]),p(D,{active:!!s.url.warnings.length},{default:k(()=>[(c(!0),S($,null,te(s.url.warnings,(v,b)=>(c(),w(Y,{key:b,class:"source-url-warning",type:"yellow",size:"small",innerHTML:v},null,8,["innerHTML"]))),128))]),_:1},8,["active"])],512)}const Us=P(vs,[["render",Ls]]),Cs={setup(){const{decodeUrl:e}=Ue();return{postEditorStore:mt(),redirectsStore:Q(),rootStore:V(),decodeUrl:e}},components:{BaseInput:be,CoreAddRedirectionUrlResults:qe,CoreLoader:oe,SvgCircleCheck:ie,SvgCircleClose:we,SvgCircleExclamation:ne},props:{url:String,errors:Array,warnings:Array,disableSearch:Boolean},data(){return{showResults:!1,isLoading:!1,value:null,results:[]}},watch:{value(){this.value&&(this.value=this.value.replace(/(https?:\/)(\/)+|(\/)+/g,"$1$2$3"),this.value.startsWith("/")&&(this.value=this.value.replace(/\s+/g,"")))},url:{immediate:!0,handler(){this.value=this.url}}},methods:{onBlur(){setTimeout(()=>{this.$emit("update:modelValue",this.value)},150)},searchChange(){if(!this.disableSearch){if(!this.value){this.isLoading=!1,this.showResults=!1,this.results=[];return}if(this.value.startsWith("/")||this.value.startsWith("http:")||this.value.startsWith("https:")){this.isLoading=!1,this.showResults=!1,this.results=[];return}this.isLoading=!0,Ce(()=>{if(!this.value){this.isLoading=!1,this.showResults=!1,this.results=[];return}this.showResults=!0,this.ajaxSearch(this.value).then(()=>this.isLoading=!1)},500)}},ajaxSearch(e){return this.redirectsStore.getPosts({query:e,postId:this.postEditorStore.currentPost.id}).then(t=>{this.results=t.body.objects})},setUrl(e){this.showResults=!1,this.value=e.replace(this.rootStore.aioseo.urls.home,"",e),this.$emit("update:modelValue",this.value)},inputEventDecodeUrl(e){this.value="",this.value=this.decodeUrl(e)},documentClick(e){if(!this.showResults)return;const t=e&&e.target?e.target:null,s=this.$refs["redirect-target-url"];s&&s!==t&&!s.contains(t)&&(this.showResults=!1)}},mounted(){document.addEventListener("click",this.documentClick);const e=document.querySelector("#aioseo-modal-portal .modal-wrapper");e&&e.addEventListener("click",this.documentClick);const t=document.querySelector("#main-settings-cont");t&&t.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick);const e=document.querySelector("#aioseo-modal-portal .modal-wrapper");e&&e.removeEventListener("click",this.documentClick);const t=document.querySelector("#main-settings-cont");t&&t.removeEventListener("click",this.documentClick)}},Ts={class:"aioseo-add-redirection-target-url",ref:"redirect-target-url"},xs={class:"append-icon"};function As(e,t,s,o,n,i){const m=u("svg-circle-close"),_=u("svg-circle-check"),f=u("svg-circle-exclamation"),U=u("core-loader"),x=u("base-input"),O=u("core-add-redirection-url-results");return c(),S("div",Ts,[p(x,{modelValue:n.value,"onUpdate:modelValue":[t[0]||(t[0]=C=>n.value=C),t[2]||(t[2]=C=>e.$emit("update:modelValue",o.decodeUrl(n.value)))],onKeyup:i.searchChange,onFocus:t[1]||(t[1]=C=>n.showResults=!0),onInput:t[3]||(t[3]=C=>i.inputEventDecodeUrl(C.target.value)),size:"medium",placeholder:"/target-page/",class:q({"aioseo-error":s.errors.length,"aioseo-active":!s.errors.length&&!s.warnings.length&&s.url,"aioseo-warning":s.warnings.length})},{"append-icon":k(()=>[a("div",xs,[n.isLoading?g("",!0):(c(),S($,{key:0},[s.errors.length?(c(),w(m,{key:0})):g("",!0),!s.errors.length&&!s.warnings.length&&s.url?(c(),w(_,{key:1})):g("",!0),s.warnings.length?(c(),w(f,{key:2})):g("",!0)],64)),n.isLoading?(c(),w(U,{key:1,dark:""})):g("",!0)])]),_:1},8,["modelValue","onKeyup","class"]),n.showResults&&n.results.length?(c(),w(O,{key:0,results:n.results,url:n.value,onSetUrl:i.setUrl},null,8,["results","url","onSetUrl"])):g("",!0)],512)}const Ps=P(Cs,[["render",As]]),Os={},Is={width:"36",height:"16",viewBox:"0 0 36 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-right-arrow"},Es=a("path",{d:"M36 8L28.4211 0.5V6.125H0V9.875H28.4211V15.5L36 8Z",fill:"currentColor"},null,-1),Ms=[Es];function Bs(e,t){return c(),S("svg",Is,Ms)}const Ds=P(Os,[["render",Bs]]),L="broken-link-checker-seo",Fs={setup(){return{license:is,links:G,softSanitizeHtml:ft,redirectsStore:Q(),rootStore:V(),licenseStore:_t()}},components:{BaseButton:ot,CoreAddRedirectionUrl:Us,CoreAddRedirectionTargetUrl:Ps,SvgRightArrow:Ds},data(){return{strings:{sourceUrl:r("Source URL",L),sourceUrlDescription:d(r("Enter a relative URL to redirect from or start by typing in page or post title, slug or ID. You can also use regex (%1$s)",L),G.getDocLink(r("what's this?",L),"redirectManagerRegex")),targetUrl:r("Target URL",L),targetUrlDescription:r("Enter a URL or start by typing a page or post title, slug or ID.",L),addUrl:r("Add URL",L),addRedirect:r("Add Redirect",L),advancedSettings:r("Advanced Settings",L)},REDIRECT_TYPES:lt,REDIRECT_QUERY_PARAMS:at}},computed:{sourceUrl(){return{id:null,url:null,regex:!1,ignoreSlash:!1,ignoreCase:!1,errors:[],warnings:[],showOptions:!0}},columns(){return[{slug:"source_url",label:r("Source URL",L)},{slug:"target_url",label:r("Target URL",L)},{slug:"hits",label:r("Hits",L),width:"97px"},{slug:"type",label:r("Type",L),width:"100px"},{slug:"group",label:r("Group",L),width:"150px"},{slug:"enabled",label:ye.enabled,width:"80px"}]},additionalFilters(){return[{label:r("Filter by Group",L),name:"group",options:[{label:r("All Groups",L),value:"all"}].concat(Re)}]}}},j=e=>(ze("data-v-07416ee2"),e=e(),We(),e),qs={class:"aioseo-add-redirection"},Ys={class:"urls"},Ns={class:"source"},Vs={class:"aioseo-settings-row no-border no-margin small-padding"},Hs={class:"settings-name"},$s={class:"name small-margin"},js={class:"url-arrow"},zs={class:"target"},Ws={class:"aioseo-settings-row no-border no-margin small-padding"},Gs={class:"settings-name"},Qs={class:"name small-margin"},Ks={class:"url"},Js={class:"aioseo-description"},Zs=j(()=>a("div",{class:"break"},null,-1)),Xs={class:"source"},er=["innerHTML"],tr=j(()=>a("div",{class:"url-arrow"},null,-1)),sr=j(()=>a("div",{class:"target"},null,-1)),rr=j(()=>a("hr",{class:"aioseo-add-redirection__separator"},null,-1)),or={class:"aioseo-add-redirection__settings"},nr=j(()=>a("hr",{class:"aioseo-add-redirection__separator"},null,-1)),ir={class:"aioseo-add-redirection__actions"};function lr(e,t,s,o,n,i){const m=u("core-add-redirection-url"),_=u("base-button"),f=u("svg-right-arrow"),U=u("core-add-redirection-target-url"),x=u("base-toggle");return c(),S("div",qs,[a("div",Ys,[a("div",Ns,[a("div",Vs,[a("div",Hs,[a("div",$s,h(n.strings.sourceUrl),1)]),p(m,{url:i.sourceUrl,"allow-delete":!1,onRemoveUrl:()=>{},"disable-search":!0},null,8,["url"]),p(_,{size:"small",type:"gray",onClick:()=>{}},{default:k(()=>[R(h(n.strings.addUrl),1)]),_:1})])]),a("div",js,[p(f)]),a("div",zs,[a("div",Ws,[a("div",Gs,[a("div",Qs,h(n.strings.targetUrl),1)]),a("div",Ks,[p(U,{url:"",errors:[],warnings:[],"onUpdate:modelValue":()=>{},"disable-search":!0}),a("div",Js,h(n.strings.targetUrlDescription),1)])])]),Zs,a("div",Xs,[a("div",{class:"aioseo-description source-description",innerHTML:o.softSanitizeHtml(n.strings.sourceUrlDescription)},null,8,er)]),tr,sr]),rr,a("div",or,[p(x,{modelValue:!1}),a("span",null,h(n.strings.advancedSettings),1)]),nr,a("div",ir,[p(_,{size:"medium",type:"blue",onClick:()=>{},disabled:!0},{default:k(()=>[R(h(n.strings.addRedirect),1)]),_:1})])])}const ar=P(Fs,[["render",lr],["__scopeId","data-v-07416ee2"]]),y="broken-link-checker-seo",cr={emits:["closeModal","doAction"],setup(){return{strings:{ctaHeader:r("Unlock AIOSEO Redirects on Your Site",y),serverRedirects:r("Fast Server Redirects",y),automaticRedirects:r("Automatic Redirects",y),redirectMonitoring:r("Redirect Monitoring",y),monitoring404:r("404 Monitoring",y),fullSiteRedirects:r("Full Site Redirects",y),siteAliases:r("Site Aliases",y),ctaDescription:r("Redirection Manager by AIOSEO is a premium addon that lets you easily create redirects for broken links to avoid confusing search engines & users and prevent losing backlinks.",y),unlockNow:r("Unlock Redirects",y),addNewRedirection:r("Add New Redirect",y),searchUrls:r("Search URLs",y)}}},components:{CoreModal:Qe,CoreBlur:me,CoreCard:ut,CoreWpTable:Se,Cta:fe,SvgClose:ct,UpsellAddRedirection:ar},props:{show:Boolean},computed:{columns(){return[{slug:"source_url",label:r("Source URL",y)},{slug:"target_url",label:r("Target URL",y)},{slug:"hits",label:r("Hits",y),width:"97px"},{slug:"type",label:r("Type",y),width:"100px"},{slug:"group",label:r("Group",y),width:"150px"},{slug:"enabled",label:ye.enabled,width:"80px"}]},additionalFilters(){return[{label:r("Filter by Group",y),name:"group",options:[{label:r("All Groups",y),value:"all"}].concat(Re)}]}}},ur={class:"aioseo-modal-body"},dr={class:q({"aioseo-redirects":!0,"core-card":!1})};function hr(e,t,s,o,n,i){const m=u("svg-close"),_=u("upsell-add-redirection"),f=u("core-card"),U=u("core-blur"),x=u("core-wp-table"),O=u("cta"),C=u("core-modal");return c(),w(C,{show:s.show,classes:["aioseo-blc-redirects-cta-modal"],"no-header":"",onClose:t[2]||(t[2]=M=>e.$emit("closeModal",!0))},{body:k(()=>[a("div",ur,[a("button",{class:"close",onClick:t[1]||(t[1]=E(M=>e.$emit("closeModal",!0),["stop"]))},[p(m,{onClick:t[0]||(t[0]=M=>e.$emit("closeModal",!0))})]),a("div",dr,[p(U,null,{default:k(()=>[p(f,{slug:"addNewRedirection","header-text":o.strings.addNewRedirection,noSlide:!0},{default:k(()=>[p(_)]),_:1},8,["header-text"])]),_:1}),e.noCoreCard?g("",!0):(c(),w(U,{key:0},{default:k(()=>[p(x,{filters:[],totals:{total:0,pages:0,page:1},columns:i.columns,rows:[],"search-label":o.strings.searchUrls,"additional-filters":i.additionalFilters},null,8,["columns","search-label","additional-filters"])]),_:1})),p(O,{"cta-button-visible":!0,"cta-button-visible-warning":"testing","cta-link":"https://aioseo.com/pricing?utm_source=WordPress&utm_campaign=broken-link-checker&utm_medium=add-redirects-modal","align-top":"","button-text":o.strings.unlockNow,"feature-list":[o.strings.serverRedirects,o.strings.automaticRedirects,o.strings.redirectMonitoring,o.strings.monitoring404,o.strings.fullSiteRedirects,o.strings.siteAliases]},{"header-text":k(()=>[R(h(o.strings.ctaHeader),1)]),description:k(()=>[R(h(o.strings.ctaDescription),1)]),"learn-more-text":k(()=>[R(h(),1)]),_:1},8,["button-text","feature-list"])])])]),_:1},8,["show"])}const gr=P(cr,[["render",hr]]),z="broken-link-checker-seo",pr={setup(){return{licenseUpgradeComposable:ke(),optionsStore:ee()}},components:{SvgCircleCheck:ie,SvgCircleExclamation:ne,SvgCircleInfo:Ke},props:{row:{type:Object,required:!0}},data(){return{strings:pe({ok:r("This link is working perfectly!",z),warning:r("This link is working with a redirect.",z),broken:r("This link is broken!",z),pending:r("This link still needs to be checked.",z)},this.licenseUpgradeComposable.strings)}},computed:{isPending(){return parseInt(this.row.checked)===0},status(){return parseInt(this.row.scanning)===1||!this.row.last_scan_date?"pending":parseInt(this.row.broken)===1?"broken":0<parseInt(this.row.redirect_count)?"redirected":"ok"}}},mr={class:"status"},fr={key:0,class:"ok"},_r={key:1,class:"redirected"},kr={key:2,class:"broken"},br={key:3,class:"pending"},Sr=a("span",{class:"bullet"},"•",-1);function wr(e,t,s,o,n,i){const m=u("svg-circle-check"),_=u("svg-circle-info"),f=u("svg-circle-exclamation");return c(),S("div",mr,[i.status==="ok"?(c(),S("div",fr,[p(m),a("span",null,h(n.strings.ok),1)])):g("",!0),i.status==="redirected"?(c(),S("div",_r,[p(_),a("span",null,h(n.strings.warning),1)])):g("",!0),i.status==="broken"?(c(),S("div",kr,[p(f),a("span",null,h(n.strings.broken),1)])):g("",!0),i.status==="pending"?(c(),S("div",br,[Sr,a("span",null,h(n.strings.pending),1)])):g("",!0)])}const vr=P(pr,[["render",wr]]),l="broken-link-checker-seo",yr={setup(){const e=ee(),t=He(),s=ae(),o="brokenLinks",{filter:n,orderBy:i,orderDir:m,pageNumber:_,processChangeItemsPerPage:f,processFilterTable:U,processPagination:x,processSearch:O,processSort:C,resultsPerPage:M,searchTerm:B,wpTableKey:D,wpTableLoading:Y}=Je({changeItemsPerPageSlug:"brokenLinks",fetchData:t.fetchData,tableId:o}),v=J(()=>(e.internalOptions.internal.license.quotaRemaining/e.internalOptions.internal.license.quota*100).toFixed(2)),b=J(()=>0>=v.value?d(r("You have run out of link quota. %1$s to avoid scanning limits or interruptions.",l),d('<a href="%s" target="_blank">%s</a>',W.getPricingUrl("broken-links-report","links-quota-alert"),r("Upgrade to a higher plan",l))):d(r("You are approaching your link quota limit. %1$s to avoid scanning limits or interruptions.",l),d('<a href="%s" target="_blank">%s</a>',W.getPricingUrl("broken-links-report","links-quota-alert"),r("Upgrade to a higher plan",l)))),T=J(()=>s.aioseoBrokenLinkChecker.totalLinks>e.internalOptions.internal.license.quota),I=d(r("Your current link quota (%1$s) is lower than the number of links (%2$s) on your site. We recommend that you %3$s to ensure all links on your site are monitored. Otherwise, only the first %4$s links will be monitored.",l),parseInt(e.internalOptions.internal.license.quota).toLocaleString(),parseInt(s.aioseoBrokenLinkChecker.totalLinks).toLocaleString(),d('<a href="%s" target="_blank">%s</a>',W.getPricingUrl("broken-links-report","links-quota-lower-than-links-alert"),r("upgrade to a higher plan",l)),parseInt(e.internalOptions.internal.license.quota).toLocaleString());return{filter:n,licenseStore:Te(),licenseUpgradeComposable:ke(),linkStatusTableStore:t,optionsStore:ee(),orderBy:i,orderDir:m,pageNumber:_,processChangeItemsPerPage:f,processFilterTable:U,processPagination:x,processSearch:O,processSort:C,resultsPerPage:M,rootStore:ae(),searchTerm:B,settingsStore:$e(),tableId:o,wpTableKey:D,wpTableLoading:Y,allowed:rt,remainingQuotaPercentage:v,remainingQuotaAlert:b,quotaLowerThanLinks:T,quotaLowerThanLinksAlert:I}},components:{ConfirmationModal:Ze,CoreAlert:ve,CoreLoader:oe,CoreTooltip:nt,CoreWpTable:Se,EditRow:Xe,InfoColumn:et,LinksTable:tt,PostsColumn:st,RedirectsCtaModal:gr,StatusColumn:vr,SvgCircleQuestionMark:it},data(){return{loadingRowIndexes:[],confirmationModalOpen:!1,bulkRows:[],bulkAction:"",editRowAction:"",showUpsellModal:!1,strings:pe({editUrl:r("Edit URL",l),unlink:r("Unlink",l),check:r("Check",l),recheck:r("Recheck",l),dismiss:r("Dismiss",l),undismiss:r("Undismiss",l),addRedirect:r("Add Redirect",l),quotaTooltip:r("This is your links quota, which is reset every month. Every URL on your site that is actively monitored counts against your quota.",l),noResults:r("Scanning for links...",l),noPosts:r("You do not have sufficient permissions to edit any of the posts for this URL.",l)},this.licenseUpgradeComposable.strings),modal:{recheck:{areYouSureSingle:d(r("Are you sure you want to %1$s this URL?",l),r("(re)check",l)),areYouSureMultiple:d(r("Are you sure you want to %1$s these URLs?",l),r("(re)check",l)),yesSingle:d(r("Yes, I want to %1$s this URL",l),r("(re)check",l)),yesMultiple:d(r("Yes, I want to %1$s these URLs",l),r("(re)check",l)),actionCannotBeUndone:r("This action cannot be undone.",l),noChangedMind:r("No, I changed my mind",l)},dismiss:{areYouSureSingle:d(r("Are you sure you want to %1$s this URL?",l),r("dismiss",l)),areYouSureMultiple:d(r("Are you sure you want to %1$s these URLs?",l),r("dismiss",l)),yesSingle:d(r("Yes, I want to %1$s this URL",l),r("dismiss",l)),yesMultiple:d(r("Yes, I want to %1$s these URLs",l),r("dismiss",l)),actionCannotBeUndone:r("This action cannot be undone.",l),noChangedMind:r("No, I changed my mind",l)},undismiss:{areYouSureSingle:d(r("Are you sure you want to %1$s this URL?",l),r("undismiss",l)),areYouSureMultiple:d(r("Are you sure you want to %1$s these URLs?",l),r("undismiss",l)),yesSingle:d(r("Yes, I want to %1$s this URL",l),r("undismiss",l)),yesMultiple:d(r("Yes, I want to %1$s these URLs",l),r("undismiss",l)),actionCannotBeUndone:r("This action cannot be undone.",l),noChangedMind:r("No, I changed my mind",l)},unlink:{areYouSureSingle:d(r("Are you sure you want to %1$s this URL?",l),r("unlink",l)),areYouSureMultiple:d(r("Are you sure you want to %1$s these URLs?",l),r("unlink",l)),yesSingle:d(r("Yes, I want to %1$s this URL",l),r("unlink",l)),yesMultiple:d(r("Yes, I want to %1$s these URLs",l),r("unlink",l)),actionCannotBeUndone:r("This action cannot be undone.",l),noChangedMind:r("No, I changed my mind",l)}}}},watch:{wpTableLoading(e){e&&(this.loadingRowIndexes=[])}},computed:{tooltipText(){return d(r("To unlock a higher quota, consider %1$s.",l),this.link)},columns(){return[{slug:"url",label:r("URL",l),width:"400px",sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"posts",label:r("Posts",l),width:"400px"},{slug:"status",label:r("Status",l)},{slug:"info",width:"140px",label:this.optionsStore.internalOptions.internal.quota+"/200",show:!0},{slug:"loader",width:"0px"}]},bulkOptions(){const e=[{label:r("Unlink",l),value:"unlink"},{label:r("(Re)check",l),value:"recheck"}];return this.isDismissedFilterActive?e.push({label:r("Undismiss",l),value:"undismiss"}):e.push({label:r("Dismiss",l),value:"dismiss"}),e},isDismissedFilterActive(){return this.linkStatusTableStore.linkStatuses.filters.find(t=>t.slug==="dismissed").active},modalStrings(){const e=this.modal[this.bulkAction]||this.modal.recheck;return 1<this.bulkRows.length?(e.areYouSure=e.areYouSureMultiple,e.confirmation=e.yesMultiple):(e.areYouSure=e.areYouSureSingle,e.confirmation=e.yesSingle),e},quota(){return this.optionsStore.internalOptions.internal.license.quotaRemaining.toLocaleString()+"/"+this.optionsStore.internalOptions.internal.license.quota.toLocaleString()}},methods:{processBulkAction({action:e,selectedRows:t}){!t.length||!e||(this.bulkAction=e,this.bulkRows=t,this.confirmationModalOpen=!0)},doBulkAction(){if(this.confirmationModalOpen=!1,!this.bulkRows.length||!this.bulkAction)return;const e=this.bulkRows.map(t=>this.linkStatusTableStore.linkStatuses.rows.find(s=>s.id===t));this.wpTableLoading=!0,this.linkStatusTableStore.runBulkAction({action:this.bulkAction,rows:e,limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,orderBy:this.orderBy,orderDir:this.orderDir}).then(()=>{this.wpTableLoading=!1,this.editRowAction="",this.$refs.linkStatusTable.editRow(null)}).finally(()=>{this.editRowAction="",this.bulkAction="",this.bulkRows=[]})},getRowHeight(e){const t=document.querySelector(`tr[data-row-index="${e}"`);return t?getComputedStyle(t).getPropertyValue("height"):"0px"},dismiss(e){this.wpTableLoading=!0,this.linkStatusTableStore.dismiss({linkStatusId:e.id,limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,filter:this.filter,orderBy:this.orderBy,orderDir:this.orderDir}).then(()=>{this.wpTableLoading=!1,this.editRowAction="",this.$refs.linkStatusTable.editRow(null)})},undismiss(e){this.wpTableLoading=!0,this.linkStatusTableStore.undismiss({linkStatusId:e.id,limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,filter:this.filter,orderBy:this.orderBy,orderDir:this.orderDir}).then(()=>{this.wpTableLoading=!1,this.editRowAction="",this.$refs.linkStatusTable.editRow(null)})},unlink(e){this.wpTableLoading=!0,this.linkStatusTableStore.unlink({linkStatusId:e.id,limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,filter:this.filter,orderBy:this.orderBy,orderDir:this.orderDir}).then(()=>{this.wpTableLoading=!1,this.editRowAction="",this.$refs.linkStatusTable.editRow(null)}).catch(()=>{this.wpTableLoading=!1;let t="";1<e.totalLinks?t=r("The links could not be removed successfully. Please try again or remove the links by editing the posts manually.",l):t=d(r("The link could not be removed successfully. Please try again or remove the link by %1$sediting the post%2$s manually.",l),'<a href="'+e.link.context.editLink+'" target="_blank">',"</a>"),this.showErrorAlert(this.linkStatusTableStore.linkStatuses.rows.findIndex(s=>s.id===e.id),t)})},recheck(e,t){this.loadingRowIndexes.push(e),this.linkStatusTableStore.recheck({linkStatusId:t.id,limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,filter:this.filter,orderBy:this.orderBy,orderDir:this.orderDir}).finally(()=>{const s=this.loadingRowIndexes.indexOf(e);s&&this.loadingRowIndexes.splice(s,1)})},addRedirect(e){const t=je();if(!t.plugins.isAioseoActive){this.showUpsellModal=!0;return}const s="admin.php?page=aioseo-redirects";if(!t.plugins.isAioseoRedirectsActive){window.open(s,"_blank").focus();return}const o=this.rootStore.aioseoBrokenLinkChecker.user.roles;if(!this.rootStore.aioseoBrokenLinkChecker.user.capabilities.aioseo_redirects&&!o.includes("administrator")){window.open(s,"_blank").focus();return}wt().getRedirectUrl(e.url).then(m=>{window.open(m,"_blank").focus()}).catch(()=>{window.open(s,"_blank").focus()})},toggleEditRow(e,t){if(this.editRowAction==="edit-row"){this.editRowAction="",t(null);return}this.editRowAction!==""&&t(e),this.editRowAction="edit-row",t(e)},toggleShowAllPosts(e,t){if(this.editRowAction==="show-all-posts"){this.editRowAction="",t(null);return}this.editRowAction!==""&&t(e),this.editRowAction="show-all-posts",t(e)},doFetchData(){this.wpTableLoading=!0,this.linkStatusTableStore.fetchData({limit:this.resultsPerPage,offset:this.offset,searchTerm:this.searchTerm,filter:this.filter,orderBy:this.orderBy,orderDir:this.orderDir}).then(()=>{this.wpTableLoading=!1})},showErrorAlert(e,t){const s=[];s.position="bottom",s.description=t,s.color="red",this.linkStatusTableStore.linkStatuses.rows[e].alert=s,setTimeout(()=>{this.linkStatusTableStore.linkStatuses.rows[e].alert=null},5e3)},showEditErrorAlert(e){const t=d(r("The link could not be updated successfully. Please try again or update the link by %1$sediting the post%2$s manually.",l),'<a href="'+e.link.context.editLink+'" target="_blank">',"</a>");this.showErrorAlert(this.linkStatusTableStore.linkStatuses.rows.findIndex(s=>s.id===e.id),t)}},beforeMount(){if(this.pageNumber=this.linkStatusTableStore.linkStatuses.totals.page,!this.$route.query)return;const e=this.$route.query.filter;e&&["all","broken","redirects","good","dismissed"].includes(e)&&this.processFilterTable({slug:e})},updated(){this.loadingRowIndexes=[]}},Rr={class:"url"},Lr=["href","title"],Ur={key:0},Cr=["onClick"],Tr={key:1},xr=["onClick"],Ar=["onClick"],Pr={key:0},Or={key:1},Ir=["onClick"],Er={key:2},Mr=["onClick"],Br={key:3},Dr=["onClick"],Fr={key:1},qr={class:"table-quota-info"},Yr={key:0};function Nr(e,t,s,o,n,i){const m=u("core-alert"),_=u("edit-row"),f=u("links-table"),U=u("posts-column"),x=u("status-column"),O=u("info-column"),C=u("svg-circle-question-mark"),M=u("core-tooltip"),B=u("core-loader"),D=u("core-wp-table"),Y=u("confirmation-modal"),v=u("redirects-cta-modal");return c(),S("div",{class:q(["aioseo-blc-broken-links",[{"edit-row":n.editRowAction==="edit-row"},{"show-all-posts":n.editRowAction==="show-all-posts"}]])},[5>=o.remainingQuotaPercentage?(c(),w(m,{key:0,type:0>=o.remainingQuotaPercentage?"red":"yellow",innerHTML:o.remainingQuotaAlert},null,8,["type","innerHTML"])):o.quotaLowerThanLinks?(c(),w(m,{key:1,type:"yellow",innerHTML:o.quotaLowerThanLinksAlert},null,8,["innerHTML"])):g("",!0),(c(),w(D,{id:o.tableId,ref:"linkStatusTable",columns:i.columns,rows:o.linkStatusTableStore.linkStatuses.rows,totals:o.linkStatusTableStore.linkStatuses.totals,filters:o.linkStatusTableStore.linkStatuses.filters,"bulk-options":i.bulkOptions,"initial-items-per-page":o.settingsStore.settings.tablePagination.brokenLinks,"initial-page-number":o.pageNumber,key:o.wpTableKey,loading:o.wpTableLoading,noResultsLabel:n.strings.noResults,"show-table-footer":"","show-pagination":"","show-search":"","show-items-per-page":"",onProcessBulkAction:i.processBulkAction,onFilterTable:o.processFilterTable,onPaginate:o.processPagination,onSearch:o.processSearch,onProcessChangeItemsPerPage:o.processChangeItemsPerPage,onSortColumn:o.processSort},{"edit-row":k(({row:b,editRow:T})=>[n.editRowAction==="edit-row"?(c(),w(_,{key:0,linkStatus:b,onClose:I=>{n.editRowAction="",T(null)},onUpdateLink:i.doFetchData,onUpdateLinkError:I=>i.showEditErrorAlert(b)},null,8,["linkStatus","onClose","onUpdateLink","onUpdateLinkError"])):g("",!0),n.editRowAction==="show-all-posts"?(c(),w(f,{key:1,linkStatus:b,inlineTable:"",onDeletePost:i.doFetchData,onUpdateLink:i.doFetchData},null,8,["linkStatus","onDeletePost","onUpdateLink"])):g("",!0)]),url:k(({column:b,row:T,index:I,editRow:K})=>[a("div",Rr,[a("a",{href:b,title:b,target:"_blank",rel:"noreferrer noopener"},h(b),9,Lr)]),a("div",{class:"row-actions",style:ce({visibility:n.loadingRowIndexes.includes(I)?"hidden":"visible"})},[o.allowed("edit_posts")?(c(),S("span",Ur,[a("a",{class:"edit",href:"#",onClick:E(H=>i.toggleEditRow(I,K),["prevent"])},[a("span",null,h(n.strings.editUrl),1)],8,Cr)])):g("",!0),o.allowed("edit_posts")?(c(),S("span",Tr,[R(" | "),a("a",{class:"unlink",href:"#",onClick:E(H=>i.unlink(T),["prevent"])},[a("span",null,h(n.strings.unlink),1)],8,xr)])):g("",!0),a("span",null,[R(" | "),a("a",{class:"recheck",href:"#",onClick:E(H=>i.recheck(I,T),["prevent"])},[T.last_scan_date?(c(),S("span",Pr,h(n.strings.recheck),1)):g("",!0),T.last_scan_date?g("",!0):(c(),S("span",Or,h(n.strings.check),1))],8,Ar)]),a("span",null,[R(" | "),a("a",{class:"add-redirect",href:"#",onClick:E(H=>i.addRedirect(T),["prevent"])},[a("span",null,h(n.strings.addRedirect),1)],8,Ir)]),i.isDismissedFilterActive?g("",!0):(c(),S("span",Er,[R(" | "),a("a",{class:"dismiss",href:"#",onClick:E(H=>i.dismiss(T),["prevent"])},[a("span",null,h(n.strings.dismiss),1)],8,Mr)])),i.isDismissedFilterActive?(c(),S("span",Br,[R(" | "),a("a",{class:"undismiss",href:"#",onClick:E(H=>i.undismiss(T),["prevent"])},[a("span",null,h(n.strings.undismiss),1)],8,Dr)])):g("",!0)],4)]),posts:k(({row:b,index:T,editRow:I})=>[b.link||b.totalLinks>1?(c(),w(U,{key:0,row:b,index:T,loadingRowIndexes:n.loadingRowIndexes,isLinkStatusTable:"",onShowAllPosts:K=>i.toggleShowAllPosts(K,I),onDeletePost:i.doFetchData},null,8,["row","index","loadingRowIndexes","onShowAllPosts","onDeletePost"])):(c(),S("span",Fr,h(n.strings.noPosts),1))]),status:k(({row:b})=>[p(x,{row:b},null,8,["row"])]),info:k(({row:b})=>[parseInt(b.scanning)!==1&&b.last_scan_date?(c(),w(O,{key:0,linkStatus:b},null,8,["linkStatus"])):g("",!0)]),infoHeaderFooter:k(()=>[a("div",qr,[a("span",{class:q([{sufficient:25<o.remainingQuotaPercentage},{warning:25>=o.remainingQuotaPercentage&&5<o.remainingQuotaPercentage},{depleted:5>=o.remainingQuotaPercentage},{small:4>=o.optionsStore.internalOptions.internal.license.quota.toString().length},{medium:o.optionsStore.internalOptions.internal.license.quota.toString().length===5},{high:6<=o.optionsStore.internalOptions.internal.license.quota.toString().length}])},h(i.quota),3),p(M,{offset:"-80px,0"},{tooltip:k(()=>[a("span",null,h(n.strings.quotaTooltip)+" ",1),o.optionsStore.internalOptions.internal.license.level&&o.optionsStore.internalOptions.internal.license.level.toLowerCase()!=="elite"?(c(),S("span",Yr,[a("span",null,h(n.strings.toUnlock)+" ",1),a("strong",null,[a("a",{href:"#",onClick:t[0]||(t[0]=E(b=>o.licenseUpgradeComposable.openLicenseUpgradePopup("broken-links-report","quota-tooltip"),["prevent","stop"]))},h(o.licenseUpgradeComposable.upgradeAnchor.value),1)]),R(". ")])):g("",!0)]),default:k(()=>[p(C,{class:q([{sufficient:25<o.remainingQuotaPercentage},{warning:25>=o.remainingQuotaPercentage&&5<o.remainingQuotaPercentage},{depleted:5>=o.remainingQuotaPercentage},{small:4>=o.optionsStore.internalOptions.internal.license.quota.toString().length},{medium:o.optionsStore.internalOptions.internal.license.quota.toString().length===5},{high:6<=o.optionsStore.internalOptions.internal.license.quota.toString().length}])},null,8,["class"])]),_:1})])]),loader:k(({index:b})=>[n.loadingRowIndexes.includes(b)?(c(),S("div",{key:0,class:"loader-overlay-row",style:ce({height:i.getRowHeight(b)})},[p(B)],4)):g("",!0)]),_:1},8,["id","columns","rows","totals","filters","bulk-options","initial-items-per-page","initial-page-number","loading","noResultsLabel","onProcessBulkAction","onFilterTable","onPaginate","onSearch","onProcessChangeItemsPerPage","onSortColumn"])),p(Y,{show:n.confirmationModalOpen,strings:i.modalStrings,onDoAction:i.doBulkAction,onCloseModal:t[1]||(t[1]=b=>n.confirmationModalOpen=!1)},null,8,["show","strings","onDoAction"]),p(v,{show:n.showUpsellModal,onCloseModal:t[2]||(t[2]=b=>n.showUpsellModal=!1)},null,8,["show"])],2)}const Ye=P(yr,[["render",Nr]]),X="broken-link-checker-seo",Vr={components:{CoreBlur:me,CoreCta:fe,LinkStatusTable:Ye},data(){return{loading:!1,strings:{ctaButtonText:r("Go to Settings",X),ctaHeader:d(r("Connect Your Site with %1$s",X),"Broken Link Checker"),ctaDescription:d(r("Before you can start using %1$s, you need to connect the plugin to your account.",X),"Broken Link Checker")}}},methods:{goToSettings(){this.$router.push("/settings")}}},Hr={class:"aioseo-blc-broken-links"},$r={class:"licence-cta"};function jr(e,t,s,o,n,i){const m=u("link-status-table"),_=u("core-blur"),f=u("core-cta");return c(),S("div",Hr,[a("div",$r,[p(_,null,{default:k(()=>[p(m)]),_:1}),p(f,{"cta-button-action":"",onCtaButtonClick:i.goToSettings,"cta-button-loading":n.loading,"show-link":!1,"button-text":n.strings.ctaButtonText,"align-top":"",hideBonus:""},{"header-text":k(()=>[R(h(n.strings.ctaHeader),1)]),description:k(()=>[R(h(n.strings.ctaDescription),1)]),_:1},8,["onCtaButtonClick","cta-button-loading","button-text"])])])}const zr=P(Vr,[["render",jr]]),Wr={setup(){return{licenseStore:Te()}},components:{CallToAction:zr,LinkStatusTable:Ye}};function Gr(e,t,s,o,n,i){const m=u("call-to-action"),_=u("link-status-table");return c(),S("div",null,[o.licenseStore.isUnlicensed?(c(),w(m,{key:0})):(c(),w(_,{key:1}))])}const bo=P(Wr,[["render",Gr]]);export{bo as default};
