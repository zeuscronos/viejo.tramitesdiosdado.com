import{a as V}from"./runtime-dom.esm-bundler.dc49ee3e.js";import{s as E,a as P,b as W,E as Y,e as I}from"./index.4b887428.js";import{p as Z}from"./popup.92105c51.js";import{u as U}from"./SeoSiteScore.67f514f9.js";import{a as F}from"./utils.87f13de5.js";import{C as q}from"./Blur.92695742.js";import{k as J}from"./helpers.633a054c.js";import{i as K}from"./iphone-frame.af4f65aa.js";import{C as Q}from"./DonutChart.16da12c9.js";import{C as X}from"./Index.a4d7633a.js";import{S as $}from"./Book.f0bec69d.js";import{S as ee}from"./Lab.39cf16a2.js";import"./translations.e71e2202.js";import{_ as oe}from"./_plugin-vue_export-helper.eefbdd86.js";import{Y as N,a6 as k,o as s,c as u,a1 as b,a4 as d,_ as n,$ as _,l as B,F as se,af as re,a2 as j,a7 as D,Z as te,W as h,f as ne,R as a}from"./runtime-core.esm-bundler.ce5add0b.js";import{_ as O,a as H}from"./default-i18n.65d58dd6.js";import{u as ae}from"./ConnectStore.f1902987.js";const L="all-in-one-seo-pack",ie={setup(p){const{errorObject:c,strings:r}=U({score:N(p.score)});return{analyzerStore:E(),rootStore:P(),composableStrings:r,errorObject:c,links:W,getAssetUrl:J,iphoneFrame:K}},components:{CoreDonutChart:Q,CoreSiteScore:X,SvgBook:$,SvgDannieLab:ee},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:Y({yourHomepageScore:O("Your Homepage Score:",L),goodResult:H(O("A very good score is between %1$s%3$d and %4$d%2$s.",L),"<strong>","</strong>",50,75),forBestResults:H(O("For best results, you should strive for %1$s%3$d and above%2$s.",L),"<strong>","</strong>",70),readUltimateSeoGuide:O("Read the Ultimate WordPress SEO Guide",L)},this.composableStrings)}},computed:{sortedParts(){var p,c,r,e,l,o,g,m;return F({good:this.summary.good,warnings:((p=this.summary)==null?void 0:p.warnings)||((c=this.summary)==null?void 0:c.recommended),issues:((r=this.summary)==null?void 0:r.issues)||((e=this.summary)==null?void 0:e.critical),total:((l=this.summary)==null?void 0:l.total)||((o=this.summary)==null?void 0:o.good)+((g=this.summary)==null?void 0:g.recommended)+((m=this.summary)==null?void 0:m.critical)})}}},ce={class:"aioseo-seo-analysis"},le={key:0,class:"seo-analysis-score"},me={key:1,class:"seo-analysis-description"},ue={key:0,class:"seo-analysis-homepage-url"},de=["href"],_e=["innerHTML"],pe=["innerHTML"],ge={class:"d-flex"},ye=["href"],he={key:2,class:"seo-analysis-mobile-snapshot"},Se={class:"mobile-snapshot-image"},fe=["src"],ve=["src"],ke={key:3,class:"seo-analysis-error"},be={class:"error-title"},Ce=["innerHTML"],ze={class:"error-action-buttons"};function Ae(p,c,r,e,l,o){var y,C,z,A,R,T,x,i,v;const g=k("core-site-score"),m=k("core-donut-chart"),M=k("svg-book"),S=k("svg-dannie-lab"),f=k("base-button");return s(),u("div",ce,[e.analyzerStore.analyzeError?d("",!0):(s(),u("div",le,[r.loading?(s(),b(g,{key:0,loading:!0,score:parseInt(r.score),description:r.description,strokeWidth:1.75},null,8,["score","description"])):(s(),b(m,{key:1,parts:o.sortedParts,total:parseInt(r.score),label:r.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),e.analyzerStore.analyzeError?d("",!0):(s(),u("div",me,[n("h2",null,_(l.strings.yourHomepageScore),1),(z=(C=(y=e.rootStore)==null?void 0:y.aioseo)==null?void 0:C.urls)!=null&&z.home?(s(),u("span",ue,[n("a",{target:"_blank",href:e.rootStore.aioseo.urls.home},_(e.rootStore.aioseo.urls.home),9,de)])):d("",!0),n("div",{innerHTML:l.strings.goodResult},null,8,_e),n("div",{innerHTML:l.strings.forBestResults},null,8,pe),n("div",ge,[B(M),n("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},_(l.strings.readUltimateSeoGuide),9,ye)])])),!e.analyzerStore.analyzeError&&((T=(R=(A=e.analyzerStore.homeResults)==null?void 0:A.results)==null?void 0:R.advanced)!=null&&T.mobileSnapshot)?(s(),u("div",he,[n("div",Se,[n("img",{class:"mobile-snapshot-image__frame",src:e.getAssetUrl(e.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,fe),n("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:(v=(i=(x=e.analyzerStore.homeResults)==null?void 0:x.results)==null?void 0:i.advanced)==null?void 0:v.mobileSnapshot},null,8,ve)])])):d("",!0),e.analyzerStore.analyzeError&&e.errorObject?(s(),u("div",ke,[B(S),n("p",be,_(l.strings.anErrorOccurred),1),n("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,Ce),n("div",ze,[(s(!0),u(se,null,re(e.errorObject.buttons,(t,G)=>(s(),b(f,{key:G,type:t.type,tag:t.tag?t.tag:"button",target:"_blank",href:t.url?t.url:"",size:"medium",loading:(t==null?void 0:t.runAgain)&&e.analyzerStore.analyzing,onClick:xe=>t!=null&&t.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:j(()=>[D(_(t.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):d("",!0)])}const w=oe(ie,[["render",Ae]]),Re={class:"aioseo-seo-site-score"},Te={key:1,class:"aioseo-seo-site-score-cta"},Ie={__name:"Analyze",setup(p){const c=N(0),{connectWithAioseo:r,description:e,strings:l}=U({score:c}),o=E(),g=ae(),m=I(),M=P();te(()=>o.homeResults.score,i=>{c.value=i});const S=h(()=>o.goodCount("homepage")),f=h(()=>o.recommendedCount("homepage")),y=h(()=>o.criticalCount("homepage")),C=h(()=>S.value+f.value+y.value),z=h(()=>({recommended:f.value,critical:y.value,good:S.value})),A=h(()=>F({good:S.value,warnings:f.value,issues:y.value,total:C.value})),R=i=>{Z(i,r,600,630,!0,["token"],T,x)},T=i=>g.saveConnectToken(i.token),x=i=>{i&&o.runSiteAnalyzer()};return ne(()=>{!o.homeResults.score&&m.internalOptions.internal.siteAnalysis.connectToken&&o.runSiteAnalyzer(),c.value=o.homeResults.score}),(i,v)=>(s(),u("div",Re,[a(m).internalOptions.internal.siteAnalysis.connectToken?d("",!0):(s(),b(a(q),{key:0},{default:j(()=>[B(a(w),{score:85,description:a(e)},null,8,["description"])]),_:1})),a(m).internalOptions.internal.siteAnalysis.connectToken?d("",!0):(s(),u("div",Te,[n("a",{href:"#",onClick:v[0]||(v[0]=V(t=>R(a(M).aioseo.urls.connect),["prevent"]))},_(a(r)),1),D(" "+_(a(l).toSeeYourSiteScore),1)])),a(m).internalOptions.internal.siteAnalysis.connectToken?(s(),b(a(w),{key:2,score:c.value,description:a(e),loading:a(o).analyzing,summary:z.value,parts:A.value},null,8,["score","description","loading","summary","parts"])):d("",!0)]))}};export{Ie as _};
