import{s as E,ax as M,v as ne,k as ie,aa as re,a as j,b as J,i as X}from"./index.4b887428.js";import le from"./AnalyzeCompetitorSite.1eb47d0e.js";import{C as ce}from"./Index.d5e64911.js";import ue from"./SeoHomepageAudit.aca55ffc.js";import{G as de}from"./constants.bc5863fe.js";import{C as G}from"./Blur.92695742.js";import{C as V}from"./Card.597c7ae2.js";import{C as pe}from"./DonutChartWithLegend.f0fcceca.js";import{C as z}from"./Tooltip.23c7170d.js";import{C as me}from"./Tabs.13bb57b9.js";import{u as Z}from"./WpTable.f051f458.js";import{_ as I}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as s,c as g,$ as d,ae as F,W as O,l as h,a2 as a,_ as y,a7 as T,R as e,a4 as _,Y as N,f as _e,a1 as f,a6 as q,a5 as ee,a3 as ye}from"./runtime-core.esm-bundler.ce5add0b.js";import{S as ge}from"./Info.13c65c37.js";import"./translations.e71e2202.js";import{_ as n,a as te}from"./default-i18n.65d58dd6.js";import{C as se}from"./Table.5d523def.js";import{C as fe}from"./Button.9a301412.js";import{a as oe,S as he}from"./Pencil.d82df6a1.js";import{S as ke}from"./Information.98ebb530.js";import{S as ae}from"./Trash.87a7d946.js";import{S as be}from"./Gear.0f79dbf5.js";import{w as W}from"./runtime-dom.esm-bundler.dc49ee3e.js";import{S as ve}from"./Caret.cd869c5d.js";import{a as Se}from"./utils.87f13de5.js";import{C as xe}from"./Index.72794c8a.js";import Ae from"./HeadlineAnalyzer.158b7c3d.js";import"./helpers.633a054c.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.67f514f9.js";import"./Score.c0caac88.js";import"./popup.92105c51.js";import"./params.af7ed354.js";import"./ConnectStore.f1902987.js";import"./SetupWizardStore.f23d0bfe.js";import"./iphone-frame.af4f65aa.js";import"./GoogleSearchPreview.ea4e7828.js";import"./Url.9f0afcb2.js";import"./Slide.3003ef51.js";import"./Refresh.f06a7e16.js";import"./Close.ccd53ef3.js";import"./DonutChart.16da12c9.js";import"./AnimatedNumber.97e7e241.js";import"./numbers.cdba2587.js";import"./Loading.ecf9741f.js";import"./vue-router.41e9d860.js";import"./license.388ee2cc.js";import"./upperFirst.5dc701f8.js";/* empty css             */import"./Index.2a391835.js";import"./Header.ab7dd0a5.js";import"./addons.9cee8bbb.js";import"./ScrollAndHighlight.f49826ae.js";import"./LicenseKeyBar.40cfe2b2.js";import"./LogoGear.32164283.js";import"./Logo.3715aad2.js";import"./Support.1c4a9051.js";import"./date.f7db1924.js";import"./datetime.f197aeae.js";import"./Exclamation.fc507dc9.js";import"./Analyze.bd0d8b1d.js";import"./Index.a4d7633a.js";import"./Book.f0bec69d.js";import"./Lab.39cf16a2.js";import"./ProBadge.e6ec5f9a.js";import"./Download.aa34559d.js";import"./Row.bb9acf3f.js";import"./List.45ef01c7.js";const Ce={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(k){return(o,i)=>(s(),g("span",{class:F(["aioseo-badge round",k.color])},d(k.text),3))}},Te=I(Ce,[["__scopeId","data-v-64238476"]]),$e={key:0,class:"aioseo-seo-analysis-post-status-badge"},we={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(k){const o="all-in-one-seo-pack",i=k,l={tooltip:n("The results for this post may be inaccurate or vary slightly until the post is published.",o)},b=O(()=>i.status==="future"?n("Scheduled",o):i.status.toUpperCase());return(c,u)=>["draft","private","pending","future"].includes(i.status)?(s(),g("div",$e,[h(e(z),null,{tooltip:a(()=>[y("span",null,d(l.tooltip),1)]),default:a(()=>[y("span",{class:F(["aioseo-seo-analysis-post-status-badge__status",i.status])},[T(d(b.value)+" ",1),h(e(ge))],2)]),_:1})])):_("",!0)}},Ie=I(we,[["__scopeId","data-v-d5a4d223"]]),Le={class:"aioseo-seo-site-analysis-url-details"},Ue={key:0,class:"result-body"},Pe={class:"result-body-loading"},Be={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Ke={class:"title"},Re={key:0,class:"aioseo-seo-site-analysis-url-details-results__row-actions"},ze=["href"],Oe={target:"_blank",class:"aioseo-button disabled black small"},De=["onClick"],Fe={target:"_blank",class:"aioseo-button disabled black small"},Y="aioseo-seo-analysis-issues-posts-report-wp-table",Me={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(k){const o="aioseo-pro",i=k,l=E(),b=N(null),c={fixActionText:n("Fix",o),fixActionTooltipText:n("You don't have the required permission to fix this issue.",o),ignoreActionText:n("Ignore",o),ignoreActionTooltipText:n("You don't have the required permission to ignore this issue.",o)},u=`${i.result.id}-${i.result.type.toLowerCase()}`,{pageNumber:A,processFilterTable:$,processSearch:C,searchTerm:D,wpTableKey:B,wpTableLoading:K}=Z({fetchData:l.fetchIssuesByObject,resultsPerPage:l.resultsperPage,tableId:Y,tableRef:b.value}),v=O(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:n("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function p(m){var S;return(S=M.strings[m.code])==null?void 0:S.title}function t(m){var S;return(S=M.strings[m.code])==null?void 0:S.description}function x(m){var w,r;if(!["author-bio-missing","author-bio-ok"].includes(m.code))return m.fixLink+(((w=M.strings[m.code])==null?void 0:w.fixActionParams)||"");const U=m.fixLink.includes("profile.php")?"?":"&";return m.fixLink+U+(((r=M.strings[m.code])==null?void 0:r.fixActionParams)||"")}function L(m){C(m)}function R(m,S){l.doIgnoreIssue(m,S),(m==null?void 0:m.status)==="error"&&(i.result.count=i.result.count-1)}return _e(()=>{$({slug:i.result})}),(m,S)=>{var U,w;return s(),g("div",Le,[(U=e(l))!=null&&U.allUrlsResults.auditItemResults[u]?_("",!0):(s(),g("div",Ue,[y("div",Pe,[h(e(fe))])])),(w=e(l))!=null&&w.allUrlsResults.auditItemResults[u]?(s(),g("div",Be,[(s(),f(e(se),{ref_key:"table",ref:b,class:"posts-table",id:Y,columns:v.value,"initial-page-number":e(A),"initial-search-term":e(D),"show-bulk-actions":!1,"show-pagination":!1,key:e(B),loading:e(K),rows:e(l).allUrlsResults.auditItemResults[u].rows,totals:e(l).allUrlsResults.auditItemResults[u].totals,"hide-top-pagination":!0,onSearch:L,"show-search":!1},{icon:a(({row:r})=>[y("div",{class:F(["aioseo-seo-site-analysis-url-details-results__result-icon",`${r.status}-status`])},[r.status==="passed"?(s(),f(e(oe),{key:0})):r.status==="error"?(s(),f(e(he),{key:1})):r.status==="warning"?(s(),f(e(ke),{key:2})):(s(),f(e(be),{key:3}))],2)]),title:a(({row:r})=>{var H;return[y("div",Ke,[T(d(p(r))+" ",1),(H=t(r))!=null&&H.length&&(r==null?void 0:r.status)!=="passed"?(s(),f(e(z),{key:0},{tooltip:a(()=>[T(d(t(r)),1)]),default:a(()=>[h(e(ae))]),_:2},1024)):_("",!0)])]}),actions:a(({row:r})=>[(r==null?void 0:r.status)!=="passed"?(s(),g("div",Re,[r.fixLink?(s(),g("a",{key:0,href:x(r),target:"_blank",class:"aioseo-button blue small"},d(c.fixActionText),9,ze)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:1},{tooltip:a(()=>[T(d(c.fixActionTooltipText),1)]),default:a(()=>[y("a",Oe,d(c.fixActionText),1)]),_:1})),r.fixLink?(s(),g("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:H=>R(r,e(l).allUrlsResults.auditItemResults[u])},d(c.ignoreActionText),9,De)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:3},{tooltip:a(()=>[T(d(c.ignoreActionTooltipText),1)]),default:a(()=>[y("a",Fe,d(c.ignoreActionText),1)]),_:1}))])):_("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):_("",!0)])}}},Ne=I(Me,[["__scopeId","data-v-134ae51c"]]),qe=["id"],Ee={key:0},He={key:1},je={class:"disabled"},Ge={key:2,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},Ve={class:"actions"},We={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(k,{emit:o}){const i="aioseo-pro",l=E(),b=o,c=k,u=O(()=>c.row),A=N(!1),$=N(!1),C={addKeyphrase:n("Add Focus Keyword",i),cancel:n("Cancel",i),add:n("Add",i),addKeyphraseTooltipText:n("You don't have the required permission.",i)};async function D(v){$.value=!0;const t=document.getElementById(`keyword-${v.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),x=t==null?void 0:t.value.trim();if(!x){$.value=!1;return}const L={keyphrase:x,score:0,analysis:{}};l.doAddFocusKeyword(v.id,L).then(()=>{v.keyphrases.focus=L,t.value="",t.blur()}).catch(R=>{console.error(R)}).finally(()=>{$.value=!1,b("keywordAdded")})}function B(v){v.preventDefault(),A.value=!0;const p=document.getElementById(`keyword-${u.value.id}`);setTimeout(()=>{const t=p==null?void 0:p.querySelector(".add-focus-keyphrase-metabox-input input");t==null||t.focus()},100)}function K(v,p){const x=document.getElementById(`keyword-${p}`).querySelector(".add-keyphrase");v.preventDefault(),x.click()}return(v,p)=>{var L,R,m,S,U,w;const t=q("base-input"),x=q("base-button");return u.value.isTruSeoEligible?(s(),g("div",{key:0,id:`keyword-${u.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(m=(R=(L=u.value)==null?void 0:L.keyphrases)==null?void 0:R.focus)!=null&&m.keyphrase?(s(),g("span",Ee,d(u.value.keyphrases.focus.keyphrase),1)):e(ne)("aioseo_page_analysis")?(s(),g("div",He,[(S=u.value)!=null&&S.fixLink?_("",!0):(s(),f(e(z),{key:0,placement:"bottom"},{tooltip:a(()=>[T(d(C.addKeyphraseTooltipText),1)]),default:a(()=>[y("span",je,d(C.addKeyphrase),1)]),_:1})),!A.value&&((U=u.value)!=null&&U.fixLink)?(s(),g("button",{key:1,type:"button",class:"add-keyword-btn",onClick:B},d(C.addKeyphrase),1)):_("",!0),A.value&&((w=u.value)!=null&&w.fixLink)?(s(),g("div",Ge,[h(t,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[p[0]||(p[0]=W(r=>K(r,u.value.id),["enter"])),p[1]||(p[1]=W(r=>A.value=!1,["esc"]))]}),y("div",Ve,[h(x,{class:"cancel-add-keyphrase gray small",onClick:p[2]||(p[2]=r=>A.value=!1)},{default:a(()=>[T(d(C.cancel),1)]),_:1}),h(x,{class:"add-keyphrase blue small",loading:$.value,onClick:p[3]||(p[3]=r=>D(u.value))},{default:a(()=>[T(d(C.add),1)]),_:1},8,["loading"])])])):_("",!0)])):_("",!0)],8,qe)):_("",!0)}}},Ye={class:"aioseo-seo-site-analysis-all-urls-results"},Qe={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},Je={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},Xe={type:"button"},Ze=["innerHTML"],et={key:0,class:"row-actions"},tt={key:0},st=["href"],ot={class:"aioseo-seo-site-analysis-all-urls-results__result-toggle"},Q="aioseo-seo-analysis-all-urls-wp-table",at={__name:"SiteAuditAllUrlsTable",setup(k){const o="all-in-one-seo-pack",i=E(),l=ie(),b=N(null),c={viewObject:n("View",o)},{pageNumber:u,searchTerm:A,wpTableKey:$,wpTableLoading:C}=Z({changeItemsPerPageSlug:"seoAnalysis",fetchData:i.fetchAllUrls,tableId:Q,tableRef:b.value}),D=O(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:n("Title",o),width:"100%"},{slug:"keyword",label:n("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),B=v=>{var p,t;return(p=v.counts)!=null&&p.error?"red":(t=v.counts)!=null&&t.warning?"orange":"green"},K=v=>{var p,t;return((p=v.counts)==null?void 0:p.error)||((t=v.counts)==null?void 0:t.warning)||0};return(v,p)=>(s(),g("div",Ye,[(s(),f(e(se),{ref:"seoAnalysisAllUrlsTable",class:"posts-table",id:Q,columns:D.value,"initial-page-number":e(u),"initial-search-term":e(A),"initial-items-per-page":e(l).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e($),loading:e(C),rows:e(i).allUrlsResults.rows,totals:e(i).allUrlsResults.totals},{"edit-row":a(({row:t})=>[t!=null&&t.needsRefresh?_("",!0):(s(),f(e(Ne),{key:0,result:t},null,8,["result"]))]),count:a(({row:t})=>[y("div",Qe,[K(t)?(s(),f(e(Te),{key:0,color:B(t),text:K(t)},null,8,["color","text"])):(s(),g("span",{key:1,class:F(["icon",B(t)])},[h(e(oe))],2))])]),title:a(({row:t})=>[y("div",Je,[y("button",Xe,[y("span",{innerHTML:e(re)(t.title)},null,8,Ze)]),t.status?(s(),f(e(Ie),{key:0,status:t.status},null,8,["status"])):_("",!0)]),t.permalink?(s(),g("div",et,[t.permalink?(s(),g("span",tt,[y("a",{class:"view",href:t.permalink,target:"_blank",rel:"noopener noreferrer"},[y("span",null,d(c.viewObject)+" "+d(t.subtype.label),1)],8,st)])):_("",!0)])):_("",!0)]),keyword:a(({row:t})=>[(s(),f(e(We),{key:t.id,row:t,onKeywordAdded:x=>v.keywordAdded(t)},null,8,["row","onKeywordAdded"]))]),toggle_issues:a(()=>[y("div",ot,[h(e(ve))])]),_:1},8,["columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))]))}},nt={key:1,class:"label"},it={__name:"SiteAuditGlobalTab",setup(k){const o="all-in-one-seo-pack",i=O(()=>[{slug:"all-urls",label:n("All URLs",o),name:n("All URLs",o)},{slug:"all-checks",label:n("All Checks",o),name:n("All Checks",o)},{slug:"settings-audit",label:n("Settings",o),name:n("Settings",o)}]);return(l,b)=>(s(),g("div",null,[h(e(me),{tabs:i.value,showSaveButton:!1,active:"all-urls",internal:"","skinny-tabs":""},{"var-tab":a(({tab:c})=>{var u;return[c!=null&&c.analyze?(s(),g("span",{key:0,class:F(["icon",(u=c==null?void 0:c.analyze)==null?void 0:u.classColor])},[(s(),f(ee(c.icon)))],2)):_("",!0),c!=null&&c.analyze?(s(),g("span",nt,d(c.label)+" ("+d(c.analyze.count||0)+") ",1)):_("",!0)]}),_:1},8,["tabs"]),h(e(at),{section:"all-urls"})]))}},rt=I(it,[["__scopeId","data-v-54a2b11f"]]),lt={class:"aioseo-seo-audit-checklist"},ct=["innerHTML"],ut={__name:"SeoSiteAuditUnlicensed",setup(k){const o="all-in-one-seo-pack",i=j(),l={completeSeoChecklist:n("Site Audit Report",o),cardDescription:n("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+J.getDocLink(de.learnMore,"seoAnalyzer",!0),siteOverview:n("Site Overview",o),totalPostsLabel:n("Total Checks",o),connectWithAioseo:te(n("Connect with %1$s",o),"AIOSEO")},b=O(()=>Se({good:50,warnings:30,issues:20,total:100}));return(c,u)=>(s(),g("div",lt,[h(e(G),null,{default:a(()=>[h(e(V),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.siteOverview),1)]),default:a(()=>[h(e(pe),{parts:b.value,total:100,label:l.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(i).isPro?_("",!0):(s(),f(e(G),{key:0},{default:a(()=>[h(e(V),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.completeSeoChecklist),1),h(e(z),null,{tooltip:a(()=>[y("span",{innerHTML:l.cardDescription},null,8,ct)]),default:a(()=>[h(e(ae))]),_:1})]),default:a(()=>[h(e(rt))]),_:1})]),_:1})),ye(c.$slots,"upsell",{},void 0,!0)]))}},dt=I(ut,[["__scopeId","data-v-a580ad02"]]),P="all-in-one-seo-pack",pt={setup(){return{licenseStore:X(),rootStore:j(),links:J}},components:{Cta:xe},props:{parentComponentContext:String},data(){return{strings:{ctaHeader:te(n("Site Audit is a %1$s Feature",P),"PRO"),ctaDescription:n("Discover which posts and terms on your site are facing common SEO issues so you can quickly resolve them in order to get your content back on track.",P),ctaFeatures:[n("Meta Tag Validation",P),n("Keyword Cannibilization",P),n("Focus Keyword Analysis",P),n("Content Analysis",P)],ctaButtonText:n("Unlock Site Audit",P)}}}},mt={class:"upsell-header-text"};function _t(k,o,i,l,b,c){const u=q("cta");return s(),f(u,{"cta-link":l.links.getPricingUrl("seo-analysis","site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":b.strings.ctaButtonText,"learn-more-link":l.links.getUpsellUrl("site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":b.strings.ctaFeatures,"hide-bonus":!l.licenseStore.isUnlicensed},{"header-text":a(()=>[y("span",mt,d(b.strings.ctaHeader),1)]),description:a(()=>[T(d(b.strings.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])}const yt=I(pt,[["render",_t],["__scopeId","data-v-a33f2ad8"]]),gt={class:"aioseo-seo-analysis__global-site-audit"},ft={__name:"SeoSiteAudit",setup(k){return(o,i)=>(s(),f(e(dt),null,{upsell:a(()=>[y("div",gt,[h(e(yt),{"parent-component-context":"modal"})])]),_:1}))}},ht=I(ft,[["__scopeId","data-v-a8edb80d"]]),kt="all-in-one-seo-pack",bt={setup(){const k=j(),o=X(),i=E();return{rootStore:k,licenseStore:o,analyzerStore:i}},components:{AnalyzeCompetitorSite:le,CoreMain:ce,SeoHomepageAudit:ue,SeoSiteAudit:ht,HeadlineAnalyzer:Ae},data(){return{strings:{pageName:n("SEO Analysis",kt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function vt(k,o,i,l,b,c){const u=q("core-main");return s(),f(u,{"page-name":b.strings.pageName,"show-save-button":k.$route.name==="seo-site-audit"&&l.analyzerStore.activeTab==="settings-audit"},{default:a(()=>[(s(),f(ee(k.$route.name)))]),_:1},8,["page-name","show-save-button"])}const zs=I(bt,[["render",vt]]);export{zs as default};
