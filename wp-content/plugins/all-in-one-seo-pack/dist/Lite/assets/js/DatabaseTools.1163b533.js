import{a as B,e as q,w as E,b as H,i as F}from"./index.4b887428.js";import{l as N}from"./license.388ee2cc.js";import{u as j}from"./Network.338b9e3b.js";import{C as A}from"./Card.597c7ae2.js";import{u as P}from"./ToolsSettings.177430fd.js";import{B as Y}from"./Checkbox.6a913600.js";import{C as G}from"./Index.2a391835.js";import{C as J}from"./Index.25ae8dfb.js";import{C as V}from"./SettingsRow.35256805.js";import{G as K,a as Q}from"./Row.bb9acf3f.js";import{S as W}from"./Close.ccd53ef3.js";import"./translations.e71e2202.js";import{a as X}from"./runtime-dom.esm-bundler.dc49ee3e.js";import{_ as R}from"./_plugin-vue_export-helper.eefbdd86.js";import{u as D}from"./ToolsStore.fc4d835f.js";import{_ as i,a as U}from"./default-i18n.65d58dd6.js";import{a6 as s,o as a,c as v,l as r,a2 as n,a1 as h,a7 as d,$ as u,a4 as k,_ as S,F as Z,af as $}from"./runtime-core.esm-bundler.ce5add0b.js";import{C as ee}from"./Blur.92695742.js";import{C as te}from"./Index.72794c8a.js";import{R as oe}from"./RequiredPlans.515ee73d.js";import"./helpers.633a054c.js";import"./upperFirst.5dc701f8.js";import"./Tooltip.23c7170d.js";import"./Caret.cd869c5d.js";import"./Trash.87a7d946.js";import"./Slide.3003ef51.js";import"./addons.9cee8bbb.js";import"./Checkmark.762f711e.js";import"./Button.9a301412.js";import"./Pencil.d82df6a1.js";import"./constants.bc5863fe.js";const p="all-in-one-seo-pack",se={setup(){const{toolsSettings:o}=P();return{rootStore:B(),toolsSettings:o,toolsStore:D()}},components:{BaseCheckbox:Y,CoreAlert:G,CoreModal:J,CoreSettingsRow:V,GridColumn:K,GridRow:Q,SvgClose:W},props:{site:Object},data(){return{showSuccess:!1,showModal:!1,loading:!1,options:{},strings:{selectSettings:i("Select Settings",p),selectSettingsToReset:i("Select settings that you would like to reset:",p),resetSelectedSettings:i("Reset Selected Settings to Default",p),resetSuccess:i("Your settings have been reset successfully!",p),areYouSureReset:i("Are you sure you want to reset the selected settings to default?",p),actionCannotBeUndone:U(i("This action cannot be undone. Before taking this action, we recommend that you make a %1$sfull website backup first%2$s.",p),"<strong>","</strong>"),yesIHaveBackup:i("Yes, I have a backup and want to reset the settings",p),noBackup:i("No, I need to make a backup",p),allSettings:U(i("All %1$s Settings",p),"AIOSEO")}}},computed:{canReset(){if(this.rootStore.aioseo.data.isNetworkAdmin&&!this.site)return!1;const o=[];return Object.keys(this.options).forEach(t=>{o.push(this.options[t])}),!o.some(t=>t)}},methods:{noMakeBackup(){this.rootStore.navigate.scroll="aioseo-backup-settings",this.rootStore.navigate.highlight="aioseo-backup-settings",this.$router.push({name:"import-export"})},processResetSettings(){const o=[];this.options.all?this.toolsSettings.filter(t=>t.value!=="all").forEach(t=>{o.push(t.value)}):Object.keys(this.options).forEach(t=>{this.options[t]&&o.push(t)}),this.loading=!0,this.toolsStore.resetSettings({payload:o,siteId:this.site?this.site.blog_id:null}).then(()=>{this.showModal=!1,this.loading=!1,this.showSuccess=!0,this.options={},setTimeout(()=>{this.showSuccess=!1},5e3)})}}},ne={class:"aioseo-core-reset-settings"},re={class:"reset-settings"},ie=S("br",null,null,-1),ae=S("br",null,null,-1),le={class:"aioseo-modal-body"},ce=["innerHTML"];function ue(o,t,w,l,e,_){const g=s("core-alert"),m=s("base-checkbox"),b=s("grid-column"),y=s("grid-row"),f=s("base-button"),x=s("core-settings-row"),T=s("svg-close"),z=s("core-modal");return a(),v("div",ne,[r(x,{name:e.strings.selectSettings,class:"no-border"},{content:n(()=>[e.showSuccess?(a(),h(g,{key:0,class:"reset-success",type:"green"},{default:n(()=>[d(u(e.strings.resetSuccess),1)]),_:1})):k("",!0),S("div",re,[d(u(e.strings.selectSettingsToReset)+" ",1),ie,ae,r(y,{class:"settings"},{default:n(()=>[r(b,null,{default:n(()=>[r(m,{size:"medium",modelValue:e.options.all,"onUpdate:modelValue":t[0]||(t[0]=c=>e.options.all=c),disabled:l.rootStore.aioseo.data.isNetworkAdmin&&!w.site},{default:n(()=>[d(u(e.strings.allSettings),1)]),_:1},8,["modelValue","disabled"])]),_:1}),(a(!0),v(Z,null,$(l.toolsSettings,(c,O)=>(a(),h(b,{key:O,xl:"3",md:"4",sm:"6"},{default:n(()=>[e.options.all?k("",!0):(a(),h(m,{key:0,size:"medium",modelValue:e.options[c.value],"onUpdate:modelValue":L=>e.options[c.value]=L,disabled:l.rootStore.aioseo.data.isNetworkAdmin&&!w.site},{default:n(()=>[d(u(c.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])),c.value!=="all"&&e.options.all?(a(),h(m,{key:1,size:"medium",modelValue:!0,disabled:""},{default:n(()=>[d(u(c.label),1)]),_:2},1024)):k("",!0)]),_:2},1024))),128))]),_:1}),r(f,{type:"gray",size:"medium",onClick:t[1]||(t[1]=c=>e.showModal=!0),disabled:_.canReset},{default:n(()=>[d(u(e.strings.resetSelectedSettings),1)]),_:1},8,["disabled"])])]),_:1},8,["name"]),r(z,{show:e.showModal,"no-header":"",onClose:t[4]||(t[4]=c=>e.showModal=!1),classes:["aioseo-core-reset-settings-modal"]},{body:n(()=>[S("div",le,[S("button",{class:"close",onClick:t[3]||(t[3]=X(c=>e.showModal=!1,["stop"]))},[r(T,{onClick:t[2]||(t[2]=c=>e.showModal=!1)})]),S("h3",null,u(e.strings.areYouSureReset),1),S("div",{class:"reset-description",innerHTML:e.strings.actionCannotBeUndone},null,8,ce),r(f,{type:"blue",size:"medium",onClick:_.processResetSettings,loading:e.loading},{default:n(()=>[d(u(e.strings.yesIHaveBackup),1)]),_:1},8,["onClick","loading"]),r(f,{type:"gray",size:"medium",onClick:_.noMakeBackup},{default:n(()=>[d(u(e.strings.noBackup),1)]),_:1},8,["onClick"])])]),_:1},8,["show"])])}const I=R(se,[["render",ue]]),M="all-in-one-seo-pack",de={setup(){const{getSites:o,getUniqueSiteId:t}=j();return{license:N,optionsStore:q(),rootStore:B(),redirectsStore:E(),toolsStore:D(),getSites:o,getUniqueSiteId:t}},components:{CoreCard:A,CoreResetSettings:I,CoreSettingsRow:V},data(){return{site:null,selectedSite:null,strings:{selectSite:i("Select Site",M),resetRestoreSettings:i("Reset / Restore Settings",M)}}},watch:{site(o){this.selectedSite=this.rootStore.aioseo.data.network.sites.sites.find(t=>this.getUniqueSiteId(t)===o.value)}},computed:{canReset(){const o=[];return Object.keys(this.options).forEach(t=>{o.push(this.options[t])}),!o.some(t=>t)},sites(){return this.getSites.filter(o=>!o.parentDomain).map(o=>({value:this.getUniqueSiteId(o),label:`${o.domain}${o.path}`}))}}},me={class:"aioseo-tools-database-tools"};function pe(o,t,w,l,e,_){const g=s("base-select"),m=s("core-settings-row"),b=s("core-reset-settings"),y=s("core-card");return a(),v("div",me,[r(y,{slug:"databaseTools","header-text":e.strings.resetRestoreSettings},{default:n(()=>[l.rootStore.aioseo.data.isNetworkAdmin?(a(),h(m,{key:0,name:e.strings.selectSite},{content:n(()=>[r(g,{size:"medium",modelValue:e.site,"onUpdate:modelValue":t[0]||(t[0]=f=>e.site=f),options:_.sites},null,8,["modelValue","options"])]),_:1},8,["name"])):k("",!0),r(b,{site:e.selectedSite},null,8,["site"])]),_:1},8,["header-text"])])}const _e=R(de,[["render",pe]]),C="all-in-one-seo-pack",ge={components:{RequiredPlans:oe,CoreBlur:ee,CoreCard:A,CoreResetSettings:I,CoreSettingsRow:V,Cta:te},data(){return{links:H,strings:{selectSite:i("Select Site",C),resetRestoreSettings:i("Reset / Restore Settings",C),ctaHeader:U(i("Network Tools is a %1$s Feature",C),"PRO"),ctaButtonText:i("Unlock Network Tools",C),networkDatabaseToolsDescription:i("Unlock network-level tools to manage all your sites from one easy-to-use location. Migrate data or create backups without the need to visit each dashboard.",C)}}}},fe={class:"aioseo-tools-database-tools-lite"};function Se(o,t,w,l,e,_){const g=s("base-select"),m=s("core-settings-row"),b=s("core-reset-settings"),y=s("core-blur"),f=s("required-plans"),x=s("cta"),T=s("core-card");return a(),v("div",fe,[r(T,{slug:"databaseTools","header-text":e.strings.resetRestoreSettings},{default:n(()=>[r(y,null,{default:n(()=>[r(m,{name:e.strings.selectSite},{content:n(()=>[r(g,{size:"medium",modelValue:{value:"",label:""},options:[]})]),_:1},8,["name"]),r(b)]),_:1}),r(x,{"cta-link":e.links.getPricingUrl("network-tools","database-tools",null,"liteUpgrade"),"button-text":e.strings.ctaButtonText,"learn-more-link":e.links.getUpsellUrl("network-tools","database-tools","liteUpgrade")},{"header-text":n(()=>[d(u(e.strings.ctaHeader),1)]),description:n(()=>[r(f,{"core-feature":["tools","network-tools-database"]}),d(" "+u(e.strings.networkDatabaseToolsDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link"])]),_:1},8,["header-text"])])}const he=R(ge,[["render",Se]]),be={setup(){return{licenseStore:F(),rootStore:B()}},components:{DatabaseTools:_e,LiteDatabaseTools:he},data(){return{license:N}}};function ke(o,t,w,l,e,_){const g=s("database-tools",!0),m=s("lite-database-tools");return a(),v("div",null,[!l.rootStore.aioseo.data.isNetworkAdmin||!l.licenseStore.isUnlicensed&&e.license.hasCoreFeature("tools","network-tools-database")?(a(),h(g,{key:0})):k("",!0),l.rootStore.aioseo.data.isNetworkAdmin&&(l.licenseStore.isUnlicensed||!e.license.hasCoreFeature("tools","network-tools-database"))?(a(),h(m,{key:1})):k("",!0)])}const Ze=R(be,[["render",ke]]);export{Ze as default};
