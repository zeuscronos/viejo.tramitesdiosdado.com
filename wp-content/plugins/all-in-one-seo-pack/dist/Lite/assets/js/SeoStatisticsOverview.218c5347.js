import{a as T,j as $,H as D}from"./index.4b887428.js";import{S as A,u as L}from"./Statistic.2ff4c4cd.js";import{C as B}from"./Button.9a301412.js";import{C as G}from"./Tooltip.23c7170d.js";import{G as M}from"./Graph.19914f74.js";import{S as N}from"./Trash.87a7d946.js";import"./translations.e71e2202.js";import{_ as V}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as a,a as u}from"./default-i18n.65d58dd6.js";import{a6 as d,o as n,c as h,F as j,af as F,_ as m,a7 as H,$ as y,a1 as v,a2 as w,l as _,a4 as g,ae as S,a0 as O}from"./runtime-core.esm-bundler.ce5add0b.js";const r="all-in-one-seo-pack",R={setup(){const{formatStatistic:t}=L();return{formatStatistic:t,rootStore:T(),searchStatisticsStore:$()}},components:{CoreLoader:B,CoreTooltip:G,Graph:M,Statistic:A,SvgCircleQuestionMark:N},props:{statistics:{type:Array,default(){return[]}},statisticsData:{type:Object,default(){return null}},view:{type:String,default:"grid"},showGraph:{type:Boolean,default:!0}},data(){return{statisticsStrings:[{name:"impressions",label:a("Search Impressions",r),tooltip:u(a("The %1$stotal number of times your website appeared in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"clicks",label:a("Total Clicks",r),tooltip:u(a("The %1$stotal number of clicks that your website received from search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"ctr",label:a("Avg. CTR",r),tooltip:u(a("The %1$saverage click-through rate of your content in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"position",label:a("Avg. Position",r),tooltip:u(a("The %1$saverage position of your content in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"keywords",label:a("Total Keywords",r),tooltip:u(a("The %1$stotal number of keywords that your website ranks for in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")}]}},computed:{seoStatistics(){const t=[];return this.statistics.forEach(s=>{const o=this.statisticsStrings.find(i=>i.name===s);o&&t.push({...o,data:this.getData(s)})}),t},style(){const t=[];switch(this.view){case"side-by-side":t.push({"grid-template-columns":`repeat(${this.statistics.length}, 1fr)`});break;case"grid":t.push({"grid-template-columns":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`,"grid-template-rows":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`});break}return t}},methods:{getData(t){var o,i,f,c,p;const s=this.statisticsData?this.statisticsData:(i=(o=this.searchStatisticsStore.data)==null?void 0:o.seoStatistics)==null?void 0:i.statistics;return s?{total:s[t]||0,difference:s.difference&&Number(s.difference[t])||0,direction:s.difference&&0>s.difference[t]?"down":"up",chart:(p=(c=(f=this.searchStatisticsStore.data)==null?void 0:f.seoStatistics)==null?void 0:c.intervals)==null?void 0:p.map(l=>({x:D(new Date(l.date+" 00:00:00"),this.rootStore.aioseo.data.dateFormat),y:l[t]?l[t]:0}))}:{total:0,difference:0,direction:"up",chart:[]}}}},q={class:"statistics-title"},z=["innerHTML"],E={class:"statistics-current"},P={class:"statistics-current-total"},I={key:0,class:"statistics-chart"};function K(t,s,o,i,f,c){const p=d("svg-circle-question-mark"),l=d("core-tooltip"),b=d("statistic"),k=d("graph"),x=d("core-loader");return n(),h("div",{class:S(["aioseo-seo-statistics-overview",{[o.view]:!0,"hide-graph":!o.showGraph}]),style:O(c.style)},[(n(!0),h(j,null,F(c.seoStatistics,(e,C)=>(n(),h("div",{key:C,class:"statistics"},[m("div",{class:S([{blurred:i.searchStatisticsStore.loading.seoStatistics}])},[m("div",q,[H(y(e.label)+" ",1),e.tooltip?(n(),v(l,{key:0},{tooltip:w(()=>[m("span",{innerHTML:e.tooltip},null,8,z)]),default:w(()=>[_(p)]),_:2},1024)):g("",!0)]),m("div",E,[m("div",P,y(i.formatStatistic(e.name,e.data.total)),1),_(b,{class:S(["statistics-current-difference","statistics-current-difference--"+e.data.direction]),difference:e.data.difference,type:e.name,showCurrent:!1,"tooltip-offset":"-90px,0"},null,8,["class","difference","type"])]),o.showGraph?(n(),h("div",I,[_(k,{series:[{name:e.label,data:e.data.chart}],height:60,preset:"overview","invert-y-axis":e.name==="position"},null,8,["series","invert-y-axis"])])):g("",!0)],2),i.searchStatisticsStore.loading.seoStatistics?(n(),v(x,{key:0,dark:""})):g("",!0)]))),128))],6)}const at=V(R,[["render",K]]);export{at as S};
