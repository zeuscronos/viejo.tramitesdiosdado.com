import{a as M,c as O}from"./js/runtime-dom.esm-bundler.dc49ee3e.js";import{c as R,a as T}from"./js/vue-router.41e9d860.js";import{e as U,l as H}from"./js/index.20093c86.js";import{l as N}from"./js/index.f5fa0cce.js";import{l as q}from"./js/index.d80c2c2c.js";import{N as V,p as B,a7 as j,u as P,a3 as z,w as G,o as W,l as F}from"./js/index.4b887428.js";import{P as K}from"./js/PageBuilderIntegration.5bb34b91.js";import{h as Q}from"./js/helpers.1a09a04b.js";import{i as Y}from"./js/isEqual.59768dc1.js";import"./js/translations.e71e2202.js";import{a as y,_ as p}from"./js/default-i18n.65d58dd6.js";import{_ as v}from"./js/App.675dba82.js";import{_ as J}from"./js/ScoreButton.a94ce559.js";import{S as X}from"./js/LogoGear.32164283.js";import{o as Z,a1 as tt,a2 as et,l as ot,R as m,ae as it,h as rt}from"./js/runtime-core.esm-bundler.ce5add0b.js";import"./js/Button.9a301412.js";import"./js/_plugin-vue_export-helper.eefbdd86.js";import"./js/Input.f04bee4d.js";import"./js/Index.2a391835.js";import"./js/Close.ccd53ef3.js";import"./js/Pencil.d82df6a1.js";import"./js/Trash.87a7d946.js";import"./js/Select.f950b4c6.js";import"./js/Caret.cd869c5d.js";import"./js/Toggle.11571651.js";import"./js/helpers.633a054c.js";import"./js/isEmpty.15767c6b.js";import"./js/_getTag.6fb74b2e.js";import"./js/_baseIsEqual.c0ca09f7.js";/* empty css                */import"./js/ScrollAndHighlight.f49826ae.js";import"./js/ScrollTo.81bea8a7.js";import"./js/params.af7ed354.js";import"./js/LicenseKeyBar.40cfe2b2.js";import"./js/preload-helper.5f06849a.js";import"./js/icon.5e141fec.js";import"./js/constants.bc5863fe.js";import"./js/Index.25ae8dfb.js";import"./js/SettingsRow.35256805.js";import"./js/Row.bb9acf3f.js";import"./js/Checkbox.6a913600.js";import"./js/Checkmark.762f711e.js";import"./js/Url.9f0afcb2.js";import"./js/CreditCounter.a677ab15.js";import"./js/datetime.f197aeae.js";import"./js/Tooltip.23c7170d.js";import"./js/CheckSolid.5be77a11.js";import"./js/Textarea.1045f090.js";import"./js/AiContent.162ae902.js";import"./js/Simple.ad972ba4.js";import"./js/stripHTMLTags.7df752a7.js";import"./js/toNumber.ad9dffac.js";import"./js/_arrayEach.6af5abac.js";import"./js/Plus.c9b03af8.js";import"./js/HighlightToggle.51ada893.js";import"./js/Radio.b8474a23.js";import"./js/Tabs.13bb57b9.js";import"./js/ProBadge.e6ec5f9a.js";import"./js/Information.98ebb530.js";import"./js/Slide.3003ef51.js";import"./js/debounce.652fa24c.js";import"./js/Cta.650fc586.js";import"./js/popup.92105c51.js";import"./js/Index.72794c8a.js";import"./js/Blur.92695742.js";import"./js/MaxCounts.b4988c4d.js";import"./js/Ellipse.79856822.js";import"./js/Eye.489b3324.js";import"./js/TruSeoScore.b5fd3bf1.js";import"./js/Statistics.48462985.js";import"./js/RadioToggle.18655b2f.js";import"./js/GoogleSearchPreview.ea4e7828.js";import"./js/HtmlTagsEditor.a6c3be1f.js";import"./js/Editor.179f32d8.js";import"./js/_baseClone.e7cb118a.js";import"./js/UnfilteredHtml.ac78585e.js";import"./js/ConnectStore.f1902987.js";import"./js/SetupWizardStore.f23d0bfe.js";import"./js/license.388ee2cc.js";import"./js/upperFirst.5dc701f8.js";import"./js/Mobile.d702625c.js";import"./js/Settings.c0d5dedf.js";import"./js/TableOfContentsStore.d6d63124.js";import"./js/Cta.d280012a.js";import"./js/GoogleSearchConsole.6d009df7.js";import"./js/ConnectCta.c8f3baaf.js";import"./js/Graph.19914f74.js";import"./js/numbers.cdba2587.js";import"./js/vue3-apexcharts.d821ad9d.js";import"./js/WpTable.f051f458.js";import"./js/Table.5d523def.js";import"./js/Download.aa34559d.js";import"./js/RequiredPlans.515ee73d.js";import"./js/addons.9cee8bbb.js";import"./js/PostTypes.4e006733.js";import"./js/External.5f8a6285.js";import"./js/InternalOutbound.5b420e7d.js";import"./js/Image.33509a0b.js";import"./js/FacebookPreview.3832e81a.js";import"./js/Img.85371eb9.js";import"./js/Profile.1de11420.js";import"./js/ImageUploader.cbca7c75.js";import"./js/TwitterPreview.bdf52362.js";import"./js/Book.f0bec69d.js";import"./js/Build.acb95bd2.js";import"./js/Index.9e9d564d.js";import"./js/JsonValues.a0694556.js";import"./js/Index.778efbec.js";import"./js/Exclamation.fc507dc9.js";import"./js/External.641efa63.js";import"./js/escapeRegExp.39041b6f.js";import"./js/Gear.0f79dbf5.js";import"./js/date.f7db1924.js";import"./js/DatePicker.36e9e18f.js";import"./js/Calendar.9a717949.js";import"./js/pick.25b3ec2e.js";import"./js/Redirects.79d78435.js";import"./js/Card.597c7ae2.js";import"./js/Upsell.7de15d63.js";class nt extends window.$e.modules.hookUI.Base{constructor(e,i,o){super(),this.hook=e,this.id=i,this.callback=o}getCommand(){return this.hook}getId(){return this.id}apply(){return this.callback()}}class st extends window.$e.modules.hookData.Base{constructor(e,i,o){super(),this.hook=e,this.id=i,this.callback=o}getCommand(){return this.hook}getId(){return this.id}apply(){return this.callback()}}function l(t,e,i){window.$e.hooks.registerUIAfter(new nt(t,e,i))}function at(t,e,i){window.$e.hooks.registerDataAfter(new st(t,e,i))}let _={},k=!1;const S=()=>{const t=window.elementor.documents.getCurrent();if(!["wp-post","wp-page"].includes(t.config.type))return;const e={..._},i=V();Y(e,i)||(_=i,B())},mt=()=>{window.$e.internal("document/save/set-is-modified",{status:!0})},pt=()=>{k||(k=!0,l("editor/documents/attach-preview","aioseo-content-scraper-attach-preview",S),l("document/save/set-is-modified","aioseo-content-scraper-on-modified",S),at("document/save/save","aioseo-save",()=>{Q("elementor")}),U.on("postSettingsUpdated",mt))},ct=({elementor:t,elementorModules:e})=>{if(t.config.user.introduction["aioseo-introduction"]===!0)return;const i=new e.editor.utils.Introduction({introductionKey:"aioseo-introduction",dialogType:"alert",dialogOptions:{id:"aioseo-introduction",headerMessage:y(p("New: %1$s %2$s integration","all-in-one-seo-pack"),"AIOSEO","Elementor"),message:y(p("You can now manage your SEO settings inside of %1$s via %2$s before you publish your post!","all-in-one-seo-pack"),"Elementor","All in One SEO"),position:{my:"center center",at:"center center"},strings:{confirm:p("Got It!","all-in-one-seo-pack")},hide:{onButtonClick:!1},onConfirm:()=>{i.setViewed(),i.getDialog().hide()}}});i.show()},s={icon:"eicon-calendar",name:"aioseo-limit-modified-date",param:"aioseo_limit_modified_date",title:p("Save (Don't Modify Date)","all-in-one-seo-pack")},E=t=>{const e=document.getElementById(`elementor-panel-footer-sub-menu-item-${s.name}`);e&&(e.classList.remove("elementor-disabled"),t||e.classList.add("elementor-disabled"))},I=()=>{const{elementorCommon:t,$e:e}=window;!t||!e||(t.ajax.requestConstants[s.param]=!0,e.run("document/save/default"))},dt=({elementor:t,elementorCommon:e,$e:i})=>{t.once("preview:loaded",function(){t.getRegion("panel").currentView.footer.currentView.addSubMenuItem("saver-options",{icon:s.icon,name:s.name,title:s.title,callback:o=>{o.currentTarget.classList.contains("elementor-disabled")||I()}})}),t.on("document:loaded",o=>{E(o.container.settings.get("post_status")==="draft")}),i.commandsInternal.on("run:after",(o,r,c)=>{switch(r){case"document/save/set-is-modified":E(c.status);break;case"document/save/save":case"document/save/default":delete e.ajax.requestConstants[s.param];break}}),document.addEventListener("aioseo-limit-modified-date-save",I)},lt={__name:"Button",emits:["click"],setup(t){const{currentPost:e}=j(P());return(i,o)=>(Z(),tt(m(J),{"show-score":m(z)(),score:m(e).seo_score,class:it([""]),onClick:o[0]||(o[0]=M(r=>i.$emit("click"),["prevent"]))},{icon:et(()=>[ot(m(X))]),_:1},8,["show-score","score"]))}};let n=null,A=!1;const ut=()=>{let t=window.elementor.getPreferences("ui_theme")||"auto";t==="auto"&&(t=matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.body.classList.forEach(e=>{e.startsWith("aioseo-elementor-")&&document.body.classList.remove(e)}),document.body.classList.add("aioseo-elementor-"+t)},D=()=>{var e,i,o;const t=(i=(e=window.elementor)==null?void 0:e.documents)==null?void 0:i.getCurrent();return["wp-post","wp-page"].includes((o=t==null?void 0:t.config)==null?void 0:o.type)},u=t=>{var i;const e=t.components.get("panel/elements");e&&!((i=e.tabs)!=null&&i.aioseo)&&e.addTab("aioseo",{title:"AIOSEO"})},L=({$e:t})=>{if(D()){u(t);try{t.routes.run("panel/page-settings/aioseo")}catch{t.routes.run("panel/page-settings/settings"),t.routes.run("panel/page-settings/aioseo")}}},ft=async()=>{await new K({scoreBtn:{component:lt,appName:"Standalone/Elementor/Button",node:{$wrapper:document.querySelector("#elementor-editor-wrapper-v2 .MuiGrid-container:first-child .MuiStack-root:last-child"),tag:"span",attributes:{id:"aioseo-elementor-toolbar-button",style:"cursor: pointer;",role:"button"}}}}).mount(),document.addEventListener("aioseo-pagebuilder-toggle-modal",()=>{L(window)})},gt=({elementor:t,$e:e,Marionette:i})=>{e.routes.on("run:after",function(o,r){ut(),r==="panel/page-settings/aioseo"&&(n==null||n.unmount(),n=C("#elementor-panel-page-settings-controls"))}),t.modules.layouts.panel.pages.menu.Menu.addItem({name:"aioseo",icon:"aioseo aioseo-element-menu-icon aioseo-element-menu-icon-"+t.getPreferences("ui_theme"),title:"All in One SEO",type:"page",callback:()=>{L(window)}},"more"),t.once("preview:loaded",function(){u(e)}),l("editor/documents/attach-preview","aioseo-register-tab-on-document-switch",()=>{D()&&u(e)}),t.hooks.addFilter("panel/elements/regionViews",o=>(o.aioseo={region:o.global.region,view:i.ItemView.extend({template:!1,id:"elementor-panel-aioseo",className:"aioseo-elementor aioseo-sidebar-panel",initialize(){document.getElementById("elementor-panel-elements-search-area").hidden=!0},onShow(){n==null||n.unmount(),n=C("#elementor-panel-aioseo")},onDestroy(){document.getElementById("elementor-panel-elements-search-area").hidden=!1}}),options:{}},o))},C=t=>{const e=document.querySelector(t);e.classList.add("edit-post-sidebar","editor-sidebar","aioseo-elementor-panel"),e.appendChild(document.createElement("div"));const i=R({history:T(),routes:[{path:"/:pathMatch(.*)*",component:v}]});let o=O({name:"Standalone/Elementor",data(){return{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"}},render:()=>rt(v,{onBeforeMount(){var f,g,w;const r=P(),c=G(),x=W(),d=(w=(g=(f=window.elementor)==null?void 0:f.config)==null?void 0:g.document)==null?void 0:w.id;if(d&&Number(r.currentPost.id)!==Number(d))try{r.fetchPostData({postId:d,integrationSlug:"elementor"}).then(a=>{var h,b;r.updateState(a.body.data.currentPost),c.updateState(((h=a.body.data)==null?void 0:h.redirects)??null),x.updateState(((b=a.body.data)==null?void 0:b.seoRevisions)??null)})}catch(a){console.error(a)}}})});return o=H(o),o=N(o),o=q(o),o.use(i),i.app=o,F(o,i),pt(),o.mount(`${t} > div`),B(),o},$=()=>{ft(),gt(window),ct(window),dt(window)};window.elementor&&(setTimeout($),A=!0);(function(t){A||t(window).on("elementor:init",()=>{window.elementor.on("panel:init",()=>{setTimeout($)})})})(window.jQuery);
