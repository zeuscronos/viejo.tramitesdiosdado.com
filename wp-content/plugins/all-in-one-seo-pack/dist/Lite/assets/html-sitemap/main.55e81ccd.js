import{h as B,r as E,m as U}from"../js/utils.671ae102.js";import{a as A,c as j}from"../js/runtime-dom.esm-bundler.dc49ee3e.js";import{o as H}from"../js/helpers.633a054c.js";import{l as M}from"../js/index.20093c86.js";import{e as L,a as J,l as Z}from"../js/index.4b887428.js";import{u as z}from"../js/JsonValues.a0694556.js";import{S as G}from"../js/AddPlus.39af5a0f.js";import{S as q}from"../js/Close.ccd53ef3.js";import{S as F}from"../js/External.641efa63.js";import"../js/translations.e71e2202.js";import{_ as C}from"../js/_plugin-vue_export-helper.eefbdd86.js";import{_ as o}from"../js/default-i18n.65d58dd6.js";import{a6 as _,o as m,c as b,l as p,a2 as u,a7 as y,$ as n,_ as l,a1 as w,a4 as f,F as N,af as W,ae as K,h as Q}from"../js/runtime-core.esm-bundler.ce5add0b.js";import{u as X}from"../js/PostTypes.4e006733.js";import{B as Y}from"../js/HighlightToggle.51ada893.js";import{C as ee}from"../js/Tooltip.23c7170d.js";import{G as te,a as se}from"../js/Row.bb9acf3f.js";import{l as oe}from"../js/index.f5fa0cce.js";import{l as ae}from"../js/index.d80c2c2c.js";import"../js/Checkbox.6a913600.js";import"../js/Checkmark.762f711e.js";import"../js/Radio.b8474a23.js";import"../js/Button.9a301412.js";import"../js/Input.f04bee4d.js";import"../js/Index.2a391835.js";import"../js/Pencil.d82df6a1.js";import"../js/Trash.87a7d946.js";import"../js/Select.f950b4c6.js";import"../js/Caret.cd869c5d.js";import"../js/Toggle.11571651.js";const ne=B`
<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M4.125 4.5H20.125V20.5H4.125V4.5ZM9.71875 6.89062H17.7188V8.49062H9.71875V6.89062ZM17.7188 10.0781H9.71875V11.6781H17.7188V10.0781ZM9.71875 13.2661H17.7188V14.8661H9.71875V13.2661ZM17.7188 16.5H9.71875V18.1H17.7188V16.5ZM6.51562 6.89062H8.11562V8.49062H6.51562V6.89062ZM8.11562 10.0781H6.51562V11.6781H8.11562V10.0781ZM6.51562 13.2661H8.11562V14.8661H6.51562V13.2661ZM8.11562 16.5H6.51562V18.1H8.11562V16.5Z" fill="black" fillRule="evenodd" clipRule="evenodd"/>
</svg>
`,le="https://schemas.wp.org/wp/5.8/block.json",ie="aioseo/html-sitemap",re="AIOSEO - HTML Sitemap",de="Displays a sitemap with your site's posts and terms.",ce="widgets",pe=["html sitemap","link","list","menu","navigation","posts","posts list","posts sitemap","terms","terms list","terms sitemap","simple sitemap","sitemap","visual sitemap"],ue="all-in-one-seo-pack",me={default:{type:"boolean",default:!0},post_types:{type:"string",default:'["post", "page"]'},post_types_all:{type:"boolean",default:!0},taxonomies:{type:"string",default:'["category", "post_tag"]'},taxonomies_all:{type:"boolean",default:!0},show_label:{type:"boolean",default:!0},archives:{type:"boolean",default:!1},publication_date:{type:"boolean",default:!0},nofollow_links:{type:"boolean",default:!1},order_by:{type:"string",default:"publish_date"},order:{type:"string",default:"asc"},excluded_posts:{type:"string",default:"[]"},excluded_terms:{type:"string",default:"[]"},is_admin:{type:"boolean"}},ge={html:!1},_e={$schema:le,name:ie,title:re,description:de,category:ce,keywords:pe,textdomain:ue,attributes:me,supports:ge},k="all-in-one-seo-pack",he={setup(){const{getJsonValues:e,setJsonValues:t}=z();return{getJsonValues:e,optionsStore:L(),setJsonValues:t}},components:{SvgAddPlus:G,SvgClose:q,SvgExternal:F},props:{type:{type:String,required:!0}},data(){return{excludeOptions:[],strings:{typeToSearch:o("Type to search...",k),noOptionsPosts:o("Begin typing a post ID, title or slug to search...",k),noOptionsTerms:o("Begin typing a term ID or name to search...",k),noResult:o("No results found for your search. Try again!",k),clear:o("Clear",k),id:o("ID",k),type:o("Type",k)}}},computed:{optionName:{get(){return this.type==="posts"?JSON.parse(this.$root.$data.excluded_posts):JSON.parse(this.$root.$data.excluded_terms)},set(e){if(e=JSON.stringify(e),this.type==="posts"){this.$root.$data.excluded_posts=e;return}this.$root.$data.excluded_terms=e}},noOptions(){return this.type==="posts"?this.strings.noOptionsPosts:this.strings.noOptionsTerms}},methods:{processGetObjects(e){return this.optionsStore.getObjects({query:e,type:this.type}).then(t=>{this.excludeOptions=t.body.objects})},getOptionTitle(e,t){e=e.replace(/<\/?[^>]+(>|$)/g,""),t=t.replace(/<\/?[^>]+(>|$)/g,"");const r=new RegExp(`(${t})`,"gi");return e.replace(r,'<span class="search-term">$1</span>')}}},be={class:"aioseo-exclude-posts"},ye={class:"option"},fe=["innerHTML"],ve={class:"option-details"},$e=["href"],Se={class:"multiselect__tag"},Ve={class:"multiselect__tag-value"},ke=["onClick"];function xe(e,t,r,g,a,d){const h=_("svg-add-plus"),v=_("base-button"),V=_("svg-external"),$=_("svg-close"),i=_("base-select");return m(),b("div",be,[p(i,{options:a.excludeOptions,"ajax-search":d.processGetObjects,size:"medium",multiple:"",modelValue:g.getJsonValues(d.optionName),"onUpdate:modelValue":t[0]||(t[0]=s=>d.optionName=g.setJsonValues(s)),placeholder:a.strings.typeToSearch},{noOptions:u(()=>[y(n(d.noOptions),1)]),noResult:u(()=>[y(n(a.strings.noResult),1)]),caret:u(({toggle:s})=>[p(v,{class:"multiselect-toggle",style:{padding:"10px 13px",width:"40px",position:"absolute",height:"36px",right:"2px",top:"2px","text-align":"center",transition:"transform .2s ease"},type:"gray",onClick:s},{default:u(()=>[p(h,{style:{width:"14px",height:"14px",color:"black"}})]),_:2},1032,["onClick"])]),option:u(({option:s,search:S})=>[l("div",ye,[l("div",{class:"option-title",innerHTML:d.getOptionTitle(s.label,S)},null,8,fe),l("div",ve,[l("span",null,n(a.strings.id)+": #"+n(s.value),1),l("span",null,n(a.strings.type)+": "+n(s.type),1)])]),l("a",{class:"option-permalink",href:s.link,target:"_blank",onClick:A(()=>{},["stop"])},[p(V)],8,$e)]),tag:u(({option:s,remove:S})=>[l("div",Se,[l("div",Ve,n(s.label)+" - #"+n(s.value),1),l("div",{class:"multiselect__tag-remove",onClick:A(T=>S(s),["stop"])},[p($,{onClick:A(T=>S(s),["stop"])},null,8,["onClick"])],8,ke)])]),_:1},8,["options","ajax-search","modelValue","placeholder"]),p(v,{type:"gray",size:"small",onClick:t[1]||(t[1]=s=>d.optionName=[])},{default:u(()=>[y(n(a.strings.clear),1)]),_:1})])}const we=C(he,[["render",xe]]),O="all-in-one-seo-pack",Oe={setup(){const{getPostIconClass:e}=X();return{getPostIconClass:e,rootStore:J()}},components:{BaseHighlightToggle:Y,CoreTooltip:ee,GridColumn:te,GridRow:se},props:{type:{type:String,required:!0},excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:o("Label:",O),name:o("Slug:",O),includeAllPostTypes:o("Include All Post Types",O),includeAllTaxonomies:o("Include All Taxonomies",O)}}},computed:{includeAllSetting(){const e=this.type+"_all";return this.$root.$data[e]},objects(){const e=this.type==="taxonomies"?"taxonomies":"postTypes";return this.rootStore.aioseo.postData[e].filter(t=>!this.excluded.includes(t.name))}},methods:{getState(){return JSON.parse(this.$root.$data[this.type])},setState(e){this.$root.$data[this.type]=JSON.stringify(e)},getValue(e){return this.getState().includes(e.name)},updateValue(e,t){const r=this.getState();if(e){r.push(t.name),this.setState(r);return}const g=r.findIndex(a=>a===t.name);g!==-1&&(r.splice(g,1),this.setState(r))},isActive(e){return this.getState().findIndex(r=>r===e.name)!==-1}}},Te={class:"aioseo-included-objects-toggle"},Ae={class:"included-objects-settings"},Pe={class:"aioseo-description"},Ce=l("br",null,null,-1);function He(e,t,r,g,a,d){const h=_("base-toggle"),v=_("core-tooltip"),V=_("base-highlight-toggle"),$=_("grid-column"),i=_("grid-row");return m(),b("div",Te,[l("div",Ae,[r.type==="post_types"?(m(),w(h,{key:0,size:"medium",modelValue:e.$root.$data.post_types_all,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$root.$data.post_types_all=s)},{default:u(()=>[y(n(a.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"])):f("",!0),r.type==="taxonomies"?(m(),w(h,{key:1,size:"medium",modelValue:e.$root.$data.taxonomies_all,"onUpdate:modelValue":t[1]||(t[1]=s=>e.$root.$data.taxonomies_all=s)},{default:u(()=>[y(n(a.strings.includeAllTaxonomies),1)]),_:1},8,["modelValue"])):f("",!0),0<d.objects.length&&!d.includeAllSetting?(m(),w(i,{key:2,class:"aioseo-included-list"},{default:u(()=>[(m(!0),b(N,null,W(d.objects,(s,S)=>(m(),w($,{md:"6",key:S},{default:u(()=>[p(V,{size:"medium",active:d.isActive(s),name:s.name,type:"checkbox",modelValue:d.getValue(s),"onUpdate:modelValue":T=>d.updateValue(T,s)},{default:u(()=>[p(v,null,{tooltip:u(()=>[l("div",Pe,[y(n(a.strings.label)+" ",1),l("strong",null,n(s.label),1),Ce,y(" "+n(a.strings.name)+" ",1),l("strong",null,n(s.name),1)])]),default:u(()=>[l("span",{class:K(["icon dashicons",g.getPostIconClass(s.icon)])},null,2)]),_:2},1024),y(" "+n(s.label),1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):f("",!0)])])}const De=C(Oe,[["render",He]]),c="all-in-one-seo-pack",Ie={components:{HtmlSitemapExcludeObjects:we,HtmlSitemapIncludedObjects:De},data(){return{sortDirections:[{label:o("Ascending",c),value:"asc"},{label:o("Descending",c),value:"desc"}],sortOrders:[{label:o("Publish Date",c),value:"publish_date"},{label:o("Last Updated",c),value:"last_updated"},{label:o("Alphabetical",c),value:"alphabetical"},{label:o("Post/Term ID",c),value:"id"}],strings:{useDefault:o("Use Default Settings",c),postTypes:o("Post Types",c),taxonomies:o("Taxonomies",c),includeAllPostTypes:o("Include All Post Types",c),includeAllTaxonomies:o("Include All Taxonomies",c),showLabel:o("Show Labels",c),publicationDate:o("Show Publication Date",c),archives:o("Compact Archives",c),sortOrder:o("Sort Order",c),sortDirection:o("Sort Direction",c),excludePostsPages:o("Exclude Posts / Pages",c),excludeTerms:o("Exclude Terms",c)}}},methods:{getSortOrder(e){return this.sortOrders.find(t=>t.value===e)},getSortDirection(e){return this.sortDirections.find(t=>t.value===e)}}},Ne={class:"aioseo-html-sitemap-sidebar"},Re={class:"sidebar-row"},Be={class:"sidebar-row"},Ee={key:0,class:"sidebar-row"},Ue={key:1,class:"sidebar-row"},je={key:2,class:"sidebar-row"},Me={class:"aioseo-sidebar-title"},Le={key:3,class:"sidebar-row"},Je={class:"aioseo-sidebar-title"},Ze={key:4,class:"sidebar-row"},ze={class:"aioseo-sidebar-title"},Ge={class:"sidebar-row"},qe={class:"aioseo-sidebar-title"},Fe={key:5,class:"sidebar-row"},We={class:"aioseo-sidebar-title"},Ke={key:6,class:"sidebar-row"},Qe={class:"aioseo-sidebar-title"};function Xe(e,t,r,g,a,d){const h=_("base-toggle"),v=_("html-sitemap-included-objects"),V=_("base-select"),$=_("html-sitemap-exclude-objects");return m(),b("div",Ne,[l("div",Re,[p(h,{modelValue:e.$root.$data.default,"onUpdate:modelValue":t[0]||(t[0]=i=>e.$root.$data.default=i)},{default:u(()=>[y(n(a.strings.useDefault),1)]),_:1},8,["modelValue"])]),e.$root.$data.default?f("",!0):(m(),b(N,{key:0},[l("div",Be,[p(h,{modelValue:e.$root.$data.archives,"onUpdate:modelValue":t[1]||(t[1]=i=>e.$root.$data.archives=i)},{default:u(()=>[y(n(a.strings.archives),1)]),_:1},8,["modelValue"])]),e.$root.$data.archives?f("",!0):(m(),b("div",Ee,[p(h,{modelValue:e.$root.$data.show_label,"onUpdate:modelValue":t[2]||(t[2]=i=>e.$root.$data.show_label=i)},{default:u(()=>[y(n(a.strings.showLabel),1)]),_:1},8,["modelValue"])])),e.$root.$data.archives?f("",!0):(m(),b("div",Ue,[p(h,{modelValue:e.$root.$data.publication_date,"onUpdate:modelValue":t[3]||(t[3]=i=>e.$root.$data.publication_date=i)},{default:u(()=>[y(n(a.strings.publicationDate),1)]),_:1},8,["modelValue"])])),e.$root.$data.archives?f("",!0):(m(),b("div",je,[l("p",Me,n(a.strings.postTypes),1),p(v,{type:"post_types",excluded:["attachment"]})])),e.$root.$data.archives?f("",!0):(m(),b("div",Le,[l("p",Je,n(a.strings.taxonomies),1),p(v,{type:"taxonomies"})])),e.$root.$data.archives?f("",!0):(m(),b("div",Ze,[l("p",ze,n(a.strings.sortOrder),1),p(V,{size:"medium",options:a.sortOrders,modelValue:d.getSortOrder(e.$root.$data.order_by),"onUpdate:modelValue":t[4]||(t[4]=i=>e.$root.$data.order_by=i.value),"track-by":"value"},null,8,["options","modelValue"])])),l("div",Ge,[l("p",qe,n(a.strings.sortDirection),1),p(V,{size:"medium",options:a.sortDirections,modelValue:d.getSortDirection(e.$root.$data.order),"onUpdate:modelValue":t[5]||(t[5]=i=>e.$root.$data.order=i.value),"track-by":"value"},null,8,["options","modelValue"])]),e.$root.$data.archives?f("",!0):(m(),b("div",Fe,[l("p",We,n(a.strings.excludePostsPages),1),p($,{type:"posts"})])),e.$root.$data.archives?f("",!0):(m(),b("div",Ke,[l("p",Qe,n(a.strings.excludeTerms),1),p($,{type:"terms"})]))],64))])}const Ye=C(Ie,[["render",Xe]]),et="all-in-one-seo-pack",{name:R,title:tt,description:st,category:ot,supports:at,attributes:nt}=_e,x=window.wp,lt=x.serverSideRender||x.components.ServerSideRender;var I;const it=((I=x.blockEditor)==null?void 0:I.InspectorControls)||x.editor.InspectorControls,rt=x.components.PanelBody,P={},D=[],dt={title:tt,description:st,category:ot,supports:at,attributes:nt,icon:ne,edit:function(e){var $;const{setAttributes:t,attributes:r,clientId:g,isSelected:a,toggleSelection:d}=e,h="aioseo-"+g;r.is_admin=(window==null?void 0:window.location)&&(($=window==null?void 0:window.location)==null?void 0:$.pathname.startsWith("/wp-admin/"));const v={id:h,parent:document.querySelector(".block-editor"),subtree:!0,loop:!1,done:function(i){U(g,D);let s=j({name:"Blocks/HtmlSitemap",data:function(){return P[g]},watch:{$data:{handler:function(S){t(S)},deep:!0}},render:()=>Q(Ye)});s=M(s),s=oe(s),s=ae(s),Z(s),s.mount(i),D.push({id:g,app:s})}};return a&&(P[g]={},Object.keys(r).forEach(i=>{P[g][i]=r[i]}),H(v)),x.data.useSelect(i=>i("core/edit-post").getActiveGeneralSidebarName())==="edit-post/block"&&(typeof d!="function"||d(!0)),React.createElement(React.Fragment,null,React.createElement(it,null,React.createElement(rt,{title:o("Block Settings",et),initialOpen:!0,onToggle:H(v)},React.createElement("div",{id:h}))),React.createElement(lt,{block:R,attributes:{...r}}))},save:function(){return null}};E({name:R,settings:dt});
