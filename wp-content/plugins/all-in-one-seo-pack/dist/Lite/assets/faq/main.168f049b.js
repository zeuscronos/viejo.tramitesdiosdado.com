import{h as F,r as T,g as M}from"../js/utils.671ae102.js";import{G as O}from"../js/constants.bc5863fe.js";import{b as D}from"../js/index.4b887428.js";import"../js/translations.e71e2202.js";import{_ as s}from"../js/default-i18n.65d58dd6.js";import"../js/runtime-core.esm-bundler.ce5add0b.js";import"../js/helpers.633a054c.js";const z=F`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 15q.425 0 .738-.312.312-.313.312-.738t-.312-.738Q14.425 12.9 14 12.9t-.737.312q-.313.313-.313.738t.313.738Q13.575 15 14 15Zm-.75-3.2h1.5q0-.725.15-1.063.15-.337.7-.887.75-.75 1-1.213.25-.462.25-1.087 0-1.125-.788-1.837Q15.275 5 14 5q-1.025 0-1.787.575-.763.575-1.063 1.525l1.35.55q.225-.625.613-.938Q13.5 6.4 14 6.4q.6 0 .975.337.375.338.375.913 0 .35-.2.662-.2.313-.7.788-.825.725-1.012 1.137-.188.413-.188 1.563ZM8 18q-.825 0-1.412-.587Q6 16.825 6 16V4q0-.825.588-1.413Q7.175 2 8 2h12q.825 0 1.413.587Q22 3.175 22 4v12q0 .825-.587 1.413Q20.825 18 20 18Zm-4 4q-.825 0-1.412-.587Q2 20.825 2 20V6h2v14h14v2Z"/></svg>
`,W="https://schemas.wp.org/wp/5.8/block.json",G="aioseo/faq",P="AIOSEO - FAQ",U="Easily add an SEO-friendly Frequently Asked Question (FAQ) to your content.",V="aioseo",Z=["accordion","answer","faq","frequently asked questions","knowledge base","question","schema","seo"],j="all-in-one-seo-pack",K={hidden:{type:"boolean",default:!1},question:{type:"string",selector:".aioseo-faq-block-question"},schemaBlockId:{type:"string",default:""},tagName:{type:"string",default:"h3"}},Y={html:!1,anchor:!0,align:["wide","full"],color:{link:!0,__experimentalDefaultControls:{background:!0,text:!0}},typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0,blockGap:!0}},J={$schema:W,name:G,title:P,description:U,category:V,keywords:Z,textdomain:j,attributes:K,supports:Y},m="all-in-one-seo-pack",X=window.wp,{PanelBody:ee,SelectControl:te,ToggleControl:oe}=X.components,ne=({attributes:c,setSchemaBlockAttributes:t})=>{const{hidden:o,tagName:e}=c,a=D.getUpsellLink("faq-block",null,O.learnMore,"sidebar",!0);return React.createElement(ee,{title:s("FAQ Options",m)},React.createElement(te,{label:s("Title Wrapper",m),options:[{label:"DIV",value:"div"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"}],value:e,onChange:l=>t({tagName:l}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),React.createElement("p",{className:"aioseo-visibility-label"},s("Visibility",m)),React.createElement(oe,{className:"aioseo-faq-visibility",label:s("Display Block",m),help:s("You can choose to hide this block on the front-end of your site so that visitors won't see it but search engines will still see it.",m),checked:!o,onChange:()=>t({hidden:!o}),__nextHasNoMarginBottom:!0}),React.createElement("div",{className:"aioseo-alert aioseo-alert inline-upsell blue medium"},React.createElement("div",{dangerouslySetInnerHTML:{__html:s("FAQ schema is a Pro feature.",m)+" "+a}})))},N="all-in-one-seo-pack",{name:ae,title:se,description:ce,category:le,supports:re,attributes:ie}=J,{useSelect:x}=window.wp.data,{useEffect:ue}=window.wp.element,{serialize:de}=window.wp.blocks,E=window.wp;var S;const me=((S=E.blockEditor)==null?void 0:S.InspectorControls)||E.editor.InspectorControls,{RichText:R,InnerBlocks:A}=E.blockEditor,p=[],pe=c=>{const{body:t}=document.implementation.createHTMLDocument("");t.innerHTML=c;function o(e){var l;const a=e.childNodes;for(const n of a){if((l=n.nodeName)!=null&&l.toLowerCase().includes("comment")&&n.parentNode.removeChild(n),n.attributes)for(const{name:f,value:q}of n.attributes){const u=q.replace(/\s+/g,"").toLowerCase();(!["src","href"].includes(f)||f.startsWith("on")||u.includes("javascript:")||u.includes("data:"))&&n.removeAttribute(f)}o(n)}}return o(t),t.innerHTML.trim().replace(/\s+/g," ")},fe={title:se,description:ce,category:le,supports:re,attributes:ie,icon:z,edit:function(c){const{attributes:t,className:o,clientId:e,setAttributes:a,isSelected:l}=c,{hidden:n,question:f,tagName:q,schemaBlockId:u}=t;!p.includes(e)&&!l&&p.push(e);const g=i=>{window.requestAnimationFrame(()=>{a(i)}),window.aioseoBus.$emit("schemaBlockUpdated")};ue(()=>{(!u||1<(document.querySelectorAll(`[data-schema-block-id='${u}']`)||[]).length)&&g({schemaBlockId:M()})},[]);const r=x(i=>{const h=i("core/block-editor");if(!h)return;const{getAdjacentBlockClientId:b,getBlockAttributes:k,getBlockName:d,getClientIdsWithDescendants:w,getGlobalBlockCount:y}=h;if(p.includes(e)||2>y("aioseo/faq"))return null;const B=b(e,-1);if(d(B)==="aioseo/faq")return k(B);const _=b(e,1);if(d(_)==="aioseo/faq")return k(_);const v=w().filter($=>d($)==="aioseo/faq"),C=v.indexOf(e),I=v[C-1]||v[C+1];return d(I)==="aioseo/faq"?k(I):null},[e,p]);l&&!p.includes(e)&&!t.question&&r&&(p.push(e),window.requestAnimationFrame(()=>{a({backgroundColor:r.backgroundColor,textColor:r.textColor,tagName:r.tagName,hidden:r.hidden,fontSize:r.fontSize,style:r.style})}));const L=x(i=>{const h=i("core/block-editor");if(!h)return;const{getBlocks:b}=h;return(d=>{const w=b(d),y=de(w);return pe(y)})(e)},[e]);g({answer:L});const Q=[["core/paragraph",{placeholder:s("Write an answer...",N)}]],H=["core/paragraph","core/heading","core/list","core/image","core/media-text"];return React.createElement(React.Fragment,null,React.createElement("div",{"data-schema-only":n,className:o,"data-schema-block-id":u},React.createElement(me,null,React.createElement(ne,{setSchemaBlockAttributes:g,attributes:t})),React.createElement(R,{tagName:q,placeholder:s("Write a question...",N),className:"aioseo-faq-block-question",value:f,onChange:i=>g({question:i})}),React.createElement("div",{className:"aioseo-faq-block-answer"},React.createElement(A,{template:Q,allowedBlocks:H}))))},save:function({attributes:c,className:t}){const{hidden:o,question:e,tagName:a}=c;return React.createElement("div",{"data-schema-only":o,className:t},React.createElement(R.Content,{tagName:a,className:"aioseo-faq-block-question",value:e}),React.createElement("div",{className:"aioseo-faq-block-answer"},React.createElement(A.Content,null)))}};T({name:ae,settings:fe});
