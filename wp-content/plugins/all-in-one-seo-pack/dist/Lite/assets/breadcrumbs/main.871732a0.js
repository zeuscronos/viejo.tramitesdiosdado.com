import{g as ce}from"../js/helpers.c6e7835c.js";import{c as ue}from"../js/runtime-dom.esm-bundler.dc49ee3e.js";import{a as me,u as de,l as le}from"../js/index.4b887428.js";import{h as be,r as pe}from"../js/utils.671ae102.js";import"../js/translations.e71e2202.js";import{_ as b}from"../js/default-i18n.65d58dd6.js";import"../js/runtime-core.esm-bundler.ce5add0b.js";import"../js/helpers.633a054c.js";const p="all-in-one-seo-pack",te=window.wp,{PanelBody:ge}=te.components,fe=({clientId:s})=>{const n=`aioseo-${s}-settings`,t=()=>{window.aioseoBus.$emit("do-post-settings-main-tab-change",{name:"advanced",context:"metabox"}),te.data.dispatch("core/edit-post").openGeneralSidebar("aioseo-post-settings-sidebar/aioseo-post-settings-sidebar"),setTimeout(()=>{window.aioseoBus.$emit("do-post-settings-main-tab-change",{name:"advanced",context:"sidebar"})},100)};return React.createElement(ge,{title:b("Breadcrumb Settings",p),initialOpen:!0},React.createElement("div",null,React.createElement("div",{id:n},React.createElement("p",{className:"aioseo-breadcrumbs-sidebar-text"},b("You can customize your breadcrumb trail under ",p),React.createElement("a",{href:"#",onClick:()=>t()},b("Advanced > Breadcrumbs.",p))))))},we=be`
<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M1.7002 5.31067H10.8705L17.8705 12.5L10.8705 19.6893H1.7002V5.31067ZM10.2856 12.4999C10.2856 13.3284 9.61396 14.0001 8.7854 14.0001C7.95684 14.0001 7.28516 13.3284 7.28516 12.4999C7.28516 11.6713 7.95684 10.9996 8.7854 10.9996C9.61396 10.9996 10.2856 11.6713 10.2856 12.4999ZM6.1933 12.5001C6.1933 13.195 5.62995 13.7584 4.93503 13.7584C4.2401 13.7584 3.67676 13.195 3.67676 12.5001C3.67676 11.8052 4.2401 11.2418 4.93503 11.2418C5.62995 11.2418 6.1933 11.8052 6.1933 12.5001ZM12.6342 13.7584C13.3292 13.7584 13.8925 13.195 13.8925 12.5001C13.8925 11.8052 13.3292 11.2418 12.6342 11.2418C11.9393 11.2418 11.376 11.8052 11.376 12.5001C11.376 13.195 11.9393 13.7584 12.6342 13.7584ZM15.3002 5.31067H12.5771L19.5771 12.5L12.5771 19.6893H15.3002L22.3002 12.5L15.3002 5.31067Z" fill="black"/>
</svg>
`,ye="https://schemas.wp.org/wp/5.8/block.json",Te="aioseo/breadcrumbs",he="AIOSEO - Breadcrumbs",Se="Displays the breadcrumb trail for the current page.",_e="widgets",Ce=["breadcrumb","breadcrumbs","breadcrumb trail","crumb","crumbs","crumb trail","hierarchy","links","menu","navigation","schema","seo","trail"],Re={primaryTerm:{type:"string",default:null},postTitle:{type:"string",default:null},breadcrumbSettings:{type:"object",default:{default:!0,separator:"›",showHomeCrumb:!0,showParentCrumbs:!0,showTaxonomyCrumbs:!0,template:"default",parentTemplate:"default",taxonomy:"",primaryTerm:null}}},xe="all-in-one-seo-pack",ve={html:!1},Ee={$schema:ye,name:Te,title:he,description:Se,category:_e,keywords:Ce,attributes:Re,textdomain:xe,supports:ve},o=window.wp,{useEffect:S,useRef:_}=o.element,{useSelect:Pe}=o.data,{InspectorControls:ke}=o.blockEditor||o.editor,{Disabled:Le}=o.components,C=o.serverSideRender||o.components.ServerSideRender;var R,x;const Be=((x=(R=window==null?void 0:window.aioseo)==null?void 0:R.currentPost)==null?void 0:x.postType)??"";let re="";var v,E;const g=(E=(v=window==null?void 0:window.aioseo)==null?void 0:v.postData)==null?void 0:E.postTypes.find(s=>s.name===Be);g&&0<g.taxonomies.length&&(re=g.taxonomies[0]);const{name:f,title:$e,description:Ae,category:He}=Ee;var P,k,L,B,$,A,H,M,O,N,Z,D,I,j,q,J,F,z,G,U,V,W,Y,K,Q,X,ee;const Me={title:$e,description:Ae,category:He,icon:we,attributes:{primaryTerm:{type:"string",default:null},postTitle:{type:"string",default:null},breadcrumbSettings:{type:"object",default:{default:((L=(k=(P=window==null?void 0:window.aioseo)==null?void 0:P.currentPost)==null?void 0:k.breadcrumb_settings)==null?void 0:L.default)??!0,separator:((A=($=(B=window==null?void 0:window.aioseo)==null?void 0:B.currentPost)==null?void 0:$.breadcrumb_settings)==null?void 0:A.separator)??"›",showHomeCrumb:((O=(M=(H=window==null?void 0:window.aioseo)==null?void 0:H.currentPost)==null?void 0:M.breadcrumb_settings)==null?void 0:O.showHomeCrumb)??!0,showTaxonomyCrumbs:((D=(Z=(N=window==null?void 0:window.aioseo)==null?void 0:N.currentPost)==null?void 0:Z.breadcrumb_settings)==null?void 0:D.showTaxonomyCrumbs)??!0,showParentCrumbs:((q=(j=(I=window==null?void 0:window.aioseo)==null?void 0:I.currentPost)==null?void 0:j.breadcrumb_settings)==null?void 0:q.showParentCrumbs)??!0,template:((z=(F=(J=window==null?void 0:window.aioseo)==null?void 0:J.currentPost)==null?void 0:F.breadcrumb_settings)==null?void 0:z.template)??"default",parentTemplate:((V=(U=(G=window==null?void 0:window.aioseo)==null?void 0:G.currentPost)==null?void 0:U.breadcrumb_settings)==null?void 0:V.parentTemplate)??"default",taxonomy:((K=(Y=(W=window==null?void 0:window.aioseo)==null?void 0:W.currentPost)==null?void 0:Y.breadcrumb_settings)==null?void 0:K.taxonomy)||re,primaryTerm:((ee=(X=(Q=window==null?void 0:window.aioseo)==null?void 0:Q.currentPost)==null?void 0:X.breadcrumb_settings)==null?void 0:ee.primaryTerm)??null}}},edit:function(s){var y,T,h;const{setAttributes:n,attributes:t,clientId:oe}=s,ne=me(),d=de(),i=_(null),w=_(!1),l=Pe(e=>e("core/editor").getEditedPostAttribute("title"));window.aioseoBus.$on("standalone-update-post",e=>{!(e!=null&&e.primary_term)&&!(e!=null&&e.breadcrumb_settings)||(e!=null&&e.primary_term&&n({primaryTerm:JSON.stringify(e.primary_term)}),e!=null&&e.breadcrumb_settings&&n({breadcrumbSettings:e.breadcrumb_settings}))});let a=(y=t.breadcrumbSettings)==null?void 0:y.primaryTerm;if((T=t.breadcrumbSettings)!=null&&T.taxonomy){const e=ce((h=t.breadcrumbSettings)==null?void 0:h.taxonomy,!0);e[0]&&e[0]!==a&&(a=e[0])}const se=ne.aioseo.user,ie=()=>{var r;const e=(r=d==null?void 0:d.currentPost)==null?void 0:r.breadcrumb_settings;if(e){const c=JSON.stringify(t.breadcrumbSettings),u=JSON.stringify(e);c!==u&&n({breadcrumbSettings:e})}},ae=()=>{var r;if(w.current)return;w.current=!0,((r=i.current)==null?void 0:r.querySelector(".aioseo-breadcrumbs"))&&ie()};return S(()=>{setTimeout(()=>{l!==t.postTitle&&n({postTitle:l})},1e3)},[l]),S(()=>{if(!i.current)return;const e=new MutationObserver(r=>{var c;for(const u of r)if(u.type==="childList"&&0<u.addedNodes.length){const m=(c=i.current)==null?void 0:c.querySelector(".aioseo-breadcrumbs");if(m&&m.innerHTML.trim()&&!m.innerHTML.includes("Loading...")&&!m.querySelector(".components-spinner")){ae(),e.disconnect();break}}});return e.observe(i.current,{childList:!0,subtree:!0}),()=>e.disconnect()},[]),React.createElement(React.Fragment,null,se.capabilities.aioseo_page_advanced_settings&&React.createElement(ke,null,React.createElement(fe,{clientId:oe})),React.createElement("div",{ref:i},window.aioseo.options.breadcrumbs.enable?React.createElement(Le,null,React.createElement(C,{block:f,attributes:{primaryTerm:t.primaryTerm,postTitle:t.postTitle,breadcrumbSettings:{...t.breadcrumbSettings,primaryTerm:a}}})):React.createElement(C,{block:f,attributes:{primaryTerm:t.primaryTerm,postTitle:t.postTitle,breadcrumbSettings:{...t.breadcrumbSettings,primaryTerm:a}}})))},save:function(){return null}},Oe=ue({});le(Oe);pe({name:f,settings:Me});
