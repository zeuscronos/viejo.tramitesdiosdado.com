jQuery(document).ready((function(e){"use strict";var t,o,i;let a;function s(){var t=e(this);t.addClass("mf-setting-spin");var o=e("#metform-form-modalinput-settings").attr("data-nonce"),i=e(".mf-google-spreadsheets-list");e.ajax({url:window.metform_api.resturl+"metform/v1/entries/google_spreadsheet_list/0",type:"get",headers:{"X-WP-Nonce":o},dataType:"json",success:function(o){try{i.empty();let t=JSON.parse(o);i.append('<option value=""> Select </option>'),t.files.forEach((e=>{i.append("<option value="+e.id+">"+e.name+"</option>")})),a=e(".mf-google-spreadsheets-list-id").val(),e(".mf-google-spreadsheets-list option").each(((t,o)=>{e(o).attr("selected",!1),o.value===a&&e(o).attr("selected",!0)})),e(".mf-google-spreadsheets-list").off("change").on("change",(t=>{e(".mf-google-spreadsheets-list-id").attr("value",t.target.value),n(t.target.value,!0)}))}catch(s){}var a;t.removeClass("mf-setting-spin")},error:function(e){t.removeClass("mf-setting-spin")}})}function n(t="",o=!1){var i=e(".metfrom-btn-refresh-google-sheets-list");i.addClass("mf-setting-spin");var a=e("#metform-form-modalinput-settings").attr("data-nonce");if(typeof t!==undefined&&""!=t)var s=t;else s=e(".mf-google-spreadsheets-list-id").val();""==s&&(s=0);var n=e(".mf-google-sheets-list");e.ajax({url:window.metform_api.resturl+"metform/v1/entries/google_sheet_list/0",type:"get",data:{sheetID:s},headers:{"X-WP-Nonce":a},dataType:"json",success:function(t){try{n.empty();let i=JSON.parse(t);n.append('<option value="">Select Sheet</option>'),i.sheets.forEach((e=>{n.append('<option value="'+e.properties.title+'">'+e.properties.title+"</option>")})),o&&e(".mf-google-sheets-list-id").attr("value",""),function(){var t=e(".mf-google-sheets-list-id").val();let o=e(".mf-google-sheets-list option");if(t&&""!==t&&"undefined"!==t&&null!==t){var i=!1;o.each(((o,a)=>{e(a).attr("selected",!1),a.value===t&&(e(a).attr("selected",!0),i=!0)})),i||o.first().attr("selected",!0)}else o.each(((t,o)=>{e(o).attr("selected",!1)})),o.first().attr("selected",!0)}(),e(".mf-google-sheets-list").off("change").on("change",(t=>{e(".mf-google-sheets-list-id").attr("value",t.target.value)}))}catch(a){}i.removeClass("mf-setting-spin")},error:function(e){i.removeClass("mf-setting-spin")}})}function r(t="",o=!1){var i=e(".metfrom-btn-refresh-dropbox-folder-list");i.addClass("mf-setting-spin");var a=e("#metform-form-modalinput-settings").attr("data-nonce"),s=e(".mf-dropbox-folder-list");e.ajax({url:window.metform_api.resturl+"metform/v1/entries/dropbox_folder_list/0",type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(t){try{s.empty(),s.append('<option value="">Select Folder</option>'),Array.isArray(t)&&t.length>0?t.forEach((e=>{s.append('<option value="'+e.path+'">'+e.name+"</option>")})):s.append('<option value="">No folders found</option>'),o&&e(".mf-dropbox-folder-list-id").attr("value",""),""!==(a=e(".mf-dropbox-folder-list-id").attr("value"))?e(".mf-dropbox-folder-list").val(a):e(".mf-dropbox-folder-list").val(""),e(".mf-dropbox-folder-list").off("change").on("change",(t=>{e(".mf-dropbox-folder-list-id").attr("value",t.target.value)}))}catch(n){console.error("Dropbox folder list error:",n)}var a;i.removeClass("mf-setting-spin")},error:function(e){console.error("Dropbox API error:",e),i.removeClass("mf-setting-spin")}})}function m(t="",o=!1){var i=e(".metfrom-btn-refresh-google-drive-folder-list");i.addClass("mf-setting-spin");var a=e("#metform-form-modalinput-settings").attr("data-nonce");if(typeof t!==undefined&&""!=t)var s=t;else s=e(".mf-google-drive-folder-list-id").val();""==s&&(s=0);var n=e(".mf-google-drive-folder-list");e.ajax({url:window.metform_api.resturl+"metform/v1/entries/google_drive_folder_list/0",type:"get",data:{folderID:s},headers:{"X-WP-Nonce":a},dataType:"json",success:function(t){try{let i;n.empty(),i="string"==typeof t?JSON.parse(t):t,n.append('<option value="">Select Folder</option>'),i.folders&&Array.isArray(i.folders)&&i.folders.forEach((e=>{n.append('<option value="'+e.id+'">'+e.name+"</option>")})),o&&e(".mf-google-drive-folder-list-id").attr("value",""),function(){var t=e(".mf-google-drive-folder-list-id").val();let o=e(".mf-google-drive-folder-list option");if(t&&""!==t&&"undefined"!==t&&null!==t){var i=!1;o.each(((o,a)=>{e(a).attr("selected",!1),a.value===t&&(e(a).attr("selected",!0),i=!0)})),i||o.first().attr("selected",!0)}else o.each(((t,o)=>{e(o).attr("selected",!1)})),o.first().attr("selected",!0)}(),e(".mf-google-drive-folder-list").off("change").on("change",(t=>{e(".mf-google-drive-folder-list-id").attr("value",t.target.value)}))}catch(a){}i.removeClass("mf-setting-spin")},error:function(e){i.removeClass("mf-setting-spin")}})}function l(){var t=e(".mf-mailchimp-list-id").val();e(".mailchimp_list option").each(((o,i)=>{e(i).attr("selected",!1),i.value===t&&e(i).attr("selected",!0)}))}e(".metfrom-btn-refresh-get-response-list").click((function(){var t=e(this);t.addClass("mf-setting-spin");var o,i=e("#metform_form_modal"),a=e("#metform-form-modalinput-settings").attr("data-nonce"),s=e(".get-response-campaign-list");o=i.find("form").attr("data-mf-id"),e.ajax({url:window.metform_api.resturl+"metform/v1/entries/store_get_response_list/"+o,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(e){s.empty(),s.append('<option value="">Select Campaign</option>'),e.forEach((e=>{s.append('<option value="'+e.campaignId+'">'+e.description+"</option>")})),t.removeClass("mf-setting-spin")},error:function(e){t.removeClass("mf-setting-spin")}})})),e(".metfrom-btn-refresh-mailchimp-list").on("click",(function(){var t=e(this);t.addClass("mf-setting-spin");var o,i=e("#metform_form_modal"),a=e("#metform-form-modalinput-settings").attr("data-nonce"),s=e(".mailchimp_list");o=i.find("form").attr("data-mf-id"),e.ajax({url:window.metform_api.resturl+"metform/v1/entries/store_mailchimp_list/"+o,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(o){try{s.empty(),o.lists.forEach((e=>{s.append("<option value="+e.id+">"+e.name+"</option>")})),1===o.lists.length?e(".mf-mailchimp-list-id").attr("value",o.lists[0].id):(l(),e(".mailchimp_list").on("change",(t=>{e(".mf-mailchimp-list-id").attr("value",t.target.value)})))}catch(i){}t.removeClass("mf-setting-spin")},error:function(e){t.removeClass("mf-setting-spin")}})})),e(".metfrom-btn-refresh-google-spreadsheets-list").on("click",s),e(".metfrom-btn-refresh-google-sheets-list").on("click",(function(e){n("")})),e(".metfrom-btn-refresh-dropbox-folder-list").on("click",(function(e){r("")})),e(".metfrom-btn-refresh-google-drive-folder-list").on("click",(function(e){m("")})),e(".metfrom-btn-refresh-hubsopt-list").click((function(){var t=e(this);t.addClass("mf-setting-spin");var o,i=e("#metform_form_modal"),a=e("#metform-form-modalinput-settings").attr("data-nonce"),s=e(".hubspot_forms"),n=e("#mf-hubsopt-fileds");o=i.find("form").attr("data-mf-id"),e.ajax({url:window.metform_api.resturl+"metform/v1/forms/hubspot_forms/"+o,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",beforeSend:function(t){e(n).text("Please wait....")},success:function(o){try{s.empty(),s.append('<option value="select">Select a form</option>'),o.forEach((e=>{s.append("<option value="+e.portalId+" guid="+e.guid+">"+e.name+"</option>")}))}catch(i){}e(n).text(""),t.removeClass("mf-setting-spin")},error:function(o){e(n).text(""),t.removeClass("mf-setting-spin")}})})),e(".hubspot_forms").on("change",(function(){var t=e("option:selected",this).attr("guid"),o=e("option:selected",this).val();e(".mf_hubspot_form_guid").val(t),e(".mf_hubspot_form_portalId").val(o);var i,a=e("#metform_form_modal"),s=e("#metform-form-modalinput-settings").attr("data-nonce");i=a.find("form").attr("data-mf-id"),e("#mf-hubsopt-fileds").html("Please wait....");var n="";e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+i,type:"get",headers:{"X-WP-Nonce":s},dataType:"json",success:function(o){n=o,e.ajax({url:window.metform_api.resturl+"metform/v1/forms/hubspot_form_fields/"+i,type:"post",headers:{"X-WP-Nonce":s},dataType:"json",data:{guid:t},success:function(t){var o="",i="";Object.keys(n).map((function(e){return[n[e]]})).map((e=>{i+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"}));t.forEach((e=>{o+="<tr><td>"+e.label+"</td><td><select name=mf_hubspot_form_field_name_"+e.name+' class="attr-form-control">'+i+"</select></td></tr>"})),e("#mf-hubsopt-fileds").html('<table width="100%">'+o+"</table>")},error:function(t){e("#mf-hubsopt-fileds").html("<span class='mf-input-warning'>Please select a form.</span>")}})},error:function(t){e("#mf-hubsopt-fileds").html("Sorry ! Something went wrong")}})})),e("#mf-remove-hubspot-access").on("click",(function(t){t.preventDefault();var o=e(this).attr("data-nonce");e.ajax({url:window.metform_api.resturl+"metform/v1/forms/disconnect_hubspot/1",type:"get",headers:{"X-WP-Nonce":o},dataType:"json",success:function(e){window.location.reload()},error:function(e){console.log("Sorry ! Something went wrong",e)}})})),e(".mf-mailchimp-list-id").attr("value",""),e(".page-title-action").on("click",(function(t){t.preventDefault(),e("#metform_new_form_modal").modal("show")}));if("show-metform-form-creation-modal"==(window.location.hash?window.location.hash.substring(1):"")){e("#metform_new_form_modal").modal("show")}e(".mf-modal-integration").on("click",(function(t){t.preventDefault(),e("#metform_pro_modal").modal("show")}));let f=window.parent;function c(e){e.jQuery("body").attr("data-metform-template-load","true"),e.jQuery(".metform-dynamic-content-modal").hide(),e.jQuery("#metform-open-content-editor").hide()}function d(){e(".mf-btn-del-singl-field").click((function(){e(this).parent(".mf-cf-single-field").remove()}))}function p(){1===e(".mf-form-data-bypass-single-field").length?e(".mf-form-data-bypass-delete-btn").addClass("mf-single-field-delete-btn"):e(".mf-form-data-bypass-delete-btn").removeClass("mf-single-field-delete-btn")}function u(){1===e(".mf-zoho-crm-single-field").length?e(".mf-btn-del-single-field").addClass("mf-single-field-delete-btn"):e(".mf-btn-del-single-field").removeClass("mf-single-field-delete-btn")}function _(){e(".mf-btn-del-single-field, .mf-form-data-bypass-delete-btn").click((function(){if(this.className.includes("mf-form-data-bypass-delete-btn")){let t=this.closest("#paramFieldsrepeaterResult");e(t).find(".mf-form-data-bypass-single-field").length>1&&e(this).parent(".mf-cf-single-field").remove(),p()}else if(this.className.includes("mf-btn-del-single-field")){let t=this.closest("#mf-zoho-all-form-fields");e(t).find(".mf-zoho-crm-single-field").length>1&&e(this).parent(".mf-cf-single-field").remove(),u()}}))}e(".metform-open-new-form-editor-modal").on("click",(function(e){e.preventDefault();var t=jQuery(this).parents(".add-new-model__footer-button-group").siblings(".metform-add-new-form-model-contents"),o=t.find("#metform-add-new-form-model__form-type option:selected").val(),i=t.find(".metform-template-radio:checked").val(),a=t.find(".metform-template-input-con input").val(),s=f.jQuery("#metform-form-modalinput-settings").data("nonce");jQuery.ajax({url:jQuery(this).attr("resturl")+"builder_form_id/"+i+"?title="+a+"&form_type="+o,type:"GET",headers:{"X-WP-Nonce":s},success:function(e){window.location.href=metform_api.admin_url+"?post="+e+"&action=elementor"},async:!1})})),f.jQuery(".metform-form-update-close-btn").on("click",(function(t){if(t.preventDefault(),f.jQuery("body").hasClass("wp-admin")){var o,i=f.jQuery(".metform-dynamic-content-modal").find("#formpicker-control-iframe"),a=i[0].contentWindow||i[0].contentDocument;a.jQuery("#elementor-panel-saver-button-publish:not([disabled])").hasClass("elementor-disabled")?(f.jQuery(".metform-close-editor-modals").trigger("click"),window.location.reload()):e(a.jQuery("#elementor-panel-saver-button-publish")).length>0&&!e(a.jQuery("#elementor-panel-saver-button-publish"))[0].classList.contains("elementor-button-state")&&(a.jQuery("#elementor-panel-saver-button-publish:not([disabled])").trigger("click"),o=setInterval((function(){a.jQuery("#elementor-panel-saver-button-publish:not([disabled])").hasClass("elementor-disabled")&&(f.jQuery(".metform-close-editor-modals").trigger("click"),clearInterval(o),window.location.reload())}),100))}})),f.jQuery(".metform-close-editor-modals").on("click",(function(e){if(e.preventDefault(),jQuery(this).hasClass("metform-editor-close")){var a=f.jQuery(".metform-dynamic-content-modal").find("#formpicker-control-iframe"),s=a[0].contentWindow||a[0].contentDocument;s.jQuery("#elementor-panel-saver-button-publish").hasClass("elementor-disabled")?c(f):confirm("Leaving? Changes you made may not be saved.")?(s.jQuery(s).off("beforeunload"),c(f)):s.jQuery(s).off("beforeunload")}else jQuery(this).hasClass("metform-picker-close")?(c(f),t=f.jQuery("#metform-open-content-editor"),o=t.find(".metform-content-editor-radio:checked").val(),i=t.find(".metform-open-content-editor-templates").val(),"saved"===o&&f.jQuery("body").attr("data-metform-template-key",i),c(f)):c(f);f.jQuery("#metform-open-content-editor").find(".metform-picker-close").hide(),f.jQuery("#metform-open-content-editor").find(".metform-template-radio").removeAttr("checked").first().attr("checked","checked")})),e(".row-actions .edit a, .metform-form-edit-btn, body.post-type-metform-form a.row-title").on("click",(async function(t){t.preventDefault();var o=0,i=e("#metform_form_modal"),s=e(this).parents(".column-title"),n=e("body").attr("data-metform-template-key");i.addClass("loading"),i.modal("show");var r;if(s.length>0){o=e(this).attr("data-metform-form-id"),"undefined"!==n&&(o=n),o=o!==undefined?o:s.find(".hidden").attr("id").split("_")[1];var m=e("#metform-form-modalinput-settings").attr("data-nonce");const t=await fetch(window.metform_api.resturl+"metform/v1/forms/get/"+o,{method:"GET",headers:{"X-WP-Nonce":m}}),l=await t.json();window.mf_data=l,r=l,a=l,V(l,o),i.removeClass("loading");const f=new CustomEvent("metform-integration-settings-event",{detail:{data:l},bubbles:!0,cancelable:!0,composed:!1});document.querySelector("#metform-form-modalinput-settings").dispatchEvent(f),function(t,o,i){e(".mf-helpscout").length&&e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+t,type:"get",headers:{"X-WP-Nonce":o},dataType:"json",success:function(t){var o=t,a=Object.keys(o).map((function(e){return[o[e]]}));Z="",Y=[],a.map((e=>{let t={};t.mf_input_name=e[0].mf_input_name,t.mf_input_label=e[0].mf_input_label,Y=[...Y,t],Z+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"}));var s='<div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">Subject*</label><div class="mf-inputs"><select class="attr-form-control" id="mf_helpscout_conversation_subject" name="mf_helpscout_conversation_subject">'+Z+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">Customer Email*</label><div class="mf-inputs"><select class="attr-form-control" id="mf_helpscout_conversation_customer_email" name="mf_helpscout_conversation_customer_email">'+Z+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">Customer First Name*</label><div class="mf-inputs"><select class="attr-form-control" id="mf_helpscout_conversation_customer_first_name" name="mf_helpscout_conversation_customer_first_name">'+Z+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">Customer Last Name*</label><div class="mf-inputs"><select class="attr-form-control" id="mf_helpscout_conversation_customer_last_name" name="mf_helpscout_conversation_customer_last_name">'+Z+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline">'+('<label class="attr-input-label">Message*</label><div class="mf-inputs"><select class="attr-form-control" id="mf_helpscout_conversation_customer_message" name="mf_helpscout_conversation_customer_message">'+Z+"</select></div>")+"</div>";e("#mf-helpscout-fileds").html(s),i.mf_helpscout_conversation_subject&&(e('#mf_helpscout_conversation_subject option[value="'+i.mf_helpscout_conversation_subject+'"]').prop("selected",!0),e('#mf_helpscout_conversation_customer_email option[value="'+i.mf_helpscout_conversation_customer_email+'"]').prop("selected",!0),e('#mf_helpscout_conversation_customer_first_name option[value="'+i.mf_helpscout_conversation_customer_first_name+'"]').prop("selected",!0),e('#mf_helpscout_conversation_customer_last_name option[value="'+i.mf_helpscout_conversation_customer_last_name+'"]').prop("selected",!0),e('#mf_helpscout_conversation_customer_message option[value="'+i.mf_helpscout_conversation_customer_message+'"]').prop("selected",!0))},error:function(e){}})}(o,m,l),function(t,o,i){if(e(".mf-zoho").length>0){let a=metform_api.admin_url+"admin-ajax.php",s={action:"get_contact_fields",formId:t,nonce:o};e.ajax({url:a,type:"post",data:s,headers:{"X-WP-Nonce":o},dataType:"json",success:function(t){if(t&&!1===t?.success)return e(".mf-zoho-error-msg").show(),void e(".mf-zoho-error-msg").html(t?.data);e(".mf-zoho-error-msg").hide(),e(".mf-zoho-error-msg").html(""),"1"===i?.mf_zoho?e(".mf_zoho_forms_section").show():e(".mf_zoho_forms_section").hide();let o=JSON.parse(t?.data?.zoho_api_fields)||{},a="";t?.data?.zoho_existing_fields[0]&&(a=JSON.parse(t?.data?.zoho_existing_fields[0])||{});let s=[];if(o?.layouts){let t=o?.layouts[0]?.sections,i=[];t.forEach(((e,t)=>{0!==t&&(i=[...i,...e.fields])})),i.forEach(((e,t)=>{let o={};o.api_name=e?.api_name,o.display_label=e?.display_label,s=[...s,o]}));let a="";s.map(((e,t)=>{a+=`<option value='${e?.api_name}'>${e?.display_label}</option>`})),e(".mf-zoho-form-fields").html(a),e(".mf-zoho-custom-fields").html(Z)}else i?.code;if(Object.keys(a).length>0){let t="";Object.keys(a).forEach(((e,o)=>{let i="",n="";Y.forEach(((t,o)=>{e==t.mf_input_name?i+=`<option value='${t.mf_input_name}' selected>${t.mf_input_label}</option>`:i+=`<option value='${t.mf_input_name}'>${t.mf_input_label}</option>`}));let r=["Created_Time","Created_By","Modified_By","Modified_Time","Last_Activity_Time","Reporting_To","Unsubscribed_Mode","Unsubscribed_Time","Change_Log_Time__s","Vendor_Name","Owner"];s.filter((e=>!r.includes(e.api_name))).forEach(((t,o)=>{a[e]==t.api_name?n+=`<option value='${t.api_name}' selected>${t.display_label}</option>`:n+=`<option value='${t.api_name}'>${t.display_label}</option>`})),t+=`<div id="mf-zoho-single-field" class="mf-zoho-single-field mf-cf-single-field mf-zoho-crm-single-field">\n\t\t\t\t\t\t<div class="mf-cf-single-field-input">\n\t\t\t\t\t\t\t<label>Select Metform Field</label>\n\t\t\t\t\t\t\t<select name="mf-zoho-custom-fields[]"  class="mf-zoho-custom-fields mf-zoho-custom-fields1 attr-form-control ">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="mf-cf-single-field-input">\n\t\t\t\t\t\t<label>Select Zoho Form Field</label>\n\t\t\t\t\t\t\t<select  name="mf-zoho-form-fields[]" class="attr-form-control mf-zoho-form-fields mf-zoho-form-fields-url-copier" >\n\t\t\t\t\t\t\t\t${n}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a href="#" class="mf-btn-del-single-field mf-btn-del-single-field-zoho">Delete</a>\n\t\t\t\t\t</div>`})),e("#mf-zoho-all-form-fields").html(t),_()}else if(0===Object.keys(a).length){e(".mf-zoho-single-field").each(((e,t)=>{0!==e&&t.remove()}))}u()},error:function(e){console.log("Error: "+e)}})}}(o,m,l)}else{V({form_title:e(".mf-form-modalinput-title").attr("data-default-value"),admin_email_body:"",admin_email_from:"",admin_email_reply_to:"",admin_email_subject:"",capture_user_browser_data:"",enable_admin_notification:"",limit_total_entries_status:"",limit_total_entries:"0",redirect_to:"",success_url:"",failed_cancel_url:"",quiz_summery:"",require_login:"",store_entries:"1",user_email_attach_submission_copy:"1",entry_title:"",success_message:e(".mf-form-modalinput-success_message").attr("data-default-value"),user_email_body:"",user_email_from:"",user_email_reply_to:"",user_email_subject:"",input_names:"Example: [mf-inputname]"},o),i.removeClass("loading")}function f(e,t=""){let o="";return Array.isArray(e)&&e.map((e=>{const i=t===e[0].mf_input_name?" selected":"";o+="<option value="+e[0].mf_input_name+i+">"+e[0].mf_input_label+"</option>"})),o}e(".mf-register").length&&e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){var i=t,a="";e.ajax({url:window.metform_api.resturl+"xs/register/settings/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){Object.keys(i).map((function(e){return[i[e]]})).map((e=>{a+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"}));var o='<div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">User Name</label><div class="mf-inputs"><select class="attr-form-control" id="mf_auth_reg_user_name" name="mf_auth_reg_user_name">'+a+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">User Email</label><div class="mf-inputs"><select class="attr-form-control" id="mf_auth_reg_user_email" name="mf_auth_reg_user_email">'+a+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing"><label class="attr-input-label">Role</label><div class="mf-inputs"><select class="attr-form-control" id="mf_auth_reg_role" name="mf_auth_reg_role"><option value="administrator">Administrator</option><option value="editor">Editor</option><option value="author">Author</option><option value="contributor">Contributor</option><option selected="selected" value="subscriber">Subscriber</option></select></div></div>';e(".mf_register_form_fields").html(o),0!=t&&(e('#mf_auth_reg_user_name option[value="'+t.mf_auth_reg_user_name+'"]').prop("selected",!0),e('#mf_auth_reg_user_email option[value="'+t.mf_auth_reg_user_email+'"]').prop("selected",!0),e('#mf_auth_reg_role option[value="'+t.mf_auth_reg_role+'"]').prop("selected",!0))},error:function(e){}})},error:function(e){}}),e(".mf-login").length&&e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){var i=t,a="";e.ajax({url:window.metform_api.resturl+"xs/login/settings/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){Object.keys(i).map((function(e){return[i[e]]})).map((e=>{a+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"}));var o='<div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">User Name</label><div class="mf-inputs"><select class="attr-form-control" id="mf_auth_login_user_name" name="mf_auth_login_user_name">'+a+"</select></div>")+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+('<label class="attr-input-label">User Password</label><div class="mf-inputs"><select class="attr-form-control" id="mf_auth_login_user_password" name="mf_auth_login_user_password">'+a+"</select></div>")+"</div>";e(".mf_login_form_fields").html(o),0!=t&&(e('#mf_auth_login_user_name option[value="'+t.mf_auth_login_user_name+'"]').prop("selected",!0),e('#mf_auth_login_user_password option[value="'+t.mf_auth_login_user_password+'"]').prop("selected",!0))},error:function(e){}})},error:function(e){}}),e(".mf-form-to-post").length&&e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){var i=t,a="";e.ajax({url:window.metform_api.resturl+"xs/post/settings/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){var o=Object.keys(i).map((function(e){return[i[e]]}));o.map((e=>{a+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"}));var s='<label class="attr-input-label">Title</label><div class="mf-inputs"><select class="attr-form-control mf_post_submission_title" id="mf_post_submission_title" name="mf_post_submission_title">'+a+"</select></div>",n='<label class="attr-input-label">Content</label><div class="mf-inputs"><select class="attr-form-control mf_post_submission_content" id="mf_post_submission_content" name="mf_post_submission_content">'+a+"</select></div>",r='<label class="attr-input-label">Featured Image</label><div class="mf-inputs"><select class="attr-form-control mf_post_submission_featured_image" id="mf_post_submission_featured_image" name="mf_post_submission_featured_image">'+a+"</select></div>",m=g(a);if(0!=t.custom_fields_settings){m="";var l=Object.entries(t.custom_fields_settings);for(const[e,t]of l)m+=g(f(o,t),e,t)}var c='<div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+s+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+n+'</div></div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing">'+r+'</div><div class="mf-input-group mf-input-group-inline mf-form-bottom-spacing mf-box-style">'+function(e,t){return'<label class="attr-input-label">Custom Fields</label>\n                    <div class="mf-inputs mf-cf-fields">\n                        <div style="display:none">\n                            <div id="mf-cf-single-field" class="mf-cf-single-field"">\n                                <div class="mf-cf-single-field-input">\n                                    <label>Name</label>\n                                    <input type="text" name="mf_post_submission_custom_fields_name[]" class="attr-form-control" >\n                                </div>\n                                <div class="mf-cf-single-field-input">\n                                    <label>Select Field</label>\n                                    <select name="mf_post_submission_mf_field_name[]" class="attr-form-control">'+t+'</select>\n                                </div>\n                                <a href="#" class="mf-btn-del-singl-field">Delete</a>\n                            </div>\n                        </div>\n                        <div class="repeaterResult">'+e+'</div>\n                        <button class="mf-add-cf" type="button">\n\t\t\t\t\t\t\t<span>\n                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="white" viewBox="0 0 20 20">\n                                    <path fill="#000" fill-rule="evenodd" d="M9 17a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 1 0-2 0v6H3a1 1 0 0 0 0 2h6v6z"/>\n                                </svg>\n                            </span>\n                            <span>Add Field</span>\n\t\t\t\t\t\t</button>\n                    </div>'}(m,a)+"</div>";e(".mf-post-submission-fields-section").html(c);var p=0;e(".mf-add-cf").click((function(){var t=e("#mf-cf-single-field").clone();p++,t.attr("id","mf-repeater-field-"+p),e(".mf-btn-del-singl-field",t).attr("data-id",p),t.appendTo(e(".repeaterResult")),d()})),d(),0!=t.fields_settings&&(e('.mf_post_submission_post_type option[value="'+t.fields_settings.mf_post_submission_post_type+'"]').prop("selected",!0),e('.mf_post_submission_title option[value="'+t.fields_settings.mf_post_submission_title+'"]').prop("selected",!0),e('.mf_post_submission_content option[value="'+t.fields_settings.mf_post_submission_content+'"]').prop("selected",!0),e('.mf_post_submission_featured_image option[value="'+t.fields_settings.mf_post_submission_featured_image+'"]').prop("selected",!0),e('.mf_post_submission_author option[value="'+t.fields_settings.mf_post_submission_author+'"]').prop("selected",!0))},error:function(e){}})},error:function(e){}}),e("input.mf_redirect_params_status").length&&e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+o,type:"get",headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){"true"==r.mf_redirect_params_status.trim()?(e("input.mf_redirect_params_status").prop("checked",!0),e("input.mf_redirect_params_status").val("true"),k.show(200)):(e("input.mf_redirect_params_status").prop("checked",!1),e("input.mf_redirect_params_status").val("false"),k.hide(200));var o="";if(Object.keys(t||{}).forEach((e=>{o+='<option value="'+t[e].mf_input_name+'">'+t[e].mf_input_label+"</option>"})),e("#mf-form-fields-url-copier").html(o),r?.mf_redirect_params!=undefined){var i="",a=Object.values(t||{});Object.keys(r.mf_redirect_params||{}).forEach((e=>{var t="";a.forEach((o=>{o.mf_input_name==r.mf_redirect_params[e]?t+='<option value="'+o.mf_input_name+'" selected>'+o.mf_input_label+"</option>":t+='<option value="'+o.mf_input_name+'">'+o.mf_input_label+"</option>"})),i+=`<div id="mf-cf-single-field-data-bypass" class="mf-cf-single-field mf-form-data-bypass-single-field" id="url_fields_for_clone">\n\t\t\t\t\t   <div class="mf-cf-single-field-input">\n\t\t\t\t\t\t  <label>Name</label>\n\t\t\t\t\t\t  <input type="text" name="mf_url_submission_custom_fields_name[]" class="attr-form-control mf-form-data-bypass-input" value="${e}">\n\t\t\t\t\t\t</div>  \n\t\t\t\t\t   <div class="mf-rf-single-field-input  mf-cf-single-field-input ">\n\t\t\t\t\t\t  <label>Select Field</label>\n\t\t\t\t\t\t  <select name="mf_url_submission_mf_field_name[]" id="param_field_options_list" class="attr-form-control mf-form-data-bypass-select">\n\t\t\t\t\t\t\t${t}\n\t\t\t\t\t\t  </select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a href="#" class=" mf-form-data-bypass-delete-btn">Delete</a>\n\t\t\t\t\t\t</div> \n\t\t\t\t\t  `})),e("#paramFieldsrepeaterResult").html(i)}else if(r?.mf_redirect_params===undefined||0===Object.keys(r.mf_redirect_params).length){e(".mf-form-data-bypass-single-field").each(((e,t)=>{0!==e&&t.remove()})),e(".mf-form-data-bypass-input").val(""),e(".mf-form-data-bypass-select").html(o)}_(),p()},error:function(e){}});var c=0;e(".mf-add-rf").click((function(){var t=e("#mf-rf-single-field-copier").clone();c++,t.attr("id","mr-repeater-field-"+c),e(".mf-rf-single-field",t).attr("data-id",c),t.appendTo(e(".rf-repeaterResult"))})),e(".mf-btn-del-url-field").click((function(){e(this).parent(".mf-rf-single-field-input").remove()})),function(t,o){var i=e("#metform-form-modalinput-settings").attr("data-nonce"),a=e(".get-response-campaign-list");e.ajax({url:window.metform_api.resturl+"metform/v1/entries/get_response_list/"+t,type:"get",headers:{"X-WP-Nonce":i},dataType:"json",success:function(e){a.empty(),a.append('<option value="">Select Campaign</option>'),e.length&&e.forEach((e=>{let t="";o?.mf_get_response_list_id===e.campaignId&&(t="selected"),a.append("<option "+t+" value="+e.campaignId+">"+e.description+"</option>")}))},error:function(e){}})}(o,r),function(t){var o=e(".metfrom-btn-refresh-hubsopt-list");o.addClass("mf-setting-spin");var i=e("#metform-form-modalinput-settings").attr("data-nonce"),a=e(".hubspot_forms"),s=e("#mf-hubsopt-fileds"),n=t;e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_hubspot_forms/"+n,type:"get",headers:{"X-WP-Nonce":i},dataType:"json",beforeSend:function(t){e(s).text("Please wait....")},success:function(t){if(Array.isArray(t)){var o=e(".mf_hubspot_form_guid").val();try{a.empty(),a.append('<option value="select">Select a form</option>'),t.forEach((e=>{var t="";e.guid===o&&(t='selected="selected"'),a.append("<option "+t+" value="+e.portalId+" guid="+e.guid+">"+e.name+"</option>")}))}catch(i){}}else a.empty(),a.append('<option value="select">Select a form</option>')},error:function(e){console.log(e)},complete:function(t){o.removeClass("mf-setting-spin"),e(s).text("")}})}(o),function(t,o){var i=e(".mf_hubspot_form_guid").val(),a=e("#metform-form-modalinput-settings").attr("data-nonce");if(e("#mf-hubsopt-fileds").html("Please wait...."),"1"!==o.mf_hubspot_forms)return!1;e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+t,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(s){e.ajax({url:window.metform_api.resturl+"metform/v1/forms/hubspot_form_fields/"+t,type:"post",headers:{"X-WP-Nonce":a},dataType:"json",data:{guid:i},success:function(t){var i="",a="mf_hubspot_form_field_name_";t.forEach((e=>{var t=a+e.name;if(t in o){var n="";for(const e in s){var r="";o[t]===s[e].mf_input_name&&(r='selected="selected"'),n+=`<option ${r} value="${e}">${s[e].mf_input_label}</option>`}i+="<tr><td>"+e.label+"</td><td><select name="+a+e.name+' class="attr-form-control">'+n+"</select></td></tr>"}})),e("#mf-hubsopt-fileds").html('<table width="100%">'+i+"</table>")},error:function(t){401===t?.responseJSON?.code?(e("#mf-hubsopt-fileds").html("<span class='mf-input-warning'>Please connect your HubSpot account.</span>"),e(".hubspot_forms").empty()):e("#mf-hubsopt-fileds").html("<span class='mf-input-warning'>Please click the <span class='dashicons dashicons-update'></span> button to fetch forms and then select a form from the list.</span>")}})},error:function(t){e("#mf-hubsopt-fileds").html("Sorry ! Something went wrong")}})}(o,r),function(t){e("#metform_form_modal");var o,i=e("#metform-form-modalinput-settings").attr("data-nonce"),a=e(".mailchimp_list");o=t,e.ajax({url:window.metform_api.resturl+"metform/v1/entries/get_mailchimp_list/"+o,type:"get",headers:{"X-WP-Nonce":i},dataType:"json",success:function(t){try{a.empty(),t.lists.forEach((e=>{a.append("<option value="+e.id+">"+e.name+"</option>")})),1===t.lists.length?e(".mf-mailchimp-list-id").attr("value",t.lists[0].id):(l(),e(".mailchimp_list").on("change",(t=>{e(".mf-mailchimp-list-id").attr("value",t.target.value)})))}catch(o){}},error:function(e){}})}(o),function(t,o){let i=e("#mf-aweber-fields"),a=e("option:selected",this).val();if(!a)return void i.html("");i.html("Please wait....");let s=e("#metform-form-modalinput-settings").attr("data-nonce"),n="";e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+t,type:"get",headers:{"X-WP-Nonce":s},dataType:"json",success:function(r){n=r;let m=metform_api.admin_url+"admin-ajax.php",l={action:"get_aweber_custom_fields",selectedValue:a,formId:t,nonce:s};e.ajax({url:m,type:"post",data:l,headers:{"X-WP-Nonce":s},dataType:"json",success:function(e){let t=e.data;if("ok"===t.result)if(t.custom_fields.error)i.html("");else{let e,a="",s=Object.keys(n).map((function(e){return[n[e]]})),r="mf_aweber_custom_field_name_",m="mf_aweber_custom_field_label_";t.custom_fields.entries.forEach((t=>{let i;e="",s.map((a=>{i="";let s=o[r+t.id];s&&a[0].mf_input_name===s.field_key&&(i='selected="selected"'),e+="<option value="+a[0].mf_input_name+" "+i+" >"+a[0].mf_input_label+"</option>"})),a+="<tr><td>"+t.name+'</td><td><input type="hidden" name="'+m+t.id+'" value="'+t.name+'" /><select name='+r+t.id+' class="attr-form-control">'+e+"</select></td></tr>"})),i.html('<table width="100%">'+a+"</table>")}else i.html("")},error:function(e){i.html(""),console.log("Error: "+e)}})},error:function(t){e("#mf-aweber-fields").html("Sorry ! Something went wrong")}})}(o,r);let h=e(".mf-form-modalinput-title").val();i.find("form").attr("data-mf-id",o);let v=i.find("button.metform-go-to-emailkit-builder-btn"),b=i.find("#emailkit-metform-button-wrap"),w=i.find("#need-emailkit-pro-btn-wrap");if(v.length&&b.length&&w.length){b.hide(),w.hide();let t=await async function(){return new Promise(((t,o)=>{e.ajax({url:window?.metform_emailkit_config?.ajax_url,method:"GET",data:{action:"check_built_template",rest_nonce:window?.metform_emailkit_config?.nonce},success:function(e){t(e?.data?e.data:"")},error:function(e){console.error("Template check error:",e),o(e)}})}))}();"1"==window?.metform_emailkit_config?.is_emailkit_pro_active||t==o||""==t?(w.hide(),b.show()):(b.hide(),w.show()),v.attr("data-emailkit-form",o),v.attr("data-emailkit-form-title",h)}i.find(".get-response-campaign-list").attr("get-response-list-id",o)}));var h=0;e(".mf-add-param_fields").click((function(){var t=e("#mf-cf-single-field-data-bypass").clone();h++,t.attr("id","mf-repeater-field-"+h),e(".mf-btn-del-singl-field",t).attr("data-id",h),t.appendTo(e("#paramFieldsrepeaterResult")),_(),setTimeout((()=>{p()}),10)}));let v=0;function g(e,t="",o=""){return'<div id="mf-cf-single-field" class="mf-cf-single-field"">\n                    <div class="mf-cf-single-field-input">\n                        <label>Name</label>\n                        <input type="text" name="mf_post_submission_custom_fields_name[]" class="attr-form-control" value="'+t+'">\n                    </div>\n                    <div class="mf-cf-single-field-input">\n                        <label>Select Field</label>\n                        <select data-selected="'+o+'" name="mf_post_submission_mf_field_name[]" class="attr-form-control">'+e+'</select>\n                    </div>\n                    <a href="#" class="mf-btn-del-singl-field">Delete</a>\n                </div>'}e(".mf-add-zoho_fields").click((function(){var t=e("#mf-zoho-single-field").clone();v++,t.attr("id","mf-zoho-single-field"),e(".mf-btn-del-singl-field",t).attr("data-id",v),t.appendTo(e("#mf-zoho-all-form-fields")),_(),setTimeout((()=>{u()}),10)})),e("#metform-add-new-form-model__form-type").on("change",(function(){var t=this.value,o=e(this).attr("data-nonce"),i=e(this).parent(".metform-template-form-type").siblings(".metform-templates-list");e.ajax({url:window.metform_api.resturl+"metform/v1/forms/gel_form_templates/new?formtype="+t,type:"get",headers:{"X-WP-Nonce":o},dataType:"json",beforeSend:function(){i.css({opacity:"0.3","pointer-events":"none"})},success:function(e){i.find("li").not(":first").remove(),i.find("li").after(e),i.css({opacity:"1","pointer-events":"auto"})},error:function(e){console.log(e)}})})),e(".metform-form-save-btn-editor").on("click",(function(){e(".metform-form-save-btn-editor").attr("disabled",!0);var t=e("#metform-form-modalinput-settings");t.attr("data-open-editor","1"),t.trigger("submit")})),e("#metform-form-modalinput-settings").on("submit",(function(t){t.preventDefault();var o=e("#metform-form-modal"),i=e(this);o.addClass("loading"),e(".metform-form-save-btn-editor").attr("disabled",!0),e(".metform-form-save-btn").attr("disabled",!0),e("#rm-before-send").is(":hidden")&&jQuery("#rm-before-send").remove();var a=e(this).serialize(),s=e(this).attr("data-mf-id"),n=e(this).attr("data-open-editor"),r=e(this).attr("data-editor-url"),m=e(this).attr("data-nonce");e.ajax({url:window.metform_api.resturl+"metform/v1/forms/update/"+s,type:"post",data:a,headers:{"X-WP-Nonce":m},dataType:"json",success:function(t){e("#message").css("display","block"),1==t.saved?(e("#post-"+t.data.id).find(".row-title").html(t.data.title),e("#message").removeClass("attr-alert-warning").addClass("attr-alert-success"),e(".mf-message-body").html(t.status),i.find(".attr-close").trigger("click"),setTimeout((()=>{e("#message").css("display","none")}),2e3)):(e("#message").removeClass("attr-alert-success").addClass("attr-alert-warning"),e(".mf-message-body").html(t.status)),e(".mf-notification-close").on("click",(function(){e("#message").css("display","none")})),o.removeClass("loading"),"1"==n&&1==t.saved?setTimeout((function(){window.location.href=r+"?post="+t.data.id+"&action=elementor"}),1e3):"0"!=s?(e(".metform-form-save-btn-editor").removeAttr("disabled"),e(".metform-form-save-btn").removeAttr("disabled")):"0"==s&&setTimeout((function(){location.reload()}),1e3)}})}));var b=e(".mf-entry-title"),w=e(".mf-form-user-confirmation"),k=e(".mf-form-redirect-confirmation"),y=e(".mf-form-admin-notification"),j=e(".mf-input-rest-api-group"),x=e(".mf-mailchimp"),C=e(".mf-get_response"),T=e(".mf-zapier"),A=e(".mf-slack"),z=e(".mf-fluent"),P=e(".mf-sms"),N=e(".mf-sms-user"),E=e(".mf-sms-admin"),S=e(".mf-form-modalinput-sms"),W=e(".mf-form-modalinput-sms-user"),X=e(".mf-form-modalinput-sms-admin"),D=e(".mf-paypal"),O=e(".mf-stripe"),Q=e(".mf-ckit"),I=e(".mf-aweber"),$=e(".mf-mail-poet"),F=e(".mf-form-email-verification");let R=".mf-active-campaign",q=e("input"+R),U=e("div"+R);var L=e(".mf-google-spreadsheets-selection-div"),G=e(".mf-dropbox-selection"),J=e(".mf-google-drive-folder-selection-div");function M(t,o=null){var i=e("#metform-form-modalinput-settings").attr("data-nonce");e('.mf-mailster-list-id option[value="'+t+'"]').prop("selected",!0),e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+o,type:"get",headers:{"X-WP-Nonce":i},dataType:"json",success:function(i){var a=i,s="";Object.keys(a).map((function(e){return[a[e]]})).map((e=>{s+="<option value="+e[0].mf_input_name+">"+e[0].mf_input_label+"</option>"})),function(t,o,i){var a=e("#metform-form-modalinput-settings").attr("data-nonce");e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_mailster_form/"+t,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(t){var a="";for(const[e,i]of Object.entries(t))if("fields"==e)for(const[e,t]of Object.entries(i))a+='<div class="mf-input-group mf-input-group-inline"><label class="attr-input-label">'+t.name+'</label><div class="mf-inputs"><select class="attr-form-control" id="mailster_field_'+e+'" name="mailster_field_'+e+'">'+o+"</select></div></div>";e(".mf-mailster-settings-section").html(a),function(t,o){var i=window.mf_mailster_list_id;if(e(".mf-mailster-list-id").val()==i){var a=e("#metform-form-modalinput-settings").attr("data-nonce");e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_mailster_form_data/"+o,type:"get",headers:{"X-WP-Nonce":a},dataType:"json",success:function(t){for(const[o,i]of Object.entries(t))for(const[t,o]of Object.entries(i))e("#"+t+' option[value="'+o+'"]').prop("selected",!0)},error:function(e){}})}}(0,i)},error:function(e){}})}(t,s,o)},error:function(e){}})}function V(t,o){if(b.hide(),w.hide(),y.hide(),k.hide(),j.hide(),x.hide(),T.hide(),A.hide(),D.hide(),O.hide(),Q.hide(),I.hide(),$.hide(),L.hide(),J.hide(),G.hide(),""!=t.form_title){e(".mf-form-modalinput-title").val(t.form_title),e(".mf-form-modalinput-success_message").val(t.success_message),e(".mf-entry-title-input").val("undefined"!=typeof t.entry_title&&""!=t.entry_title?t.entry_title:"undefined"==typeof t.entry_title||""==t.entry_title?"Entry # [mf_id]":""),e(".mf-form-modalinput-redirect_to").val(t.redirect_to),e(".mf-form-modalinput-success_url").val(t.success_url),e(".mf-form-modalinput-failed_cancel_url").val(t.failed_cancel_url),e(".mf-form-modalinput-limit_total_entries").val(t.limit_total_entries),e(".mf-form-email-verification-email-subject").val(t.email_verification_email_subject),e(".mf-form-email-verification-email-redirect").val(t.email_verification_confirm_redirect),e(".mf-form-email-verification-heading").val(t.email_verification_heading),e(".mf-form-email-verification-paragraph").val(t.email_verification_paragraph);let o=e(".mf-form-email-verification-enable");"1"==t.email_verification_enable?(o.attr("checked",!0),F.show()):(o.removeAttr("checked"),F.hide());let j=e(".mf_automizy_list_id");j&&j.val(t.mf_automizy_list_id);var i=e(".mf-form-modalinput-store_entries");"1"==t.store_entries?(i.attr("checked",!0),b.show()):(i.removeAttr("checked"),b.hide());var a=e(".mf-form-modalinput-hide_form_after_submission");"1"==t.hide_form_after_submission?a.attr("checked",!0):a.removeAttr("checked");var f=e(".mf-form-modalinput-require_login");"1"==t.require_login?f.attr("checked",!0):f.removeAttr("checked");var c=e(".mf-form-modalinput-quiz_result_show");"1"==t.quiz_summery?c.attr("checked",!0):c.removeAttr("checked");var d=e(".mf-form-modalinput-limit_status");"1"==t.limit_total_entries_status?d.attr("checked",!0):d.removeAttr("checked");var p=e(".mf-form-modalinput-count_views");"1"==t.count_views?p.attr("checked",!0):p.removeAttr("checked");var u=e(".mf-form-modalinput-stop_vertical_scrolling");"1"==t.mf_stop_vertical_scrolling?u.attr("checked",!0):u.removeAttr("checked");var _=e(".mf-form-modalinput-multiple_submission");"1"==t.multiple_submission?_.attr("checked",!0):_.removeAttr("checked");var h=e(".mf-form-modalinput-enable_recaptcha");"1"==t.enable_recaptcha?h.attr("checked",!0):h.removeAttr("checked");var v=e(".mf-form-modalinput-capture_user_browser_data");"1"==t.capture_user_browser_data?(v.attr("checked",!0),e("#multiple_submission").removeClass("hide_input"),e("#multiple_submission").addClass("show_input")):v.removeAttr("checked"),e(".mf-form-user-email-subject").val(t.user_email_subject),e(".mf-form-user-email-from").val(t.user_email_from),e(".mf-form-user-reply-to").val(t.user_email_reply_to),e(".mf-form-user-email-body").val(t.user_email_body);var g=e(".mf-form-user-enable");"1"==t.enable_user_notification?(g.attr("checked",!0),w.show(300)):(g.removeAttr("checked"),w.hide(300));var C=e(".mf-form-redirect-enable");"1"==t.enable_form_redirect_notification?(C.attr("checked",!0),k.show()):(C.removeAttr("checked"),k.hide());var R=e(".mf-form-user-submission-copy");"1"==t.user_email_attach_submission_copy?R.attr("checked",!0):R.removeAttr("checked"),e(".mf-form-admin-email-subject").val(t.admin_email_subject),e(".mf-form-admin-email-from").val(t.admin_email_from),e(".mf-form-admin-email-to").val(t.admin_email_to),e(".mf-form-admin-reply-to").val(t.admin_email_reply_to),e(".mf-form-admin-email-body").val(t.admin_email_body);var V=e(".mf-form-admin-enable");"1"==t.enable_admin_notification?(V.attr("checked",!0),y.show()):(V.removeAttr("checked"),y.hide());var B=e(".mf-form-admin-submission-copy");"1"==t.admin_email_attach_submission_copy?B.attr("checked",!0):B.removeAttr("checked");var H=e(".mf-form-modalinput-rest_api");"1"==t.mf_rest_api?(H.attr("checked",!0),e(".mf-rest-api").show(200)):(H.removeAttr("checked"),e(".mf-rest-api").hide(200));var K=e(".mf-form-modalinput-mail_chimp");"1"==t.mf_mail_chimp?(K.attr("checked",!0),x.show()):(K.removeAttr("checked"),x.hide());var Z=e(".mf-form-modal_input-google_sheet");"1"==t.mf_google_sheet?(Z.attr("checked",!0),L.show()):Z.removeAttr("checked");var Y=e(".mf-form-modal_input-dropbox");"1"==t.mf_dropbox?(Y.attr("checked",!0),G.show()):Y.removeAttr("checked"),e(".mf-dropbox-folder-list-id").val(t.mf_dropbox_list_id),0!=t.mf_dropbox_list_id&&""!=t.mf_dropbox_list_id&&r();var ee=e(".mf-form-modal_input-google_drive");"1"==t.mf_google_drive?(ee.attr("checked",!0),J.show(),m()):ee.removeAttr("checked");let M=e(".mf-form-modalinput-ckit"),we=e(".mf-form-modalinput-mail_aweber"),ke=e(".mf-form-modalinput-mail_poet");if("1"==t.mf_convert_kit?(M.attr("checked",!0),Q.show()):(M.removeAttr("checked"),Q.hide()),"1"==t.mf_mail_aweber?(we.attr("checked",!0),I.show()):(we.removeAttr("checked"),I.hide()),"1"==t.mf_mail_poet?(ke.attr("checked",!0),$.show()):(ke.removeAttr("checked"),$.hide()),t.ckit_opt){let o=e("select.mf-ckit-list-id").first(),i=t.mf_ckit_list_id||"";o.html(),t.ckit_opt.forEach((function(e){o.append('<option value="'+e.id+'">'+e.name+"</option>")})),o.val(i)}if(t.aweber_opt){let o=e("select.mf-aweber-list-id").first(),i=t.mf_aweber_list_id||"";o.html(o.find("option.mf_aweber_default_option").clone());for(let e in t.aweber_opt)o.append('<option value="'+t.aweber_opt[e].id+'">'+t.aweber_opt[e].name+"</option>");o.val(i)}if(t.mp_opt){let o=e("select.mf-mail-poet-list-id").first(),i=t.mf_mail_poet_list_id||"";o.html();for(let e in t.mp_opt)o.append('<option value="'+t.mp_opt[e].id+'">'+t.mp_opt[e].name+"</option>");o.val(i)}if("1"===t.mf_active_campaign){q.attr("checked",!0),U.show();let o=t.mf_active_campaign_list_id||"",i=t.mf_active_campaign_tag_id||"";e("select[name=mf_active_campaign_list_id]").val(o),e("select[name=mf_active_campaign_tag_id]").val(i)}else q.removeAttr("checked"),U.hide();var te=e(".mf-form-modalinput-get_response");"1"==t.mf_get_response?(te.attr("checked",!0),e(".mf-get_response").show()):(te.removeAttr("checked"),e(".mf-get_response").hide());var oe=e(".mf-hubsopt");"1"==t.mf_hubspot?oe.attr("checked",!0):oe.removeAttr("checked");var ie=e(".mf-hubspot-forms"),ae=e(".hubspot_forms_section");"1"==t.mf_hubspot_forms?(ie.attr("checked",!0),ae.show()):(ie.removeAttr("checked"),ae.hide()),e(".mf_hubspot_form_portalId").val(t.mf_hubspot_form_portalId),e(".mf_hubspot_form_guid").val(t.mf_hubspot_form_guid);var se=e(".mf-zoho");"1"==t.mf_zoho?se.attr("checked",!0):se.removeAttr("checked");var ne=e(".mf-helpscout");"1"==t.mf_helpscout?(ne.attr("checked",!0),e(".helpscout_forms_section").show()):(ne.removeAttr("chekced"),e(".helpscout_forms_section").hide()),t.mf_helpscout_mailbox&&e('#mf_helpscout_mailbox option[value="'+t.mf_helpscout_mailbox+'"]').prop("selected",!0);var re=e(".mf-form-modalinput-mailster"),me=e(".mf-mailster-settings-section");"1"==t.mf_mailster?(re.attr("checked",!0),me.show(),e(".mf-mailster-forms").show()):(re.removeAttr("checked"),me.hide(),e(".mf-mailster-forms").hide());var le=e(".mf-register");1==t.mf_registration?(le.attr("checked",!0),e(".mf_register_form_fields").show()):(le.removeAttr("checked"),e(".mf_register_form_fields").hide());var fe=e(".mf-login");1==t.mf_login?(fe.attr("checked",!0),e(".mf_login_form_fields").show()):(e(".mf_login_form_fields").hide(),fe.removeAttr("checked"));var ce=e(".mf-form-to-post"),de=e(".mf-form-to-post-fields");1==t.mf_form_to_post?(ce.attr("checked",!0),de.show()):(ce.removeAttr("checked"),de.hide());var pe=e(".mf-form-modalinput-zapier");"1"==t.mf_zapier?(pe.attr("checked",!0),T.show()):(pe.removeAttr("checked",!0),T.hide());var ue=e(".mf-form-modalinput-slack");"1"==t.mf_slack?(ue.attr("checked",!0),A.show()):(ue.removeAttr("checked",!0),A.hide());var _e=e(".mf-form-modalinput-fluent");if("1"==t.mf_fluent?(_e.attr("checked",!0),z.show()):(_e.removeAttr("checked",!0),z.hide()),"1"==t.mf_sms_user_status?(W.attr("checked",!0),N.show()):(W.removeAttr("checked",!0),N.hide()),"1"==t.mf_sms_admin_status?(X.attr("checked",!0),E.show()):(X.removeAttr("checked",!0),E.hide()),"1"==t.mf_sms_status?(S.attr("checked",!0),P.show()):(S.removeAttr("checked",!0),P.hide(),W.removeAttr("checked",!0),N.hide(),X.removeAttr("checked",!0),E.hide()),t.mf_payment_currency){e("select.mf_payment_currency").val(t.mf_payment_currency)}let ye=e(".mf-form-modalinput-paypal");"1"==t.mf_paypal?(ye.attr("checked",!0),D.show()):(ye.removeAttr("checked",!0),D.hide());var he=e(".mf-form-modalinput-stripe");"1"==t.mf_stripe?(he.attr("checked",!0),O.show()):(he.removeAttr("checked",!0),O.hide());he=e(".mf-form-modalinput-stripe");"1"==t.mf_stripe?(he.attr("checked",!0),O.show()):(he.removeAttr("checked",!0),O.hide());var ve=e(".mf-form-modalinput-paypal_sandbox");"1"==t.mf_paypal_sandbox?ve.attr("checked",!0):ve.removeAttr("checked",!0);var ge=e(".mf-form-modalinput-stripe_sandbox");"1"==t.mf_stripe_sandbox?ge.attr("checked",!0):ge.removeAttr("checked",!0);var be=t.mf_rest_api_method&&t.mf_rest_api_method.length?t.mf_rest_api_method:"POST";e('.mf-rest-api-method option[value="'+be+'"]').prop("selected",!0),e(".mf-rest-api-url").val(t.mf_rest_api_url),e(".mf-mailchimp-api-key").val(t.mf_mailchimp_api_key),e(".mf-mailchimp-list-id").val(t.mf_mailchimp_list_id),e(".mf-google-spreadsheets-list-id").val(t.mf_google_spreadsheets_list_id),e(".mf-google-sheets-list-id").val(t.mf_google_sheets_list_id),""==t.mf_google_spreadsheets_list_id&&e(".mf-google-spreadsheets-list-id").val(e(".mf-google-spreadsheets-list").find(":selected").val()),0!=t.mf_google_spreadsheets_list_id&&(s(),n(t.mf_google_spreadsheets_list_id),e('.mf-google-spreadsheets-list option[value="'+t.mf_google_spreadsheets_list_id+'"]').prop("selected",!0)),e(".mf-google-drive-folder-list-id").val(t.mf_google_drive_folder_list_id),""==t.mf_google_drive_folder_list_id&&e(".mf-google-drive-folder-list-id").val(e(".mf-google-drive-folder-list").find(":selected").val()),0!=t.mf_google_drive_folder_list_id&&(m(),e('.mf-google-drive-folder-list option[value="'+t.mf_google_drive_folder_list_id+'"]').prop("selected",!0)),""==t.mf_google_sheets_list_id&&e(".mf-google-sheets-list-id").val(e(".mf-google-sheets-list").find(":selected").val()),0!=t.mf_google_sheets_list_id&&e('.mf-google-sheets-list option[value="'+t.mf_google_sheets_list_id+'"]').prop("selected",!0),""==t.mf_mailchimp_list_id&&e(".mf-mailchimp-list-id").val(e(".mailchimp_list").find(":selected").val()),0!=t.mf_mailchimp_list_id&&e('.mailchimp_list option[value="'+t.mf_get_response_list_id+'"]').prop("selected",!0),l(),e(".mf-get_response-list-id").val(t.mf_get_response_list_id),0!=t.mf_get_response_list_id&&e('.get-response-campaign-list option[value="'+t.mf_get_response_list_id+'"]').prop("selected",!0),e(".mf-zapier-web-hook").val(t.mf_zapier_webhook),e(".mf-slack-web-hook").val(t.mf_slack_webhook),e(".mf-fluent-web-hook").val(t.mf_fluent_webhook),e(".mf-sms-from").val(t.mf_sms_from),e(".mf-sms-twilio-account-sid").val(t.mf_sms_twilio_account_sid),e(".mf-sms-twilio-auth-token").val(t.mf_sms_twilio_auth_token),e(".mf-sms-user-body").val(t.mf_sms_user_body),e(".mf-sms-admin-body").val(t.mf_sms_admin_body),e(".mf-sms-admin-to").val(t.mf_sms_admin_to),e(".mf-paypal-email").val(t.mf_paypal_email),e(".mf-paypal-token").val(t.mf_paypal_token),e(".mf-stripe-image-url").val(t.mf_stripe_image_url),e(".mf-stripe-live-publishiable-key").val(t.mf_stripe_live_publishiable_key),e(".mf-stripe-live-secret-key").val(t.mf_stripe_live_secret_key),e(".mf-stripe-test-publishiable-key").val(t.mf_stripe_test_publishiable_key),e(".mf-stripe-test-secret-key").val(t.mf_stripe_test_secret_key),e(".mf-recaptcha-site-key").val(t.mf_recaptcha_site_key),e(".mf-recaptcha-secret-key").val(t.mf_recaptcha_secret_key),e("input.mf-form-modalinput-limit_status, .mf-form-modalinput-rest_api").trigger("change")}(window.mf_mailster_list_id=t.mf_mailster_list_id,e('.mf-mailster-list-id option[value="'+t.mf_mailster_list_id+'"]').prop("selected",!0),e(".mf-form-modalinput-mailster").length)&&M(e(".mf-mailster-list-id").find(":selected").val(),e("#metform_form_modal").find("form").attr("data-mf-id"))}e("input.mf-form-modalinput-store_entries").on("change",(function(){e(this).is(":checked")?b.show(200):e(this).is(":not(:checked)")&&b.hide(200)})),e("input.mf-form-modalinput-limit_status").on("change",(function(){e(this).is(":checked")?e("#limit_status").find("input").removeAttr("disabled"):e(this).is(":not(:checked)")&&e("#limit_status").find("input").attr("disabled","disabled")})),e("input.mf-form-user-enable").on("change",(function(){e(this).is(":checked")?w.show(300):e(this).is(":not(:checked)")&&w.hide(300)})),e("input.mf-form-redirect-enable").on("change",(function(){e(this).is(":checked")?(k.show(300),e("input.mf_redirect_params_status").val("true")):e(this).is(":not(:checked)")&&(k.hide(300),e("input.mf_redirect_params_status").val("false"))})),e("input.mf-form-admin-enable").on("change",(function(){e(this).is(":checked")?y.show(300):e(this).is(":not(:checked)")&&y.hide(300)})),e("input.mf-form-modalinput-rest_api").on("change",(function(){e(this).is(":checked")?j.show(200):e(this).is(":not(:checked)")&&j.hide(200)})),e("input.mf-form-modalinput-mail_chimp").on("change",(function(){e(this).is(":checked")?x.show(200):e(this).is(":not(:checked)")&&x.hide(200)})),e("input.mf-form-modal_input-google_sheet").on("change",(function(){e(this).is(":checked")?(L.show(200),s()):e(this).is(":not(:checked)")&&L.hide(200)})),e("input.mf-form-modal_input-google_drive").on("change",(function(){e(this).is(":checked")?(J.show(200),m()):e(this).is(":not(:checked)")&&J.hide(200)})),e(".mf-form-modalinput-get_response").on("change",(function(){e(this).is(":checked")?C.show(200):C.hide(200)})),e("input.mf-form-email-verification-enable").on("change",(function(){e(this).is(":checked")?F.show(300):e(this).is(":not(:checked)")&&F.hide(300)})),q.on("change",(function(){e(this).is(":checked")?U.show(200):U.hide(200)})),e("input.mf-form-modalinput-mail_aweber").on("change",(function(){e(this).is(":checked")?I.show(200):e(this).is(":not(:checked)")&&I.hide(200)})),e("input.mf-form-modalinput-mail_poet").on("change",(function(){e(this).is(":checked")?$.show(200):e(this).is(":not(:checked)")&&$.hide(200)})),e("input.mf-form-modalinput-ckit").on("change",(function(){e(this).is(":checked")?Q.show(200):e(this).is(":not(:checked)")&&Q.hide(200)})),e("input.mf-form-modalinput-zapier").on("change",(function(){e(this).is(":checked")?T.show(200):e(this).is(":not(:checked)")&&T.hide(200)})),e("input.mf-form-modalinput-slack").on("change",(function(){e(this).is(":checked")?A.show(200):e(this).is(":not(:checked)")&&A.hide(200)})),e("input.mf-form-modalinput-fluent").on("change",(function(){e(this).is(":checked")?z.show(200):e(this).is(":not(:checked)")&&z.hide(200)})),e("input.mf-form-modalinput-sms-user").on("change",(function(){e(this).is(":checked")?N.show(200):e(this).is(":not(:checked)")&&N.hide(200)})),e("input.mf-form-modalinput-sms-admin").on("change",(function(){e(this).is(":checked")?E.show(200):e(this).is(":not(:checked)")&&E.hide(200)})),e("input.mf-form-modalinput-sms").on("change",(function(){e(this).is(":checked")?P.show(200):e(this).is(":not(:checked)")&&(P.hide(200),W.removeAttr("checked",!0),N.hide(),X.removeAttr("checked",!0),E.hide())})),e("input.mf-form-modalinput-paypal").on("change",(function(){e(this).is(":checked")?D.show():e(this).is(":not(:checked)")&&D.hide()})),e("input.mf-form-modalinput-stripe").on("change",(function(){e(this).is(":checked")?stripe.show():e(this).is(":not(:checked)")&&stripe.hide()})),e("input.mf-form-modalinput-stripe_sandbox").on("change",(function(){e(this).is(":checked")?e(".mf_stripe_sandbox").show():e(this).is(":not(:checked)")&&e(".mf_stripe_sandbox").hide()})),e("input.mf-form-modal_input-dropbox").on("change",(function(){e(this).is(":checked")?(G.show(200),r()):e(this).is(":not(:checked)")&&G.hide(200)})),e(".mf-hubspot-forms").on("change",(function(){e(this).is(":checked")?e(".hubspot_forms_section").show(200):e(".hubspot_forms_section").hide(200)})),e(".mf-register").on("change",(function(){e(this).is(":checked")?e(".mf_register_form_fields").show(200):e(".mf_register_form_fields").hide(200)})),e(".mf-login").on("change",(function(){e(this).is(":checked")?e(".mf_login_form_fields").show(200):e(".mf_login_form_fields").hide(200)})),e(".mf-form-to-post").on("change",(function(){e(this).is(":checked")?e(".mf-form-to-post-fields").show(200):e(".mf-form-to-post-fields").hide(200)})),e(".mf-zoho").on("change",(function(){e(this).is(":checked")?e(".mf_zoho_forms_section").show(200):e(".mf_zoho_forms_section").hide(200)})),e(".mf-helpscout").on("change",(function(){e(this).is(":checked")?e(".helpscout_forms_section").show(200):e(".helpscout_forms_section").hide(200)})),e(".mf-form-modalinput-mailster").on("change",(function(){e(this).is(":checked")?(e(".mf-mailster-settings-section").show(),e(".mf-mailster-forms").show()):(e(".mf-mailster-settings-section").hide(),e(".mf-mailster-forms").hide())})),e(".mf-mailster-list-id").on("change",(function(){e(this).val(),e("#metform-form-modalinput-settings").attr("data-mf-id")})),e(".get-response-campaign-list").on("change",(function(){e(".mf-get_response-list-id ").val(e(this).val())})),e("input.mf-form-modalinput-capture_user_browser_data").click((function(){e(this).is(":checked")?(e("#multiple_submission").removeClass("hide_input"),e("#multiple_submission").addClass("show_input")):e(this).is(":not(:checked)")&&(e("#multiple_submission").removeClass("show_input"),e("#multiple_submission").addClass("hide_input"))})),e(".mf-settings-tab .mf-setting-nav-link").on("click",(function(t){if(!e(this).hasClass("mf-setting-nav-hidden")){t.preventDefault();var o=e(this).attr("href"),i=e(o).hasClass("active");window.location.hash=o,e(this).parent().addClass("nav-tab-active").siblings().removeClass("nav-tab-active"),i||(e(".mf-settings-section").removeClass("active"),e(o).addClass("active")),i||(window.location.hash=o)}})),e(".mf-setting-nav-link").on("click",(function(t){e(this).hasClass("mf-setting-nav-hidden")?t.preventDefault():(e(this).parents(".nav-tab-wrapper").find("a").removeClass("top").removeClass("bottom"),e(this).parents("li").prev().find("a").addClass("top"),e(this).parents("li").next().find("a").addClass("bottom"))}));var B=e(".mf-settings-tab .mf-setting-nav-link").eq(1).attr("href");function H(){return e("#metform-form-modalinput-settings").attr("data-nonce")}function K(){return e("#mf_wp_rest_nonce").val()}let Z;window.location.hash&&(B=window.location.hash),e('.mf-settings-tab .mf-setting-nav-link[href="'+B+'"]').trigger("click"),e(window).on("resize.mfSettings",(function(){e(".mf-setting-sidebar").css("width",e(".mf-setting-sidebar-column").width())})).trigger("resize.mfSettings"),e(".mf-admin-single-accordion").on("click",".mf-admin-single-accordion--heading",(function(){e(this).next().slideToggle().parent().toggleClass("active").siblings().removeClass("active").find(".mf-admin-single-accordion--body").slideUp()})),e(".mf-admin-single-accordion:first-child .mf-admin-single-accordion--heading").trigger("click"),e(".mf-recaptcha-version").on("change",(function(){var t=e(this).val();e("#mf-"+t).fadeIn().siblings().hide()})),e(".mf-recaptcha-version").trigger("change"),e(".mf-form-modalinput-stripe_sandbox").on("change",(function(){var t=e(this).parents(".attr-form-group").eq(0).next(".mf-form-modalinput-stripe_sandbox_keys");e(this).is(":checked")?t.fadeIn():t.fadeOut()})),e(".mf-form-modalinput-stripe_sandbox").trigger("change"),e(document).on("click","#met_pro_aweber_authorize",(function(t){t.preventDefault();let o=e(this).closest("p.description");o.html("<span>Wait....</span>");var i=metform_api.admin_url+"admin-ajax.php",a={action:"get_aweber_authorization_url",api_key:e("#mf_aweber_dev_api_key").val(),api_sec:e("#mf_aweber_dev_api_sec").val()};e.ajax({url:i,method:"POST",data:a,headers:{"X-WP-Nonce":K()},dataType:"json",success:function(e){if(!0===e.success){let t='<a class=" button mf-setting-btn-link" href="'+e.data.url+'">Authorize The App </a>';o.html(t)}else if(e.data){let t=e.data;o.html('<span style="margin-left: 10px; background-color: transparent; border: 1px solid #E81454; color: #E81454; border-radius: 3px;padding: 1px 5px;">'+t.msg+"</span>")}},error:function(e){o.html('<span style="color: red"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e(document).on("click","#met_pro_aweber_propmpt_re_auth",(function(t){t.preventDefault(),e("#mf_aweber_dev_api_key").val("").prop("disabled",!1),e("#mf_aweber_dev_api_sec").val("").prop("disabled",!1),e(this).closest("p.description").html('<a class="button mf-setting-btn-link" id="met_pro_aweber_re_authorize"> Get Re - Authorization URL </a>')})),e(document).on("click","#met_pro_aweber_re_authorize",(function(t){t.preventDefault();let o=e(this).closest("p.description");o.html("<span>Wait....</span>");let i=e("#mf_aweber_dev_api_key").val();if(!i||i.length<1)return o.html('<span style="color: red">API Key can not be empty..</span>'),!1;var a=metform_api.admin_url+"admin-ajax.php",s={action:"get_aweber_re_authorization_url",api_key:i,api_sec:e("#mf_aweber_dev_api_sec").val()};e.ajax({url:a,method:"POST",data:s,headers:{"X-WP-Nonce":K()},dataType:"json",success:function(e){if(!0===e.success){let t=e.data;if("ok"==t.result){let e='<a class="mf-setting-btn-link" href="'+t.url+'">Authorize The App </a>';o.html(e)}else o.html("<span>"+t.msg+"</span>")}else if(e.data){let t=e.data;o.html('<span style="margin-left: 10px; background-color: transparent; border: 1px solid #E81454; color: #E81454; border-radius: 3px;padding: 1px 5px;">'+t.msg+"</span>")}},error:function(e){o.html('<span style="color: red"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e(document).on("click","#met_form_aweber_get_list",(function(t){t.preventDefault();let o=e(this),i=e("#mf_aweber_info"),a=metform_api.admin_url+"admin-ajax.php";e.ajax({url:a,method:"POST",data:{action:"get_list_lists"},headers:{"X-WP-Nonce":H()},dataType:"json",beforeSend:function(){i.html('<span style="background-color: #e5e5e5; padding: 1px 5px;">Loading</span>')},success:function(e){if(!0===e.success){let t=e.data,a=o.parent(".mf-input-help").siblings("select.mf-aweber-list-id"),s=a.find("option.mf_aweber_default_option").clone();if(a.html(s),t.lists)for(let e in t.lists)a.append('<option value="'+t.lists[e].id+'">'+t.lists[e].name+"</option>");i.html(""),o.parent(".mf-input-help").siblings("#mf-aweber-fields").html("")}else if(e.data){let t=e.data;i.html('<span style="margin-left: 10px; background-color: transparent; border: 1px solid #E81454; color: #E81454; border-radius: 3px;padding: 1px 5px;">'+t.msg+"</span>")}},error:function(e){i.html('<span style="color: red"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e(".mf-aweber-list-id").on("change",(function(){let t=e("#mf-aweber-fields"),o=e("option:selected",this).val();if(!o)return void t.html("");t.html("Please wait....");let i=e("#metform-form-modalinput-settings").attr("data-nonce"),s=e("#metform_form_modal").find("form").attr("data-mf-id"),n="";e.ajax({url:window.metform_api.resturl+"metform/v1/forms/get_fields_data/"+s,type:"get",headers:{"X-WP-Nonce":i},dataType:"json",success:function(r){n=r;let m=metform_api.admin_url+"admin-ajax.php",l={action:"get_aweber_custom_fields",selectedValue:o,formId:s,nonce:i};e.ajax({url:m,type:"post",data:l,headers:{"X-WP-Nonce":i},dataType:"json",success:function(e){let o=e.data;if("ok"===o.result&&o.custom_fields){let e,i="",s=Object.keys(n).map((function(e){return[n[e]]})),r="mf_aweber_custom_field_name_",m="mf_aweber_custom_field_label_";o.custom_fields.entries.forEach((t=>{let o;e="",s.map((i=>{o="",i[0].mf_input_name===a[r+t.id]&&(o='selected="selected"'),e+="<option value="+i[0].mf_input_name+" "+o+" >"+i[0].mf_input_label+"</option>"})),i+="<tr><td>"+t.name+'</td><td><input type="hidden" name="'+m+t.id+'" value="'+t.name+'" /><select name='+r+t.id+' class="attr-form-control">'+e+"</select></td></tr>"})),t.html('<table width="100%">'+i+"</table>")}},error:function(e){console.log("Error: "+e)}})},error:function(t){e("#mf-aweber-fields").html("Sorry ! Something went wrong")}})})),e(document).on("click","#met_form_mail_poet_get_list",(function(t){t.preventDefault();let o=e(this),i=e("#mf_mail_poet_info"),a=metform_api.admin_url+"admin-ajax.php";e.ajax({url:a,method:"POST",data:{action:"mail_poet_get_email_list_lists"},headers:{"X-WP-Nonce":H()},dataType:"json",success:function(e){if(!0===e.success){let t=e.data,a=o.closest("div.mf-mail-poet").find("select");if(a.html(""),t.lists)for(let e in t.lists)a.append('<option value="'+t.lists[e].id+'">'+t.lists[e].name+"</option>");i.html("")}else if(e.data){let t=e.data;i.html('<span style="margin-left: 10px; background-color: transparent; border: 1px solid #E81454; color: #E81454; border-radius: 3px;padding: 1px 5px;">'+t.msg+"</span>")}},error:function(e){i.html('<span style="color: red"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e(document).on("click","#met_form_ckit_get_list",(function(t){t.preventDefault();var o=metform_api.admin_url+"admin-ajax.php";let i=e(this);e.ajax({url:o,method:"POST",data:{action:"get_form_lists"},headers:{"X-WP-Nonce":H()},dataType:"json",success:function(e){if(!0===e.success){let t=e.data,o=i.closest("div.mf-ckit").find("select");o.html(""),t.forms&&t.forms.forEach((function(e){o.append('<option value="'+e.id+'">'+e.name+"</option>")}))}else alert("Error occurred when trying to check for aweber authorization.")},error:function(e){},complete:function(){}})})),e(document).on("click","#met_form_act_camp_get_list",(function(t){t.preventDefault();let o=window.metform_api.resturl+"metform-pro/v1/active-campaign/email_lists",i=H(),a=e(this),s=e("#mf_act_camp_info");e.ajax({url:o,method:"GET",data:[],headers:{"X-WP-Nonce":i},dataType:"json",success:function(e){if(!0===e.success){let t=e.data,o=a.closest("div.mf-input-group").find("select");o.html(""),t.list&&t.list.forEach((function(e){o.append('<option value="'+e.sid+'">'+e.name+"</option>")})),s.html(e.data.msg)}else s.html(e.data.msg)},error:function(e){s.html('<span style="color: red"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e(document).on("click","#met_form_act_camp_get_tags",(function(t){t.preventDefault();let o=window.metform_api.resturl+"metform-pro/v1/active-campaign/tag_lists",i=H(),a=e(this),s=e("#mf_act_camp_tag_info");e.ajax({url:o,method:"GET",data:[],headers:{"X-WP-Nonce":i},dataType:"json",success:function(e){if(!0===e.success){let t=e.data,o=a.closest("div.mf-input-group").find("select");o.html(""),t.list&&t.list.forEach((function(e){o.append('<option value="'+e.sid+'">'+e.name+"</option>")})),s.html(e.data.msg)}else s.html(e.data.msg)},error:function(e){s.html('<span style="margin-left: 10px; background-color: transparent; border: 1px solid #E81454; color: #E81454; border-radius: 3px;padding: 1px 5px;"> ajax error occurred, please check your internet connection..</span>')},complete:function(){}})})),e("#mf-helpscout-btn-token").click((function(){let t=window.metform_api.resturl+"metform/v1/forms/get_helpscout_access_token/123";e.ajax({url:t,type:"get",headers:{"X-WP-Nonce":K()},success:function(e){200==e.status&&location.reload()},error:function(e){alert("Something went wrong")}})}));let Y=[];e(".mf-settings-form-submit-btn").on("click",(function(t){t.preventDefault();let o=e(this).closest("form").serializeArray(),i={};o.forEach((function(e){i[e.name]=e.value}));let a=metform_api.admin_url+"admin-ajax.php",s={action:"metform_admin_settings",form_data:i};e.ajax({url:a,method:"POST",data:s,headers:{"X-WP-Nonce":K()},dataType:"json",success:function(t){let o=e("#changes-toaster");o.toggleClass("show"),setTimeout((function(){o.removeClass("show"),window.location.reload()}),1e3)},error:function(e){alert("Error occurred while saving settings.")}})})),e(".mf-modal-mailchimp-integration").on("click",(function(t){t.preventDefault(),e("#metform_mailchimp_modal").modal("show")})),e(".mf-modal-aweber-integration").on("click",(function(t){t.preventDefault(),e("#metform_aweber_modal").modal("show")})),e(".mf-modal-activecampaign-integration").on("click",(function(t){t.preventDefault(),e("#metform_activecampaign_modal").modal("show")})),e(".mf-modal-getresponse-integration").on("click",(function(t){t.preventDefault(),e("#metform_getresponse_modal").modal("show")})),e(".mf-modal-convertkit-integration").on("click",(function(t){t.preventDefault(),e("#metform_convertkit_modal").modal("show")})),e(".mf-modal-helpscout-integration").on("click",(function(t){t.preventDefault(),e("#metform_helpscout_modal").modal("show")})),e(".mf-modal-zoho-integration").on("click",(function(t){t.preventDefault(),e("#metform_zoho_modal").modal("show")})),e(".mf-modal-hubspot-integration").on("click",(function(t){t.preventDefault(),e("#metform_hubspot_modal").modal("show")})),e(".mf-pro-badge-wrapper").on("click",(function(e){window.open("https://wpmet.com/plugin/metform/pricing/","_blank")}))}));