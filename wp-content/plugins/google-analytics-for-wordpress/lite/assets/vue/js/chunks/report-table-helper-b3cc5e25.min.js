import{m as c,n as p}from"./vendor-c144a7d7.min.js";import{S as d}from"./SettingsInfoTooltip-dfb3c0f5.min.js";const{__:h,_n:g,sprintf:m}=wp.i18n,f={name:"ReportInfobox",components:{SettingsInfoTooltip:d},props:{title:String,value:{default:"0",type:String},compareValue:{default:"0",type:String},id:String,days:Number,tooltip:String,change:Number,color:{default:"green",type:String},direction:{default:"up",type:String}},computed:{...c({date:"$_reports/date"}),compare(){return g("vs. Previous Day",m("vs. Previous %s Days",this.days),this.days,"google-analytics-for-wordpress")},changeClass(){let r="monsterinsights-reports-infobox-prev ";return typeof this.change>"u"?r+" monsterinsights-prev-nochange":r+" monsterinsights-"+this.color},changeText(){return this.change?this.direction===""?this.change+"%":'<span class="monsterinsights-arrow monsterinsights-'+this.direction+" monsterinsights-"+this.color+'"></span> '+Math.abs(this.change)+"%":h("No change","google-analytics-for-wordpress")}}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-reports-infobox",attrs:{id:t.id}},[t.title?e("div",{staticClass:"monsterinsights-report-title",domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?e("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),t.date.compareReport?e("div",{staticClass:"monsterinsights-reports-compare-infobox"},[e("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[e("div",[e("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.value)+" ")]),e("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalText)+" ")])]),e("div",[e("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}})])]),e("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[e("div",[e("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.compareValue)+" ")]),e("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalCompareText)+" ")])])])]):e("div",{staticClass:"monsterinsights-clearfix"},[t.value!==""?e("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(t.value)}}):t._e(),t.value===""?e("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(0)}}):t._e(),e("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}}),t.days?e("div",{staticClass:"monsterinsights-reports-infobox-compare",domProps:{textContent:t._s(t.compare)}}):t._e()])],1)},C=[],v=p(f,_,C,!1,null,null,null,null);const D=v.exports,{__:n,sprintf:l}=wp.i18n,b={name:"ReportUpsellOverlay",props:{report:String,customSubheading:{type:String,default:null},forceTwoColumns:{type:Boolean,default:!1},noImage:{type:Boolean,default:!1},upgradeHref:{type:String,default:null},isAgency:{type:Boolean,default:!1},showSampleButton:{type:Boolean,default:!0}},data(){return{upgrade_link:this.$getUpgradeUrl("report",this.report),report_class:"upsell-"+this.report,showOverlay:!0}},computed:{...c({noauth:"$_reports/noauth",addons:"$_addons/addons"}),upsellData(){return this.$mi_get_upsell_content(this.report)},texts(){return{upsellButton:n("Upgrade and Unlock","google-analytics-for-wordpress"),subheading:this.customSubheading?this.customSubheading:l(n("Whatâ€™s in the %1$s?","google-analytics-for-wordpress"),this.upsellData.mainheading),footerNotice:l(n("%1$sPlus%2$s, upgrading to Pro will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about Pro%4$s","google-analytics-for-wordpress"),"<strong>","</strong>",'<a target="_blank" href="'+this.upgrade_link+'">',"</a>"),featuresCliff:n("And more!","google-analytics-for-wordpress"),seeSampleReport:n("See a Sample Report","google-analytics-for-wordpress")}},featuresClass(){return this.upsellData.features.length>4||this.forceTwoColumns?"columns-2":"columns-1"},footer_notice(){return l(n("%1$sPlus%2$s, upgrading to %5$s will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about %5$s%4$s","google-analytics-for-wordpress"),"<strong>","</strong>",'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>",this.isAgency?"Agency":"Pro")}},methods:{getUpgradeLink(){return this.upgradeHref?this.upgradeHref:this.$getUpgradeUrl("report",this.report)},isPro(){return this.$isPro()},isExceptionsAddonActive(){return this.addons&&this.addons.exceptions&&this.addons.exceptions.active},areAddonsLoaded(){return Object.keys(this.addons).length!==0&&this.addons.constructor===Object},seeSampleReport(){this.showOverlay=!1,this.$store.commit("$_reports/DISABLE_BLUR"),this.areAddonsLoaded()?this.showSampleReportMessage():this.$store.dispatch("$_addons/getAddons").then(()=>{this.showSampleReportMessage()})},showSampleReportMessage(){let r="";this.report==="exceptions"&&this.isPro()&&!this.isExceptionsAddonActive()?r=l(n("This is a sample report. %1$sInstall the Exceptions Report addon or upgrade to Agency%2$s to unlock for your website.","google-analytics-for-wordpress"),'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>"):r=l(n("This is a sample report. %1$sUpgrade to Pro%2$s to unlock for your website.","google-analytics-for-wordpress"),'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>"),this.$store.dispatch("$_app/addNotice",{id:"lite_sample_report",content:r,type:"warning",dismissable:!0},{root:!0})}},beforeDestroy(){this.$store.dispatch("$_app/removeNotice","lite_sample_report")}};var y=function(){var t=this,e=t._self._c;return!t.noauth&&t.showOverlay?e("div",{staticClass:"monsterinsights-upsell-overlay"},[e("div",{staticClass:"monsterinsights-upsell-top"},[t.upsellData.mainheading?e("h3",{domProps:{textContent:t._s(t.upsellData.mainheading)}}):t._e()]),e("div",{staticClass:"monsterinsights-upsell-content"},[e("div",{staticClass:"monsterinsights-upsell-content__features"},[t.upsellData.title?e("h3",{domProps:{textContent:t._s(t.upsellData.title)}}):t._e(),t.texts.subheading?e("h4",{domProps:{textContent:t._s(t.texts.subheading)}}):t._e(),t.upsellData.features?e("ul",{class:t.featuresClass},t._l(t.upsellData.features,function(s,o){return e("li",{key:o,domProps:{textContent:t._s(s)}})}),0):t._e(),e("div",{staticClass:"monsterinsights-upsell-content__features-cliff"},[e("p",{domProps:{innerHTML:t._s(t.texts.featuresCliff)}})]),e("p",{domProps:{innerHTML:t._s(t.footer_notice)}}),e("div",{staticClass:"monsterinsights-upsell-content-buttons"},[e("a",{staticClass:"monsterinsights-button",attrs:{href:t.getUpgradeLink(),target:"_blank"},domProps:{textContent:t._s(t.texts.upsellButton)}}),t.showSampleButton?e("a",{staticClass:"monsterinsights-upsell-content-button-sample-report",attrs:{href:"#"},domProps:{textContent:t._s(t.texts.seeSampleReport)},on:{click:function(s){return s.preventDefault(),t.seeSampleReport.apply(null,arguments)}}}):t._e()])]),t.noImage?t._e():e("div",{staticClass:"monsterinsights-upsell-content__img",class:t.report_class})])]):t._e()},w=[],$=p(b,y,w,!1,null,null,null,null);const L=$.exports,{__:i}=wp.i18n,x={name:"ReportReAuth",data(){return{text_no_auth:i("MonsterInsights encountered an error loading your report data","google-analytics-for-wordpress"),text_auth_label:i("There is an issue with your Google Account authentication. Please use the button below to fix it by re-authenticating.","google-analytics-for-wordpress"),text_button_reconnect:i("Reconnect MonsterInsights","google-analytics-for-wordpress")}},methods:{doReAuth:function(r){r.preventDefault();const t=this;this.$swal({icon:"info",title:i("Re-Authenticating","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,onOpen:function(){t.$swal.showLoading()}}),this.$store.dispatch("$_auth/doReAuth",this.is_network).then(function(e){e.data.redirect?window.location=e.data.redirect:t.$swal({icon:"error",title:i("Error","google-analytics-for-wordpress"),text:e.data.message,confirmButtonText:i("Ok","google-analytics-for-wordpress")})})}}};var R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-not-authenticated-notice"},[e("h3",{domProps:{textContent:t._s(t.text_no_auth)}}),e("p",{domProps:{textContent:t._s(t.text_auth_label)}}),e("p",[e("button",{staticClass:"monsterinsights-button",domProps:{textContent:t._s(t.text_button_reconnect)},on:{click:t.doReAuth}})])])},P=[],S=p(x,R,P,!1,null,null,null,null);const U=S.exports,T={install(r){r.mixin({methods:{tablePrepareColumnItems(t){let e=[];return Array.isArray(t)&&t.forEach(s=>{Array.isArray(s)&&s.forEach((o,a)=>{!this.date.compareReport&&a>0||e.push(o)})}),e},tableIsCurrentColumn(t){return!this.date.compareReport||t==0||t==1?!0:(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?t%3===0:t%2===0)},tableIsPreviousColumn(t){return this.date.compareReport?(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?[1,4,7,10,13,16].includes(t):[1,3,5,7,9,11,13].includes(t)):!1},tableIsChangeColumn(t,e){return t===""||!this.hasCompareChangeColumn||!this.date.compareReport?!1:(e-=this.compareSingleColumns.length,[2,5,8,11,14,17].includes(e))},tableCompareChange(t,e){let s=Number(t),o=s>0?"up":"down",a=s>0?"green":"red";return this.compareChangeOpposite.includes(e)&&(a=s<=0?"green":"red"),'<span class="monsterinsights-arrow monsterinsights-'+o+" monsterinsights-"+a+'"></span> '+Math.abs(s)+"%"},tableFormatRowData(t,e=null,s=null){if(Array.isArray(t))return t.map((o,a)=>{if(a==2)return o;let u=s?s(o):o;return e&&(u+=e),u});if(typeof t<"u"){let o=s?s(t):t;return e&&(o+=e),[o]}return["--"]}}})}};export{D as R,L as a,U as b,T as c};
