import{V as o,a as b,h as n,m as D,n as E}from"./vendor-65891c97.min.js";import{r as $,g as c,S}from"./monsterinsights-helper-plugin-12a5cd66.min.js";const{__:v,sprintf:T}=wp.i18n,P=(e,t,s,r)=>new Promise(a=>{let i=new FormData;i.append("action","monsterinsights_vue_get_report_data"),i.append("nonce",o.prototype.$mi.nonce),i.append("report",t),i.append("start",s),i.append("end",r),e.getters.date.compareReport&&(i.append("compare_report",!0),i.append("compare_end",e.getters.date.compareEnd),i.append("compare_start",e.getters.date.compareStart)),b.post(o.prototype.$mi.ajax,i).then(d=>{a(d.data)}).catch(async function(d){await $("report_fetch_error"),e.dispatch("$_app/block",!1,{root:!0});const _=o.prototype.$getUrl("admin-notices","error-verifying-license","https://www.monsterinsights.com/my-account/support");if(d.response){const h=d.response;return o.prototype.$mi_error_toast({title:T(v("Can't load report data. Error: %1$s, %2$s. Please try again in a few minutes. If the issue persists, please %3$scontact our support%4$s team.","google-analytics-for-wordpress"),h.status,h.statusText,'<a target="_blank" href="'+_+'">',"</a>")})}o.prototype.$swal.hideLoading(),o.prototype.$mi_error_toast({allowOutsideClick:!0,allowEscapeKey:!0,title:v("Error loading report data","google-analytics-for-wordpress"),html:d.message})})}),B=e=>{if(typeof e<"u"){const t=parseInt(e.toString().replace(".",""),10);return t.toString().length===1?parseInt(t===1?t+"00":t+"0"):t}},U=e=>{if(typeof e<"u"){let t={};return Object.keys(e).forEach(function(s){let r=s.toString().split("-").join("_");t[r]=e[s]}),t}},O=e=>new Promise((t,s)=>{const r=new FormData;r.append("action","monsterinsights_vue_capture_last_used_report"),r.append("report",e),r.append("nonce",o.prototype.$mi.nonce),b.post(o.prototype.$mi.ajax,r).then(a=>{t(a.data)}).catch(async function(a){await $("report_capture_error"),s(a)})}),k=e=>new Promise(t=>{let s=new FormData;s.append("action","monsterinsights_vue_get_overview_bundle"),s.append("nonce",o.prototype.$mi.nonce),s.append("start",e.state.date.start),s.append("end",e.state.date.end),e.getters.date.compareReport&&(s.append("compare_report",!0),s.append("compare_end",e.getters.date.compareEnd),s.append("compare_start",e.getters.date.compareStart)),b.post(o.prototype.$mi.ajax,s).then(r=>{t(r.data)}).catch(async function(r){await $("overview_bundle_fetch_error"),e.dispatch("$_app/block",!1,{root:!0});const a=o.prototype.$getUrl("admin-notices","error-verifying-license","https://www.monsterinsights.com/my-account/support");if(r.response){const i=r.response;return o.prototype.$mi_error_toast({title:T(v("Can't load overview data. Error: %1$s, %2$s. Please try again in a few minutes. If the issue persists, please %3$scontact our support%4$s team.","google-analytics-for-wordpress"),i.status,i.statusText,'<a target="_blank" href="'+a+'">',"</a>")})}o.prototype.$swal.hideLoading(),o.prototype.$mi_error_toast({allowOutsideClick:!0,allowEscapeKey:!0,title:v("Error loading overview data","google-analytics-for-wordpress"),html:r.message})})}),A={fetchReportData:P,getFormattedScore:B,keysReplaceHyphensWithUnderscores:U,captureLastUsedReport:O,fetchOverviewBundle:k},{__:l,sprintf:w}=wp.i18n,I=(e,t)=>{const s=["overview","site_summary","yearinreview"];return!o.prototype.$isPro()&&!s.includes(t)?null:new Promise(r=>{if(!o.prototype.$mi.authed)return r(!1),e.commit("ENABLE_BLUR"),e.commit("ENABLE_NOAUTH"),!1;if(e.state.reload_report===!1&&e.state[t]&&e.state[t].reportcurrentrange&&!e.state.date.compareReport&&e.state[t].reportcurrentrange.startDate===e.state.date.start&&e.state[t].reportcurrentrange.endDate===e.state.date.end)return r(!1),e.commit("DISABLE_BLUR"),!1;o.prototype.$mi_loading_toast(),e.commit("ENABLE_BLUR"),e.dispatch("$_queue/add",()=>A.fetchReportData(e,t,e.state.date.start,e.state.date.end).then(function(a){if(e.commit("SET_IS_LOADED"),a.data.message==="license_level"){u(e),r(!1);return}if(a.success)u(e),e.commit("DISABLE_BLUR"),e.commit("UPDATE_REPORT_DATA",{report:t,data:a.data}),r(!0);else{if(a.data.message==="invalid_grant"){u(e),r(!1),e.commit("ENABLE_REAUTH");return}if(a.data.footer&&a.data.footer==="install_addon"){let i=e.state.required_addon?e.state.required_addon:t;M(e,i).then(function(d){e.rootState.$_widget&&(e.commit("DISABLE_BLUR"),e.commit("$_widget/UPDATE_LOADED",!0,{root:!0}));let _=l(d?"activate":"install","google-analytics-for-wordpress");o.prototype.$mi_error_toast({title:!1,html:w(a.data.message,_),footer:'<a href="'+o.prototype.$mi.addons_url+'">'+l("Visit addons page","google-analytics-for-wordpress")+"</a>",report:t}),o.prototype.$swal({icon:"error",customClass:{container:"monsterinsights-swal"},title:l("Report Unavailable","google-analytics-for-wordpress"),html:w(a.data.message,_),allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!1,showCancelButton:!0,confirmButtonText:w(l("%s Addon","google-analytics-for-wordpress"),_.charAt(0).toUpperCase()+_.slice(1)),cancelButtonText:l("Dismiss","google-analytics-for-wordpress")}).then(function(h){h.value&&(d?C(e,e.rootState.$_addons.addons[i]):L(e,i))})})}else a.data.footer&&a.data.footer.indexOf("#/ecommerce")>0?(r(!1),o.prototype.$mi_error_toast({title:!1,html:a.data.message,report:t,showCancelButton:!0,cancelButtonText:l("Go Back To Reports","google-analytics-for-wordpress"),confirmButtonText:l("Enable Enhanced eCommerce","google-analytics-for-wordpress")}).then(function(i){i.value&&(window.location=a.data.footer)})):a.data.type&&a.data.type==="expired_license"?(r(!1),o.prototype.$mi_error_toast({type:"",customClass:{container:"monsterinsights-expired-license-alert-toast"},confirmButtonText:"",title:!1,html:a.data.message,footer:a.data.footer,report:t})):(r(!1),o.prototype.$mi_error_toast({title:!1,html:a.data.message,footer:a.data.footer,report:t,onClose:()=>{if(!a.data.type||a.data.type!=="INVALID_DATE_RANGE"||e.state.date==="last30days")return;const i=o.prototype.$mi_intervals().last30days;e.commit("UPDATE_INTERVAL","last30days"),e.commit("UPDATE_DATE",{start:i.start.format("YYYY-MM-DD"),end:i.end.format("YYYY-MM-DD")}),e.dispatch("getReportData",e.state.activeReport)}}))}}),{root:!0})})};function M(e,t){return new Promise(function(s){e.dispatch("$_addons/getAddons","",{root:!0}).then(function(){e.rootState.$_addons.addons[t]&&e.rootState.$_addons.addons[t].installed?s(!0):s(!1)}).catch(function(){s(!1),R()})})}function L(e,t){o.prototype.$swal({icon:"info",customClass:{container:"monsterinsights-swal"},title:l("Installing Addon","google-analytics-for-wordpress"),html:l("Please wait","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){o.prototype.$swal.showLoading(),e.dispatch("$_addons/installAddon",e.rootState.$_addons.addons[t],{root:!0}).then(function(){C(e,e.rootState.$_addons.addons[t])}).catch(function(){R()})}})}function C(e,t){o.prototype.$swal({icon:"info",customClass:{container:"monsterinsights-swal"},title:l("Activating Addon","google-analytics-for-wordpress"),html:l("Please wait","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){o.prototype.$swal.showLoading()}}),e.dispatch("$_addons/activateAddon",t,{root:!0}).then(function(){o.prototype.$swal({icon:"info",customClass:{container:"monsterinsights-swal"},title:l("Addon Activated","google-analytics-for-wordpress"),html:l("Loading report data","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){o.prototype.$swal.showLoading(),setTimeout(function(){window.location.reload()},1e3)}})}).catch(function(s){R(s)})}function R(e){let t=l("Please activate manually","google-analytics-for-wordpress");e.response&&(t=w(l("Error: %1$s, %2$s","google-analytics-for-wordpress"),e.response.status,e.response.statusText)),o.prototype.$swal({icon:"error",customClass:{container:"monsterinsights-swal"},title:l("Error Activating Addon","google-analytics-for-wordpress"),html:t,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,showCancelButton:!0,confirmButtonText:l("View Addons","google-analytics-for-wordpress"),cancelButtonText:l("Dismiss","google-analytics-for-wordpress")}).then(function(s){s.value&&(window.location=o.prototype.$mi.addons_url,o.prototype.$swal({icon:"info",customClass:{container:"monsterinsights-swal"},title:l("Redirecting","google-analytics-for-wordpress"),html:l("Please wait","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){o.prototype.$swal.showLoading()}}))})}function u(e){e.rootState.$_widget||typeof o.prototype.$swal=="function"&&o.prototype.$swal.close()}const N=(e,t)=>{A.captureLastUsedReport(t)},Y=e=>new Promise(t=>{if(!o.prototype.$mi.authed)return t(!1),e.commit("ENABLE_BLUR"),e.commit("ENABLE_NOAUTH"),!1;const s=e.state.reload_report===!1&&e.state.overview&&e.state.overview.reportcurrentrange&&!e.state.date.compareReport,r=e.state.site_summary&&e.state.site_summary.reportcurrentrange;if(s&&r){const a=e.state.overview.reportcurrentrange.startDate===e.state.date.start&&e.state.overview.reportcurrentrange.endDate===e.state.date.end,i=e.state.site_summary.reportcurrentrange.startDate===e.state.date.start&&e.state.site_summary.reportcurrentrange.endDate===e.state.date.end;if(a&&i)return t(!1),e.commit("DISABLE_BLUR"),!1}o.prototype.$mi_loading_toast(),e.commit("ENABLE_BLUR"),e.dispatch("$_queue/add",()=>A.fetchOverviewBundle(e).then(function(a){if(e.commit("SET_IS_LOADED"),a.data.message==="license_level"){u(e),t(!1);return}if(a.success&&a.data)u(e),e.commit("DISABLE_BLUR"),a.data.overview&&e.commit("UPDATE_REPORT_DATA",{report:"overview",data:a.data.overview}),a.data.site_summary&&e.commit("UPDATE_REPORT_DATA",{report:"site_summary",data:a.data.site_summary}),a.data.user_metrics&&e.commit("$_settings/UPDATE_INCLUDED_METRICS",a.data.user_metrics,{root:!0}),t(!0);else{if(a.data.message==="invalid_grant"){u(e),t(!1),e.commit("ENABLE_REAUTH");return}t(!1),o.prototype.$mi_error_toast({title:!1,html:a.data.message,footer:a.data.footer,report:"overview"})}}),{root:!0})}),K={getReportData:I,installAddon:L,activateAddon:C,captureLastUsedReport:N,getOverviewBundle:Y,maybeCloseSwal:u},H=e=>e.yearinreview_data,q=e=>e.activeReport,V=e=>e.isLoaded,x=e=>e.blur,j=e=>e.mobileTableExpanded,F=e=>e.overview,G=e=>e.site_summary,W=e=>e.publisher,X=e=>e.ecommerce,z=e=>e.ecommerce_coupons,Q=e=>e.ecommerce_funnel,J=e=>e.cart_abandonment,Z=e=>e.ecommerce_product_feed,ee=e=>e.queries,te=e=>e.dimensions,se=e=>e.forms,ae=e=>e.realtime,re=e=>e.yearinreview,oe=e=>e.sitespeed,ne=e=>e.sitespeedmobile,ie=e=>e.noauth,ce=e=>e.reauth,le=e=>e.media,de=e=>e.countries,pe=e=>e.traffic_overview,me=e=>e.traffic_landing_pages,ue=e=>e.traffic_technology,_e=e=>e.traffic_campaign,fe=e=>e.traffic_source_medium,ge=e=>e.traffic_social,he=e=>e.traffic_ai,ye=e=>e.engagement_pages,we=e=>e.custom_events,ve=e=>e.ecommerce_purchases_by_location,be=e=>e.ecommerce_spend_by_day,Ee=e=>e.ecommerce_spend_by_hour,$e=e=>e.ecommerce_refunds,Ae=e=>e.ecommerce_refunds_by_geo,Ce=()=>c("overview"),Re=()=>c("ecommerce"),De=()=>c("ecommerce_coupons"),Te=()=>c("cart_abandonment"),Le=()=>c("dimensions"),Se=()=>c("countries"),Pe=()=>c("traffic_overview"),Be=()=>c("traffic_technology"),Ue=()=>c("traffic_landing_pages"),Oe=()=>c("traffic_campaign"),ke=()=>c("traffic_source_medium"),Ie=()=>c("traffic_social"),Me=()=>c("traffic_ai"),Ne=()=>c("publisher"),Ye=()=>c("engagement_pages"),Ke=()=>c("queries"),He=()=>c("forms"),qe=()=>c("realtime"),Ve=()=>c("sitespeed"),xe=()=>c("media"),je=()=>c("ecommerce_funnel"),Fe=()=>c("ecommerce_product_feed"),Ge=()=>c("custom_events"),We=()=>c("ecommerce_purchases_by_location"),Xe=()=>c("ecommerce_spend_by_day"),ze=()=>c("ecommerce_spend_by_hour"),Qe=()=>c("ecommerce_refunds"),Je=()=>c("ecommerce_refunds_by_geo");function y(e,t){return e.format("YYYYMMDD")===t.format("YYYYMMDD")?e.format("MMM D, YYYY"):e.format("MMM D")+" - "+t.format("MMM D, YYYY")}function Ze(e){let t=e.date,s=o.prototype.$mi_intervals();if(s[t.interval]){let r=s[t.interval];t.intervalText=y(r.start,r.end),t.intervalCompareText=y(r.compareStart,r.compareEnd)}else t.intervalText=y(n(t.start),n(t.end)),t.intervalCompareText=y(n(t.compareStart),n(t.compareEnd));return t}const et={yearinreview_data:H,date:Ze,activeReport:q,isLoaded:V,blur:x,mobileTableExpanded:j,overview:F,publisher:W,ecommerce:X,ecommerce_coupons:z,ecommerce_funnel:Q,cart_abandonment:J,ecommerce_product_feed:Z,queries:ee,dimensions:te,forms:se,realtime:ae,noauth:ie,yearinreview:re,reauth:ce,sitespeed:oe,sitespeedmobile:ne,site_summary:G,media:le,countries:de,traffic_overview:pe,traffic_landing_pages:me,traffic_technology:ue,traffic_campaign:_e,traffic_source_medium:fe,traffic_social:ge,traffic_ai:he,engagement_pages:ye,custom_events:we,demo_overview:Ce,demo_ecommerce:Re,demo_ecommerce_coupons:De,demo_cart_abandonment:Te,demo_dimensions:Le,demo_countries:Se,demo_traffic_overview:Pe,demo_traffic_technology:Be,demo_traffic_landing_pages:Ue,demo_traffic_campaign:Oe,demo_traffic_source_medium:ke,demo_traffic_social:Ie,demo_traffic_ai:Me,demo_publisher:Ne,demo_engagement_pages:Ye,demo_queries:Ke,demo_forms:He,demo_realtime:qe,demo_sitespeed:Ve,demo_media:xe,demo_ecommerce_funnel:je,demo_ecommerce_product_feed:Fe,demo_custom_events:Ge,ecommerce_purchases_by_location:ve,ecommerce_spend_by_day:be,ecommerce_spend_by_hour:Ee,ecommerce_refunds:$e,ecommerce_refunds_by_geo:Ae,demo_ecommerce_purchases_by_location:We,demo_ecommerce_spend_by_day:Xe,demo_ecommerce_spend_by_hour:ze,demo_ecommerce_refunds:Qe,demo_ecommerce_refunds_by_geo:Je},tt=(e,t)=>{t.report&&t.data&&e[t.report]&&o.set(e,t.report,t.data)},st=(e,t)=>{t.start&&t.end&&(o.set(e.date,"start",t.start),o.set(e.date,"end",t.end))},at=(e,t)=>{o.set(e.date,"interval",t)},rt=(e,t)=>{o.set(e.date,"text",t)},ot=(e,t)=>{e.activeReport=t},nt=e=>{e.isLoaded=!0},it=e=>{e.blur=!0},ct=e=>{e.blur=!1},lt=e=>{e.mobileTableExpanded=!0},dt=e=>{e.mobileTableExpanded=!1},pt=e=>{e.noauth=!0},mt=e=>{e.reauth=!0},ut=e=>{e.reload_report=!0},_t=e=>{e.reload_report=!1},ft=(e,t)=>{e.required_addon=t},gt=(e,t)=>{e.date={...e.date,...t}},ht={UPDATE_REPORT_DATA:tt,UPDATE_DATE:st,UPDATE_ACTIVE_REPORT:ot,UPDATE_INTERVAL:at,UPDATE_DATE_TEXT:rt,SET_IS_LOADED:nt,ENABLE_BLUR:it,DISABLE_BLUR:ct,EXPAND_TABLES:lt,CONTRACT_TABLES:dt,ENABLE_NOAUTH:pt,ENABLE_REAUTH:mt,UPDATE_REQUIRED_ADDON:ft,UPDATE_DATE_STORE:gt,ENABLE_REPORT_RELOAD:ut,DISABLE_REPORT_RELOAD:_t},yt={yearinreview_data:window.monsterinsights.yearinreview,date:{start:"",end:"",interval:"last30days",text:"",compareText:"",compareReport:!1,compareStart:"",compareEnd:""},blur:!1,activeReport:"overview",mobileTableExpanded:!1,overview:{},site_summary:{},publisher:{},ecommerce:{},ecommerce_coupons:{},ecommerce_funnel:{funnel_table:{none:[]},funnel_chart:[]},cart_abandonment:{},queries:{},dimensions:{},forms:{},realtime:{},yearinreview:{},sitespeed:{},sitespeedmobile:{},noauth:!1,reauth:!1,isLoaded:!1,media:{line_chart_report:{},video_details_rows:[]},countries:{},traffic_overview:{},traffic_landing_pages:{},traffic_technology:{},traffic_campaign:{},traffic_source_medium:{},traffic_social:{sessions_chart:{}},traffic_ai:{sessions_chart:{},ai_table:[]},engagement_pages:{},required_addon:null,reload_report:!1,ecommerce_product_feed:{},custom_events:{sessions_chart:{}},ecommerce_purchases_by_location:{country:[],state:[],city:[]},ecommerce_spend_by_day:{transactions_chart:{},spending_list:[]},ecommerce_spend_by_hour:{transactions_chart:{},spending_list:[]},ecommerce_refunds:{refunds_chart:{},refunds_list:[]},ecommerce_refunds_by_geo:{country:[],state:[],city:[]}},It={namespaced:!0,state:yt,actions:K,getters:et,mutations:ht},{__:wt,_n:vt,sprintf:bt}=wp.i18n,Et={name:"ReportInfobox",components:{SettingsInfoTooltip:S},props:{title:String,value:{default:"0",type:String},compareValue:{default:"0",type:String},id:String,days:Number,tooltip:String,change:Number,color:{default:"green",type:String},direction:{default:"up",type:String}},computed:{...D({date:"$_reports/date"}),compare(){return vt("vs. Previous Day",bt("vs. Previous %s Days",this.days),this.days,"google-analytics-for-wordpress")},changeClass(){let e="monsterinsights-reports-infobox-prev ";return typeof this.change>"u"?e+" monsterinsights-prev-nochange":e+" monsterinsights-"+this.color},changeText(){return this.change?this.direction===""?this.change+"%":'<span class="monsterinsights-arrow monsterinsights-'+this.direction+" monsterinsights-"+this.color+'"></span> '+Math.abs(this.change)+"%":wt("No change","google-analytics-for-wordpress")}}};var $t=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-reports-infobox",attrs:{id:t.id}},[t.title?s("div",{staticClass:"monsterinsights-report-title",domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?s("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),t.date.compareReport?s("div",{staticClass:"monsterinsights-reports-compare-infobox"},[s("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[s("div",[s("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.value)+" ")]),s("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalText)+" ")])]),s("div",[s("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}})])]),s("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[s("div",[s("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.compareValue)+" ")]),s("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalCompareText)+" ")])])])]):s("div",{staticClass:"monsterinsights-clearfix"},[t.value!==""?s("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(t.value)}}):t._e(),t.value===""?s("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(0)}}):t._e(),s("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}}),t.days?s("div",{staticClass:"monsterinsights-reports-infobox-compare",domProps:{textContent:t._s(t.compare)}}):t._e()])],1)},At=[],Ct=E(Et,$t,At,!1,null,null,null,null);const Mt=Ct.exports,{__:p,sprintf:g}=wp.i18n,Rt={name:"ReportUpsellOverlay",props:{report:String,customSubheading:{type:String,default:null},forceTwoColumns:{type:Boolean,default:!1},noImage:{type:Boolean,default:!1},upgradeHref:{type:String,default:null},isAgency:{type:Boolean,default:!1},showSampleButton:{type:Boolean,default:!0}},data(){return{upgrade_link:this.$getUpgradeUrl("report",this.report),report_class:"upsell-"+this.report,showOverlay:!0}},computed:{...D({noauth:"$_reports/noauth",addons:"$_addons/addons"}),upsellData(){return this.$mi_get_upsell_content(this.report)},texts(){return{upsellButton:p("Upgrade and Unlock","google-analytics-for-wordpress"),subheading:this.customSubheading?this.customSubheading:g(p("Whatâ€™s in the %1$s?","google-analytics-for-wordpress"),this.upsellData.mainheading),footerNotice:g(p("%1$sPlus%2$s, upgrading to Pro will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about Pro%4$s","google-analytics-for-wordpress"),"<strong>","</strong>",'<a target="_blank" href="'+this.upgrade_link+'">',"</a>"),featuresCliff:p("And more!","google-analytics-for-wordpress"),seeSampleReport:p("See a Sample Report","google-analytics-for-wordpress")}},featuresClass(){return this.upsellData.features.length>4||this.forceTwoColumns?"columns-2":"columns-1"},footer_notice(){return g(p("%1$sPlus%2$s, upgrading to %5$s will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about %5$s%4$s","google-analytics-for-wordpress"),"<strong>","</strong>",'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>",this.isAgency?"Agency":"Pro")}},methods:{getUpgradeLink(){return this.upgradeHref?this.upgradeHref:this.$getUpgradeUrl("report",this.report)},isPro(){return this.$isPro()},isExceptionsAddonActive(){return this.addons&&this.addons.exceptions&&this.addons.exceptions.active},areAddonsLoaded(){return Object.keys(this.addons).length!==0&&this.addons.constructor===Object},seeSampleReport(){this.showOverlay=!1,this.$store.commit("$_reports/DISABLE_BLUR"),this.areAddonsLoaded()?this.showSampleReportMessage():this.$store.dispatch("$_addons/getAddons").then(()=>{this.showSampleReportMessage()})},showSampleReportMessage(){let e="";this.report==="exceptions"&&this.isPro()&&!this.isExceptionsAddonActive()?e=g(p("This is a sample report. %1$sInstall the Exceptions Report addon or upgrade to Agency%2$s to unlock for your website.","google-analytics-for-wordpress"),'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>"):e=g(p("This is a sample report. %1$sUpgrade to Pro%2$s to unlock for your website.","google-analytics-for-wordpress"),'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>"),this.$store.dispatch("$_app/addNotice",{id:"lite_sample_report",content:e,type:"warning",dismissable:!0},{root:!0})}},beforeDestroy(){this.$store.dispatch("$_app/removeNotice","lite_sample_report")}};var Dt=function(){var t=this,s=t._self._c;return!t.noauth&&t.showOverlay?s("div",{staticClass:"monsterinsights-upsell-overlay"},[s("div",{staticClass:"monsterinsights-upsell-top"},[t.upsellData.mainheading?s("h3",{domProps:{textContent:t._s(t.upsellData.mainheading)}}):t._e()]),s("div",{staticClass:"monsterinsights-upsell-content"},[s("div",{staticClass:"monsterinsights-upsell-content__features"},[t.upsellData.title?s("h3",{domProps:{textContent:t._s(t.upsellData.title)}}):t._e(),t.texts.subheading?s("h4",{domProps:{textContent:t._s(t.texts.subheading)}}):t._e(),t.upsellData.features?s("ul",{class:t.featuresClass},t._l(t.upsellData.features,function(r,a){return s("li",{key:a,domProps:{textContent:t._s(r)}})}),0):t._e(),s("div",{staticClass:"monsterinsights-upsell-content__features-cliff"},[s("p",{domProps:{innerHTML:t._s(t.texts.featuresCliff)}})]),s("p",{domProps:{innerHTML:t._s(t.footer_notice)}}),s("div",{staticClass:"monsterinsights-upsell-content-buttons"},[s("a",{staticClass:"monsterinsights-button",attrs:{href:t.getUpgradeLink(),target:"_blank"},domProps:{textContent:t._s(t.texts.upsellButton)}}),t.showSampleButton?s("a",{staticClass:"monsterinsights-upsell-content-button-sample-report",attrs:{href:"#"},domProps:{textContent:t._s(t.texts.seeSampleReport)},on:{click:function(r){return r.preventDefault(),t.seeSampleReport.apply(null,arguments)}}}):t._e()])]),t.noImage?t._e():s("div",{staticClass:"monsterinsights-upsell-content__img",class:t.report_class})])]):t._e()},Tt=[],Lt=E(Rt,Dt,Tt,!1,null,null,null,null);const Nt=Lt.exports,{__:f}=wp.i18n,St={name:"ReportReAuth",data(){return{text_no_auth:f("MonsterInsights encountered an error loading your report data","google-analytics-for-wordpress"),text_auth_label:f("There is an issue with your Google Account authentication. Please use the button below to fix it by re-authenticating.","google-analytics-for-wordpress"),text_button_reconnect:f("Reconnect MonsterInsights","google-analytics-for-wordpress")}},methods:{doReAuth:function(e){e.preventDefault();const t=this;this.$swal({icon:"info",title:f("Re-Authenticating","google-analytics-for-wordpress"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,onOpen:function(){t.$swal.showLoading()}}),this.$store.dispatch("$_auth/doReAuth",this.is_network).then(function(s){s.data.redirect?window.location=s.data.redirect:t.$swal({icon:"error",title:f("Error","google-analytics-for-wordpress"),text:s.data.message,confirmButtonText:f("Ok","google-analytics-for-wordpress")})})}}};var Pt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-not-authenticated-notice"},[s("h3",{domProps:{textContent:t._s(t.text_no_auth)}}),s("p",{domProps:{textContent:t._s(t.text_auth_label)}}),s("p",[s("button",{staticClass:"monsterinsights-button",domProps:{textContent:t._s(t.text_button_reconnect)},on:{click:t.doReAuth}})])])},Bt=[],Ut=E(St,Pt,Bt,!1,null,null,null,null);const Yt=Ut.exports,{__:m}=wp.i18n,Kt={today:{text:m("Today","google-analytics-for-wordpress"),start:n(),end:n(),interval:"today",compareStart:n().subtract(1,"days"),compareEnd:n().subtract(1,"days")},yesterday:{text:m("Yesterday","google-analytics-for-wordpress"),start:n().subtract(1,"days"),end:n().subtract(1,"days"),interval:"yesterday",compareStart:n().subtract(2,"days"),compareEnd:n().subtract(2,"days")},lastweek:{text:m("Last Week","google-analytics-for-wordpress"),end:n().startOf("week"),start:n().startOf("week").subtract(6,"days"),interval:"lastweek",compareStart:n().startOf("week").subtract(13,"days"),compareEnd:n().startOf("week").subtract(7,"days")},lastmonth:{text:m("Last Month","google-analytics-for-wordpress"),end:n().startOf("month").subtract(1,"days"),start:n().startOf("month").subtract(1,"month"),interval:"lastmonth",compareStart:n().startOf("month").subtract(2,"month"),compareEnd:n().startOf("month").subtract(1,"month").subtract(1,"days")},last7days:{text:m("Last 7 days","google-analytics-for-wordpress"),end:n().subtract(1,"days"),start:n().subtract(7,"days"),interval:"last7days",compareStart:n().subtract(14,"days"),compareEnd:n().subtract(8,"days")},last30days:{text:m("Last 30 days","google-analytics-for-wordpress"),end:n().subtract(1,"days"),start:n().subtract(30,"days"),interval:"last30days",compareStart:n().subtract(60,"days"),compareEnd:n().subtract(31,"days")},last90days:{text:m("Last 90 days","google-analytics-for-wordpress"),end:n().subtract(1,"days"),start:n().subtract(90,"days"),interval:"last90days",compareStart:n().subtract(180,"days"),compareEnd:n().subtract(91,"days")}},Ht={install(e){e.mixin({methods:{tablePrepareColumnItems(t){let s=[];return Array.isArray(t)&&t.forEach(r=>{Array.isArray(r)&&r.forEach((a,i)=>{!this.date.compareReport&&i>0||s.push(a)})}),s},tableIsCurrentColumn(t){return!this.date.compareReport||t==0||t==1?!0:(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?t%3===0:t%2===0)},tableIsPreviousColumn(t){return this.date.compareReport?(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?[1,4,7,10,13,16].includes(t):[1,3,5,7,9,11,13].includes(t)):!1},tableIsChangeColumn(t,s){return t===""||!this.hasCompareChangeColumn||!this.date.compareReport?!1:(s-=this.compareSingleColumns.length,[2,5,8,11,14,17].includes(s))},tableCompareChange(t,s){let r=Number(t),a=r>0?"up":"down",i=r>0?"green":"red";return this.compareChangeOpposite.includes(s)&&(i=r<=0?"green":"red"),'<span class="monsterinsights-arrow monsterinsights-'+a+" monsterinsights-"+i+'"></span> '+Math.abs(r)+"%"},tableFormatRowData(t,s=null,r=null){if(Array.isArray(t))return t.map((a,i)=>{if(i==2)return a;let d=r?r(a):a;return s&&(d+=s),d});if(typeof t<"u"){let a=r?r(t):t;return s&&(a+=s),[a]}return["--"]}}})}};export{Kt as D,Mt as R,Nt as a,C as b,Yt as c,It as d,Ht as e,A as h,L as i};
